|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 1/136|

# – GVK_UC_H06  HUB A ért e sítések kezelése RÉSZLETES RENDSZERTERV
## 2025. április 4.
### V1.32


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 2/136|

#### **Dokumentum történet **

Kidolgozó változtatások követése






|Verzió|Dátum|Változtatás leírása / megjegyzések|Kidolgozta, módosította|Col5|
|---|---|---|---|---|
||||Név|Állapot|
|1.0|2024.06.03.|Létrehozás #89258 - H06_01 - Értesítési beállítások kezelése ablak kialakítása|Hutter Julianna|Ellenőrizhető|
|1.1|2024.07.04|#89269 - H06_01A - Értesítésfogadók beállításai lapfül és grid kialakítása|Hutter Julianna|Ellenőrizhető|
|1.2|2024.07.08|#89281 - H06_02 - Értesítésfogadók beállításaiban keresés ablak kialakítása|Hutter Julianna|Ellenőrizhető|
|1.3|2024.08.02|#89331 - H06_03 - Értesítésfogadó beállítások oszlopmegjelenítési beállítása ablak kialakítása|Hutter Julianna|Ellenőrizhető|
|1.4|2024.08.06|#89356 - H06_05 - Értesítési csoport ablak kialakítása #89431 - H06_01A - Értesítési csoport nyomógomb kezelése|Hutter Julianna|Ellenőrizhető|
|1.5|2024.08.09|#91979 - H06_01, H06_09 - Egyéb szervezetek kezelése|Hutter Julianna|Ellenőrizhető|
|1.6|2024.08.14 2024.09.04|#89384 - H06_01A - Új értesítésfogadó nyomógomb kezelése|Hutter Julianna|Ellenőrizhető|
|1.7|2024.08.23|#89347 - H06_04 - Értesítésfogadó adatai ablak kialakítása|Hutter Julianna|Ellenőrizhető|
|1.8|2024.09.09|#89410 - H06_01A, H06_07 - Értesítésfogadó fel-/leiratkozása nyomógomb kezelése|Vörös Gábor|Ellenőrizhető|
|1.9|2024.09.10|#89393 - H06_01A - Értesítésfogadó szerkesztése/megtekintése nyomógomb kezelése|Hutter Julianna|Ellenőrizhető|
|1.10|2024.09.11|#89405 - H06_01A - Értesítésfogadó törlése nyomógomb kezelése|Hutter Julianna|Ellenőrizhető|
|1.11|2024.09.11|#89448 - H06_06 - Bejegyzés értesítései ablak kialakítása|Hutter Julianna|Ellenőrizhető|
|1.12|2024.09.12|#92554 - H06_01A - Értesítésfogadó beállítások véglegesítése|Hutter Julianna|Ellenőrizhető|
|1.13|2024.09.16|#89479 - H06_06A - Értesítések lapfül kialakítása|Hutter Julianna|Ellenőrizhető|
|1.14|2024.09.20|#89281 - H06_02 - Értesítésfogadók beállításaiban keresés ablak kialakítása #92554 - H06_01A - Értesítésfogadó beállítások véglegesítése|Hutter Julianna|Ellenőrizhető|
|1.15|2024.10.07|#89483 - H06_06A - Értesítés megtekintésének kezelése|Hutter Julianna|Ellenőrizhető|
|1.16|2024.10.16|#94940 - GVK - HUBA - Egység átnevezése Szervezeti egységre|Hutter Julianna|Ellenőrizhető|
|1.17|2024.11.05|#89651 - H06_06A - Értesítendő törlése nyomógomb kezelése|Hutter Julianna|Ellenőrizhető|
|1.18|2024.11.11|#95573 - HUBA - H06_01 fel-le iratkozás bővítése +1 operandussal|Vörös Gábor|Ellenőrizhető|
|1.19|2024.11.12|#95363 - H06_06A - Értesítés rögzítésben jogosultsági szűrés, listában sorbarendezés|Hutter Julianna|Ellenőrizhető|


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 3/136|


|1.20|2025.01.02|#96101 - GVK - H06_06A - Értesítés mentésének kezelése lezárt bejegyzésnél|Hutter Julianna|Ellenőrizhető|
|---|---|---|---|---|
|1.21|2025.01.07|#89642 - H06_06A - Értesítendők listájának manuális bővítése|Hutter Julianna|Ellenőrizhető|
|1.22|2025.01.08|#89704 - H06_06B - Értesítési napló lapfül kialakítása|Hutter Julianna|Folyamatban|
|1.23|2025.01.15|#98217 - GVK - H06_06A - Értesítés másolásakor értesítési szint figyelése|Hutter Julianna|Ellenőrizhető|
|1.23|2025.01.21|#98613 - HUBA - Global AD-ból keresés 3 karakter megadását követően - első 3 karakter|Kovács Eszter|Ellenőrizhető|
|1.24|2025.01.22|#98672 - GVK - Értesítésfogadóra keresés, név mentése - módosítás|Hutter Julianna|Ellenőrizhető|
|1.25|2025.01.29|#99030 - H06_06 ablak - Értesítendő kiválasztása - hiba|Hutter Julianna|Ellenőrizhető|
|1.26|2025.02.04|#99167 - GVK - H06_06 aláíró visszaadása az S65-ben (getErtesitesAdat)|Hutter Julianna|Ellenőrizhető|
|1.27|2025.02.06|#97450 - HUBA - szabad szöveges beviteli mezők max hossz hiba|Hutter Julianna|Ellenőrizhető|
|1.28|2025.02.06.|#92775 - DB mentés sikertelenségéről felhasználó tájékoztatása|Kovács Eszter|Ellenőrizhető|
|1.29|2025.02.18|#99383 - GVK - H06-os Értesítésfogadó ablakok kialakításának befejezése (QA)|Hutter Julianna|Ellenőrizhető|
|1.30|2025.02.28|#99440 – Összes HUBA ablakon megjelenő üzenet egységesítése|Kovács Eszter|Folyamatban|
|1.31|2025.03.05|#89696 - H06_08 - Hívás eredménye ablak kialakítása #89705 - H06_06B - Telefonszámra kattintás kezelése|Hutter Julianna|Ellenőrizhető|
|1.32|2025.04.04|#89704 - H06_06B - Értesítési napló lapfül kialakítása|Hutter Julianna|Ellenőrizhető|


MÁV SZK Ellenőrzések követése



|Verzió|Dátum|Változtatás leírása / megjegyzések|Kidolgozta, módosította|Col5|
|---|---|---|---|---|
||||Név|Állapot|
|1.0|2024.|Ellenőrzés|||
||||||
||||||
||||||


MÁV Engedélyeztetés követése/ eredmény átvétele

|Verzió|Dátum|Változtatás leírása / megjegyzések|Név|Aláírás|
|---|---|---|---|---|
||2024.|MÁV igényeknek megfelel|Herczog Ákos||
||||||
||||||
||||||


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 4/136|

#### **1. Általános ismertetés ** **1.1. A használati eset modulkapcsolatai **
##### **Szolgáltatások leírásának elérhetősége:** GVK_webalkalmazás_szolgáltatáso k . do c x


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 5/136|

##### **1.2. A használati eset célja, feladatai **

A használati eset célja a GVK alkalmazásban a HUBA bejegyzésekben értesíthető
felhasználók beállításainak, valamint valamely bejegyzéshez kapcsolódó értesítés(ek)

kezelése.

Feladata, hogy lehetőséget biztosítson

    - állandó és feliratkozott értesítésfogadó felhasználók alapadatainak kezelésére,

    - valamely HUBA bejegyzéshez értesítés(ek) rögzítésére, az értesítéshez

kapcsolódó értesítendő felhasználók, valamint az értesítési napló kezelésére.


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 6/136|

#### **2. A használati eset ablakai ** **2.1. Ablakok közötti kapcsolat, navigálás **


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 7/136|

##### 2.2. H06_01 – HUBA – Értesítési beállítások [ #89258]

**2.2.1.** **Ablak feladatai**

A MÁV Zrt. vasúti pályahálózatán keletkezett üzemzavarok és nem tervezett
korlátozások adatait tartalmazó bejegyzések értesítéseihez rendelhető
értesítésfogadóival kapcsolatban az alábbi funkciók biztosítása:

     - létező értesítésfogadók lekérdezése grid funkciókkal (keresés,
oszlopmegjelenítés beállítása, oszlopsorrend mentése, grid manuális és
ütemezett frissítése, lekérdezés eredményének Excel-be exportálása),

     - új értesítésfogadó rögzítésének, valamint létező értesítésfogadó szerkesztési,

ill. megtekintési lehetőségének indítása, értesítésfogadó törlése,

     - értesítési csoportok és egyéb szervezetek kezelésének indítása,

     - állandó értesítésfogadók értesítésekről történő leiratkozásának és feliratkozott

értesítésfogadók értesítésekre történő feliratkozásának indítása.

**2.2.2.** **Ablak megjelenése**

#89258, #89269 **Értesítésfogadók beállításai** :


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 8/136|


**2.2.3.** **Ablak működése**

Az ablak a „ **H01_01 - HUBA - Bejegyzések** ” felületen található
nyomógomb kezelését követően nyílik meg új böngésző lapon, ezen belül az
alapértelmezett „ **H01_01A – Értesítésfogadók beállításai** ” lapfüllel. Az ablak azon GVK
profil azonosítójú felhasználó számára nyílik meg, akihez az
**OP_H06_01_ErtesitesfogadokBeallitasokMegjelenitLista** operandus hozzá van

rendelve.

Amennyiben a GVK profil azonosítójú felhasználóhoz hozzá van rendelve az
**OP_H06_02_ErtesitesFogadokKeres** operandus, balról beúszva megnyílik a „ **H06_02 –**
**HUBA – Értesítésfogadók lekérdezése** ” ablak, üres kereső paraméter mezőkkel.

A rendszer a **H06_01** ablakot maximum egyszer nyitja meg új böngésző lapon.
Amennyiben a „ **H01_01 – HUBA - Bejegyzések** ” ablakról többször próbálja meg a GVK
profil azonosítójú felhasználó megnyitni, a korábban megnyitott **H06_01** ablak frissül
az alapértelmezett módon.

Az „ **A01 - GVK - Térkép** ”vagy „ **H01_01 – HUBA - Bejegyzések** ” ablak bezárása esetén
automatikusan bezáródik a H06_01 ablak is.

**Az ablak felépítése**

    - Az ablak kitölti a teljes képernyőt.

    - *Fejléc:*

Fejlesztői (DEV), Belső teszt (TEST) és Felhasználói teszt (QA) környezet használatakor
a fejléc háttérszíne középszürke (7F7F7F).

Üzemi (PROD)



-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 9/136|


Felhasználói teszt (QA)

QA-ra kihelyezéskor

Belső teszt (TEST)

TEST-re kihelyezéskor

Fejlesztői (DEV)

DEV-re kihelyezéskor

`o` Középen az ablak azonosítóját és megnevezését: „ **H06_01 - HUBA –**

**Értesítési beállítások** ”

`o` Jobbszélen:

          - Rendszer neve és logója, valamint a rendszer neve alatt a

frontend verziószáma jelenik meg.

          - A logó előtt a GVK környezet neve:

              - üzemi (PROD): Nem jelenik meg a kliensen.

              - felhasználói teszt (QA): „ **QA** ”

              - teszt (TEST): „ **TEST** ”

              - fejlesztői (DEV): „ **DEV** ”

          - GVK profil név:

A GVK-ba történt bejelentkezéskor érvényes GVK profil név
megjelenítésére szolgál.

  - *Tabbar (fülmegjelenítő sáv):*

A fejléc alatt az alábbi nézetek jelennek meg:

`o` **Értesítésfogadók beállításai**      - alapértelmezetten ez az aktív tab/fül

          - A tabfül technikai elnevezése: „H06_01A – Értesítésfogadók

beállításai”

              - Az „ **A** ” betű nem jelenik meg a felületen, csak az

ablakazonosítóban.

**Ablakbetöltés** [ #89269]

Az ablak betöltésekor a kliens meghívja az „ **S_27 – Felhasználói aktivitás naplózása** ”
szolgáltatást az alábbi bemenő paraméterekkel:

    - Ablakazonosító (’WINDOW_ID’): ’H06_01A’

    - Esemény (’ACTIVITY’): ’WindowOpen’



-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 10/136|



    - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója

    - GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója

    - Esemény kiegészítő információk (’ACTIVITY_EXT’): ’View’

    - Bejegyzés azonosító (’MAIN_ID’): NULL

    - Bejegyzés sub azonosító (’SUB_ID’): NULL

    - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): NULL

**Lapfülek működése**

**2.2.3.1.** **H06_01A – Értesítésfogadók beállításai** [#89269]

**Lapfül felépítése**

  - *Felső eszközsor (Toolbar):*

Itt jelenik meg az összes, a táblázathoz kapcsolódó nyomógomb. Az adott funkció
leírása tooltip-ben jelenik meg.

`o` Keresés:

Rákattintva balról beúszó panelben megnyílik a **„** **H06_02** **– HUBA –**

**Értesítésfogadók lekérdezése”** ablak. A (Keresés) nyomógomb csak
azon GVK profil azonosítójú felhasználó számára aktív, megnyomható,
akihez az **OP_H06_02_ErtesitesFogadokKeres** operandus hozzá van

rendelve.

`o` Keresés törlése:

Az ikon narancssárga színnel jelenik, amennyiben van megadott (aktív)
keresési feltétel az **„** **H06_02** **– HUBA – Értesítésfogadók lekérdezése”**
ablakban, fehérrel, ha nincs.

Rákattintva egyszerre törölhetők az „ **H06_02** **– HUBA – Értesítésfogadók**

**lekérdezése** ” ablakban beállított feltételek. A (Keresés törlése)
nyomógomb csak azon GVK profil azonosítójú felhasználó számára aktív,
megnyomható, akihez az **OP_H06_02_ErtesitesFogadokKeres** operandus

hozzá van rendelve.

`o` Beállítások:

Rákattintva balról beúszó panelben megnyílik a „ **H06_03** **– HUBA –**

**Értesítésfogadók oszlopmegjelenítése** ” ablak. A (Beállítások)
nyomógomb csak azon GVK profil azonosítójú felhasználó számára aktív,
megnyomható, akihez az
**OP_H06_03_ErtesitesFogadokOszlopokMegjelenitMent** operandus hozzá

van rendelve.


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 11/136|


`o` Excel-export:

Rákattintva kezdeményezhető az összes találat grid-en látható összes
oszloppal letöltése Excel-be a keresési feltételeknek megfelelően.

`o` Összes szűrő törlése:

Rákattintva kezdeményezhető a táblázat oszlopaira beállított szűrési

feltételek törlése.

`o` Oszlopsorrend mentése:

Rákattintva kezdeményezhető a táblázat oszlop sorrendjének mentése a
GVK profil azonosítójú felhasználóhoz.

`o` Frissítés:

Rákattintva kezdeményezhető a táblázat adatainak frissítése a keresési
feltételek beállításainak megfelelően.

  - *Lista:*

`o` Táblázatban jelenik meg az összes kért információ.

`o` Fejléc:

A „ **H06_03** **- HUBA – Értesítésfogadók oszlopmegjelenítése** ” ablakban
kiválasztott oszlopok adják a táblázat oszlopcímeit.

Amennyiben az oszlopcím nem fér ki, az **Oszlopcím…** jelenik meg. Tooltipben olvasható a teljes oszlopcím.

*Sorbarendezés* : Az oszlopcím jobb oldalán található (Sorbarendezés)
ikonra kattintva rendezhető a táblázat megjelenített tartalma. Az


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 12/136|


alapértelmezett rendezés a HUBA azonosító szerint csökkenő (a legfrissebb
jelenik meg legelöl).

Az oszlopcím mellett egy felfelé (növekvő) vagy lefelé (csökkenő) mutató
nyíl jelzi, hogy mi szerint van rendezve. Egyszerre egy oszlop szerint

rendezhető a táblázat.

Az oszlopok sorrendje változtatható - drag&drop-pal átrendezhetők tetszés

szerint. Az oszlopok sorrendje a (Oszlopsorrend mentése) ikonra

kattintva menthető el.

*Oszlopszűrés* : Az oszlopcím bal oldalán található (Oszlopszűrés) ikonra
kattintva az alábbi pop-up ablak segítségével a megjelenített találati lista
adott oszlopa szerinti további szűrésre van lehetőség:

Az alábbi szűrési feltételek alkalmazhatók: Tartalmaz (ez az
alapértelmezett) / Egyezik / Kisebb / Kisebb, egyenlő / Nagyobb / Nagyobb,
egyenlő / Üres / Nem üres. Egymást követően több oszlopon is beállítható
oszlopszűrés.

`o` Adatok:

Ablakbetöltéskor a grid üres, nem jelennek meg alapértelmezetten adatok.

`o` Alsó vízszintes gördítősáv (horizontális scrollbar):

Ha nem fér ki az oldalra a táblázat összes megjeleníteni kívánt oszlopa,
akkor az alsó vízszintes gördítősáv segítségével lehet megtekinteni a
táblázat többi oszlopát.

`o` Oldalsó függőleges gördítősáv (vertikális scrollbar):

Ha nem fér ki az oldalra a táblázat összes megjeleníteni kívánt sora,
akkor az oldalsó (jobb oldalon) függőleges gördítősáv segítségével lehet
megtekinteni a táblázat többi sorát.

  - *Lábléc:*

`o` Oldallapozó: A lekérdezett adatok a grid alatti lapozó funkcióval

jeleníthetők meg (legelső/legutolsó, valamint előző/következő oldalra
ugrás). Megjelenik a megjelenített/összes oldal száma. Az egy oldalon


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 13/136|


megjelenített rekordok száma listából választható [#92554] (25/50/100), az
alapértelmezett érték 100 rekord [#92554 vége] .

  - *Nyomógombok*

`o` #89410, #95573 Fel-/Leiratkozás nyomógomb: A < **Fel-**
**/Leiratkozás**        - nyomógomb alapértelmezetten disabled állapotú, csak
abban az esetben válik kezelhetővé, ha a gridben kiválasztásra kerül a
bejelentkezett felhasználó, mint értesítésfogadó és a GVK profil azonosítójú
felhasználó rendelkezik az **OP_H06_07_ErtFogFelLeIratkozas – Értesítés**
**fogadók fel- / leiratkozása** operandussal.

Abban az esetben, ha a felhasználó rendelkezik az
**OP_H06_07_ErtFogFelLeIratkozasAdmin** **– Értesítés fogadók fel- /**
**leiratkozása admin** operandussal, bármelyik értesítésfogadó kiválasztása
esetén aktívvá válik a Fel-/Leiratkozás nyomógomb.

`o` #89431 Értesítési csoportok kezelése nyomógomb: Az
< **Értesítési csoportok**       - nyomógomb alapértelmezetten csak azon GVK
profil azonosítójú felhasználó számára kezelhető, akihez az
**OP_H06_05_ErtesitesiCsoportokMegjelenitMent** operandus hozzá van
rendelve. Az operandus hiánya esetén a nyomógomb disabled állapotú.
#89431 vége

`o` #91979 Egyéb szervezetek kezelése nyomógomb: Az
< **Egyéb szervezetek**       - nyomógomb alapértelmezetten csak azon GVK profil
azonosítójú felhasználó számára kezelhető, akihez az
**OP_H06_09_EgyebSzervezetekMegjelenitMent** operandus hozzá van
rendelve. Az operandus hiánya esetén a nyomógomb disabled állapotú.
#91979 vége

`o` nyomógomb: Az < **Új**     - nyomógomb alapértelmezetten
kezelhető (megnyomható) abban az esetben, ha a grid-en nincs kijelölve sor
és a [#89384] GVK profil azonosítójú felhasználóhoz hozzá van rendelve az
**OP_H06_04_ErtesitesFogadoSzerkeszt** operandus [#89384 ] vége . A grid-en
kijelölt értesítésfogadó vagy az operandus hiánya esetén a nyomógomb
disabled állapotú.

`o` nyomógomb: A < **Szerkesztés**     - nyomógomb
alapértelmezetten nem kezelhető (nem megnyomható). Abban az esetben
válik kezelhetővé (megnyomhatóvá), ha a grid-en van kijelölve egy [#99383]
nem törölt sor [#99383 vége] és a GVK profil azonosítójú felhasználóhoz hozzá
van rendelve [#89393] az **OP_H06_04_ErtesitesFogadoSzerkeszt** operandus
#89393 vége .

`o` nyomógomb: A < **Megtekintés**     - nyomógomb
alapértelmezetten nem kezelhető (nem megnyomható). Abban az esetben
válik kezelhetővé (megnyomhatóvá), ha a grid-en van kijelölve egy sor és a


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 14/136|


GVK profil azonosítójú felhasználóhoz hozzá van rendelve [#89393 ] az
**OP_H06_04_ErtesitesFogadoMegtekint** operandus [#89393 vége] .

`o` nyomógomb: A < **Törlés**     - nyomógomb alapértelmezetten
nem kezelhető (nem megnyomható). Abban az esetben válik kezelhetővé
(megnyomhatóvá), ha a grid-en van kijelölve [#89405 ] egy nem törölt sor és a
GVK profil azonosítójú felhasználóhoz hozzá van rendelve az **OP_H06_04_**
**OP_H06_04_ErtesitesFogadoTorol** operandus [#89405 vége] .

**Lapfül betöltése**

A H06_01A lapfül csak akkor érhető el a GK profil azonosítójú felhasználó számára, ha
rendelkezik az **OP_H06_01_ErtesitesfogadokBeallitasokMegjelenitLista**
operandussal. A megfelelő operandus hiányában a lapfül nem választható ki (inaktív) a
GVK profil azonosítójú felhasználó számára.

A lapfül betöltésekor a grid üres.

A lapfül betöltésekor (első betöltés és későbbi újbóli betöltéskor is) a kliens az alábbi
bemenő paraméterekkel meghívja az **„S_15 - Beállítások lekérdezése** ” szolgáltatást:

    - Beállítás azonosító: ’H06_03’

A GVK profil azonosítót a webAPI réteg adja át.

A kliens az alábbi, szolgáltatástól visszakapott értékek alapján megjeleníti az
oszlopokat:

    - Beállítás neve: az oszlop neve

    - Megjelenítési jelző: 0 - nem jelenik meg az oszlop, 1 - megjelenik az oszlop

    - Sorszám: az oszlop sorszáma a griden

Ha nincs ilyen eltárolt adat (S_15 szolgáltatás nem ad vissza adatot), akkor
alapértelmezetten minden oszlop megjelenítendőnek tekintendő a grid-en.

**Grid és toolbar működése**

A (Keresés) ikonra kattintva a „ **H06_02** **– HUBA – Értesítésfogadók lekérdezése** ”
ablakban adhatja meg az értesítésfogadó beállítások keresési feltételeit azon GVK
profil azonosítójú felhasználó, akihez **OP_H06_02_ErtesitesFogadokKeres** operandus
hozzá van rendelve. Ekkor a háttérben a grid halványszürke színűre vált.

A grid adatokkal történő frissítése az „ **H06_02** **– HUBA – Értesítésfogadók**
**lekérdezése** ” ablakban a < **Keresés**   - nyomógombra történő kattintást követően
történik az „ **S_62 – Értesítésfogadók lekérdezése** ” szolgáltatás által visszaadott
értékek alapján. A kliens csak azokat az oszlopokat jeleníti meg, amelyeket az **„S_15 -**
**Beállítások lekérdezése** ” szolgáltatás visszatérő értékként visszaadott.

A kliens a (Keresés törlése) ikonra történő kattintáskor kiüríti az „ **H06_02**
**– HUBA – Értesítésfogadók lekérdezése** ” ablakban beállított paramétereket.


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 15/136|


A (Beállítások) ikonra kattintva a „ **H06_03** **– HUBA – Értesítésfogadók**
**oszlopmegjelenítése** ” ablakban a H06_01A lapfülön található griden megjelenítendő
oszlopok megjelenítése állítható be. A nyomógomb csak azon GVK profil azonosítójú
felhasználó számára aktív, megnyomható, akihez az
**OP_H06_03_ErtesitesFogadokOszlopokMegjelenitMent** operandus hozzá van
rendelve. Ekkor a háttérben a grid halványszürke színűre vált.

Az (Excel-export) ikonra kattintva a back-end a grid-en az összes lapon
aktuálisan megjelenő adatot kiexportálja Excel fájlba (.xlsx kiterjesztéssel).

Fájlnév: *HUBA értesítésfogadók_[yyyymmdd].xlsx*

A (Összes szűrő törlése) ikonra kattintva a kliens törli a GVK profil azonosítójú
felhasználó által az oszlopokon alkalmazott beállításokat.

A griden drag&drop módszerrel módosítható a megjelenített oszlopok sorrendje és a

(Mentés) ikonra kattintva menthető el. Az ikonra kattintva a kliens az alábbi
bemenő paraméterekkel meghívja az „ **S_16 –Beállítások mentése”** szolgáltatást:

    - GVK profil azonosító

    - beállítás azonosítója: ’H06_03’

    - beállítás neve: oszlop neve

    - oszlop sorszáma

A (Frissítés) ikonra kattintva manuálisan frissíthetőek a H06_01A gridben

megjelenített adatok. A kliens a (Frissítés) ikonra történő kattintáskor a H06_02
ablakban beállított kereső (mint bemenő) paraméterekkel meghívja az „ **S_62 –**
**Értesítésfogadók lekérdezése** ” szolgáltatást (H06_02 ablaknál leírtak szerint).

**Nyomógombok kezelése**

#89410 nyomógomb kezelése: Az < **Fel-/Leiratkozás**    - nyomógomb
kezelésekor megnyílik a **„** **H06_07** **– HUBA – Értesítésfogadó fel-/leiratkozása”** pop-up

ablak az alábbiak szerint:

    - Állandó értesítésfogadó esetén

**Kilépve tól-ig** mezők, ahol a rendszer ellenőrzést végez aszerint, hogy az
aktuálisan kitöltött értékek (ha vannak, mit tartalmaznak):

`o` amennyiben nincs aktuálisan beállított érték vagy múltbeli időpontra

mutat: új időintervallumot ad meg a felhasználó;

`o` amennyiben az aktuálisan beállított érték jövőbeli vagy folyamatban van: a

korábban beállított időintervallumot szerkeszti a felhasználó.


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 16/136|



    - Feliratkozott (nem állandó) értesítésfogadó esetén

**Belépve tól-ig** mezők, ahol a rendszer ellenőrzést végez aszerint, hogy az
aktuálisan kitöltött értékek (ha vannak, mit tartalmaznak):

`o` amennyiben nincs aktuálisan beállított érték vagy múltbeli időpontra

mutat: új időintervallumot ad meg a felhasználó;

`o` amennyiben az aktuálisan beállított érték jövőbeli vagy folyamatban van: a

korábban beállított időintervallumot szerkeszti a felhasználó. [#89410 vége]

nyomógomb kezelése: Az < **Értesítési csoport kezelése**            nyomógomb kezelésekor a grid felett középen [#89356] pop-up ablakban megnyílik a
„ **H06_05 – HUBA – Értesítési csoportok** ” ablak. Egy GVK profillal egyszerre max. egy
H06_05 ablak megnyitása engedélyezett. [#89356 vége]

#89384 nyomógomb kezelése: Az < **Új**   - nyomógomb kezelésekor a grid
felett középen pop-up ablakban üres mezőkkel megnyílik a „ **H06_04 – HUBA –**
**Értesítésfogadó adatai** ” ablak. Egy GVK profillal egyszerre max. egy H06_04 ablak
megnyitása engedélyezett.

#89393 nyomógomb kezelése: A < **Szerkesztés**   - nyomógomb kezelésekor
a kliens ellenőrzi a kiválasztott értesítésfogadó szerkeszthetőségét, amihez meghívja a
**K_15_01 – Szerkeszthetőség ellenőrzése (GET_DATA_EDITABILITY)** eljárást, bemenő
paraméterként átadva a képernyő kódját **(H06_04)**, valamint az értesítésfogadó egyedi
azonosítóját **(ERTESITES_FOGADO_ID)** .

Az eljárástól válaszként egy numerikus érték érkezik. Amennyiben ez ’0’ (azaz nulla), a
képernyő szerkeszthető. Ettől eltérő érték a képernyőt aktuálisan szerkesztő
felhasználó GVK profil azonosítóját jelzi.

Szerkeszthetőség esetén a kliens megnyitja szerkesztésre a „ **H06_04 – HUBA –**
**Értesítésfogadó adatai** ” ablakot.

Ellenkező esetben az alábbi pop-up hibaüzenetet jeleníti meg a kliens:

Ezután a felhasználó dönt, hogy bezárja az üzenet ablakot vagy megnyitja a kívánt
képernyőt megtekintési nézetben.

Egy GVK profillal egyszerre max. egy H06_04 ablak megnyitása engedélyezett.

nyomógomb kezelése: A < **Szerkesztés**          - nyomógomb kezelésekor a grid
felett középen pop-up ablakban megnyílik a „ **H06_04 – HUBA – Értesítésfogadó**


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 17/136|


**adatai** ” ablak, amelyben megjelennek a grid-en kijelölt értesítésfogadó adatai. Egy GVK
profillal egyszerre max. egy H06_04 ablak megnyitása engedélyezett. [#89393 vége]

#89405 nyomógomb kezelése: A < **Törlés**   - nyomógomb kezelésekor a
kliens ellenőrzi a kiválasztott értesítésfogadó szerkeszthetőségét, amihez a meghívja a
**K_15_01 – Szerkeszthetőség ellenőrzése (GET_DATA_EDITABILITY)** eljárást, bemenő
paraméterként átadva a képernyő kódját **(H06_04)**, valamint az értesítésfogadó egyedi
azonosítóját **(ERTESITES_FOGADO_ID)** .

Az eljárástól válaszként egy numerikus érték érkezik. Amennyiben ez ’0’ (azaz nulla), a
képernyő szerkeszthető. Ettől eltérő érték a képernyőt aktuálisan szerkesztő
felhasználó GVK profil azonosítóját jelzi.

Amennyiben kívánt adatelem nem szerkeszthető, abban az esetben a törlés sem
hajtható végre, ezért az alábbi hibaüzenet jelenik meg:

Az OK gombra kattintás után az bezárul a pop-up üzenet, a felhasználó tovább folytatja
a munkáját a H06_01 ablakban, a törlést nem hajtja végre a rendszer.

Szerkeszthetőség esetén a kliens először az alábbi megerősítést kérő pop-up üzenetet
jeleníti meg az ablak felett középen:

< **Igen**   - nyomógomb kezelése esetén a kliens az alábbi sorrendben meghívja felsorolt
szolgáltatásokat:

    - Az értesítésfogadó törlése céljából a kliens meghívja az „ **S_63 – Értesítésfogadó**

**adatainak mentése** ” szolgáltatást, melynek az alábbi bemenő paramétereket
adja át:

`o` Értesítésfogadó azonosítója (’ertFogadoId’)
`o` Aktív? (’aktiv’): ’I’

    - A mentést követően a kliens meghívja az „ **S_27 – Felhasználói aktivitás**

**naplózása** ” szolgáltatást az alábbi bemenő paraméterekkel:

`o` Ablakazonosító (’WINDOW_ID’): „H06_04”


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 18/136|


`o` Esemény (’ACTIVITY’): „Modify”
`o` AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója
`o` GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója
`o` Esemény kiegészítő információk (’ACTIVITY_EXT’): JSON formában a

mentés részletei

`o` Bejegyzés azonosító (’MAIN_ID’): értesítés fogadó egyedi azonosítója

( **ERTESITES_FOGADO_ID** )
`o` Bejegyzés sub azonosító (’SUB_ID’): NULL
`o` Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): NULL

< **Nem**   - nyomógomb kezelésekor bezárul a pop-up üzenet, a felhasználó tovább
folytatja a munkáját a H06_01 ablakban.

#89405 vége

**Lapfülek közötti váltás**

HUBA első szakaszában még nem releváns.

**Lapfül bezárása**

**2.2.3.2.** **H06_01B – Értesítési mátrix**

**Lapfül betöltése**

HUBA első szakaszában még nem releváns.

**Grid és toolbar működése**

**Nyomógombok kezelése**

**Lapfülek közötti váltás**

**Lapfül bezárása**

**Ablak bezárása**

Az ablak bezárása a böngészőfülön lévő **<X>** nyomógombra kattintással lehetséges.

Az ablak bezárásakor a kliens meghívja az „ **S_27 – Felhasználói aktivitás naplózása** ”
szolgáltatást az alábbi bemenő paraméterekkel:

    - Ablakazonosító (’WINDOW_ID’): ’H06_01A’

    - Esemény (’ACTIVITY’): ’WindowClose’

    - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója

    - GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója

    - Esemény kiegészítő információk (’ACTIVITY_EXT’): ’View’

    - Bejegyzés azonosító (’MAIN_ID’): NULL


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 19/136|



    - Bejegyzés sub azonosító (’SUB_ID’): NULL

    - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): A
’WindowOpen’ eseménykor kapott ACTIVITY_ID.


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 20/136|

### **2.2.4. Az ablak szerkezeti leírása ** **Beviteli/megjelenítő mezők, kiválasztó lista (combo box), kapcsoló, rádiógomb **





|Felirat|Megnevezés|Súgó (Tooltip) szöveg|Kontrol típusa|Hossz|Maszk|Alapértelmezett érték|Törzstábla/ kódtábla|
|---|---|---|---|---|---|---|---|
|Fejléc||||||||
||GVK profil megnevezés|GVK felhasználó||||||
|H06_01A – Értesítésfogadók beállításai #89269||||||||
|Grid||||||||
||(szűrés: Tartalmaz)|Oszlopszűrés||||||
||(szűrés: combobox)||combobox|||||
||(rendezés)|Sorbarendezés||||||
||Horizontális scrollbar|-|scrollbar|||-||
||Vertikális scrollbar|-|scrollbar|||-||
||Lapozó|-|pagination|||#92554 100||
|H06_01B – Értesítési mátrix||||||||
|||||||||
|||||||||

|Grid oszlopai az|alapértelmezett sorrendben|Col3|Col4|Col5|Col6|Col7|
|---|---|---|---|---|---|---|
|Felirat|Megnevezés|Súgó (Tooltip) szöveg|Hossz|Maszk/Típus|Alapértelmezett érték|Törzstábla/ kódtábla|
|H06_01A – Értesítésfogadók beállításai #89269|||||||
|Név|Név|Név|AN50||-||
|Szakág|Szakág|Szakág|AN50||-||
|Értesítési szint|Értesítési szint|Értesítési szint|AN20||-||
|Munkakör|Munkakör|Munkakör|AN50||-||
|Feladat|Feladat|Feladat|AN50||-||
|Szervezet|Szervezet|Szervezet|AN50||-||
|Értesítési csoport|Értesítési csoport|Értesítési csoport|AN50||-||
|Külsős?|Külsős?|Külsős?|boolea n|I/N|-||
|Kilépve (-tól)|Kilépve (-tól)|Kilépve (-tól)|DATE|YYYY.MM.DD HH24:MI|-||
|Kilépve (-ig)|Kilépve (-ig)|Kilépve (-ig)|DATE|YYYY.MM.DD HH24:MI|-||
|Belépve (-tól)|Belépve (-tól)|Belépve (-tól)|DATE|YYYY.MM.DD HH24:MI|-||


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 21/136|




|Felirat|Megnevezés|Súgó (Tooltip) szöveg|Hossz|Maszk/Típus|Alapértelmezett érték|Törzstábla/ kódtábla|
|---|---|---|---|---|---|---|
|SMS-ben értesítendő?|SMS-ben értesítendő?|SMS-ben értesítendő?|boolea n|I/N|-||
|Mobilszám|SMS telefonszám|SMS telefonszám|AN20||-||
|Email-ben értesítendő?|Email-ben értesítendő?|Email-ben értesítendő?|boolea n|I/N|-||
|E-mail cím|E-mail cím|E-mail cím|AN50||-||
|Állandó értesítésfogadó?|Állandó értesítésfogadó?|Állandó értesítésfogadó?|boolea n|I/N|-||
|Törzsszám|Törzsszám|Törzsszám|N10||-||
|Törölt|Törölt|Törölt|boolea n|I/N|-||
|H06_01B – Értesítési mátrix|||||||
||||||||
||||||||


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 22/136|


**Nyomógombok, funkcionális ikonok**














|Felirat|Megnevezés|Súgó (Tooltip) szöveg|Alapértelmezés [megnyomható/ nem nyomható meg]|Material ikon neve|
|---|---|---|---|---|
|Értesítési beállítások|||||
||Keresés|Bejegyzés keresése|Megnyomható|search|
||Keresés törlése|Bejegyzés keresési feltételek törlése|Megnyomható|search_off|
||Beállítás|Bejegyzés beállítások|Megnyomható|settings|
||Excel-export|Adatok letöltése Excel-be|Megnyomható|dxi dxi-file-excel|
||Összes szűrő törlése|Bejegyzés oszlop szűrés törlése|Megnyomható|filter-clear|
||Oszlopsorrend mentése|Bejegyzés oszlopsorrend mentése|Megnyomható|dxi dxi-content- save|
||Frissítés|Bejegyzés adatok frissítése|Megnyomható|refresh|
||Fel- /Leiratkozás|Fel-/Leiratkozás|Megnyomható|rss square|
||Értesítési csoportok|Értesítési csoportok|Megnyomható|users|
||Egyéb szervezetek|Egyéb szervezetek|Megnyomható||
||Új felvitel|Új felvitel|Megnyomható|plus|
||Szerkesztés|Szerkesztés|Nem nyomható meg|pencil|
||Megtekintés|Megtekintés|Nem nyomható meg|eye|
||Törlés|Törlés|Nem nyomható meg|trash|
|Értesítési mátrix|||||
||||||


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 23/136|


**2.2.5.** **Hívott szolgáltatások**









|Funkciógomb/link/vezérlőelem esemény|Hívott ablak|Hívott szolgáltatás rövid megnevezése (azonosító)|
|---|---|---|
|Ablakbetöltés és egyúttal H01_01A lapfül betöltés|-|S_27 – Felhasználói aktivitás naplózása|
|Ablakbetöltés|-|S_15 – Beállítások lekérdezése|
||H06_02 – HUBA – Értesítésfogadók lekérdezése|-|
||H06_03 – HUBA – Értesítésfogadók oszlopmegjelenítése|-|
||-|S_16 – Beállítások mentése|
||-|S_62 – Értesítésfogadók lekérdezése|
|#89410|H06_07 – HUBA – Értesítésfogadó fel-/leiratkozás|-|
|#89356|H06_05 – HUBA – Értesítési csoportok|-|
|#91979|H06_09 – HUBA – Egyéb szervezetek|-|
|#89384|H06_04 – HUBA – Értesítésfogadó adatai|-|
|#89393|H06_04 – HUBA – Értesítésfogadó adatai|K_15 - Konkurenskezelés|
|#89393|H06_04 – HUBA – Értesítésfogadó adatai|-|
|#89405|-|K_15 - Konkurenskezelés|
|#89405|-|S_63 – Értesítésfogadó adatainak mentése|
|Ablakbezárás|-|S_27 – Felhasználói aktivitás naplózása|


**2.2.6.** **Rendszerüzenetek**





|Ellenőrzések leírása (HA)|Rendszerüzenet (AKKOR)|Rendszerüzenet típusa|
|---|---|---|
|#89405 <Törlés> nyomógomb kezelésekor|Az értesítésfogadó nem törölhető, mert szerkesztés alatt áll <Felhasználó neve> által.|Információs|
|#89405 <Törlés> nyomógomb kezelésekor|Biztosan törölni kívánja az értesítésfogadót? (Igen/Nem)|Megerősítő|
|#92775 Az új rekord mentése sikeres|„A híváseredmény mentése sikeres volt.”|Információ|
|#92775 Az új rekord mentése sikertelen|„A mentés során hiba történt. Kérem próbálja újra később. RequiestId: XXX”|Hibaüzenet|


**2.2.7.** **Kódtáblák, választási listák**

Nincs.




-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 24/136|


**2.2.8.** **Rendszerparaméterek**

Nincs.


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 25/136|

##### 2.3. H06_02 – HUBA – Értesítésfogadók lekérdezése [ #89281]

**2.3.1.** **Ablak/lap feladatai**

A „ **H06_01 – HUBA – Értesítési beállítások** ” felületen az „ **Értesítésfogadók beállításai** ”
lapfülön megjelenő bejegyzések szűrési/keresési paramétereinek megadására szolgál.

**2.3.2.** **Ablak/lap megjelenése**


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 26/136|


**2.3.3.** **Ablak/lap működése**

Az ablak az alábbi nyomógombok kezelését követően nyílik meg:

     - „ **H01_01 – HUBA – Bejegyzések** ” ablakból az < **Értesítési beállítások**     
nyomógomb kezelésekor új böngésző fülön megnyíló „ **H06_01** **– HUBA –**
**Értesítési beállítások** ” felületen az „ **Értesítésfogadók beállításai** ” lapfül
betöltésekor automatikusan, valamint

     - a lapfülön található (Keresés) nyomógomb kezelését követően nyílik meg.

A (Keresés) nyomógomb csak azon GVK profil azonosítójú felhasználó
számára aktív, megnyomható, akihez az **OP_H06_02_ErtesitesFogadokKeres**
operandus hozzá van rendelve.

**Az ablak felépítése**

Az ablak a képernyő bal oldalán jelenik meg egy fix szélességű függőleges panelként.

Az ablak tartalmazza:

     - Az ablak azonosítóját, valamint megnevezését egy fehér hátterű sávban:

**H06_02 – HUBA – Értesítésfogadók lekérdezése**

     - Ez alatt találhatók a bejegyzések táblázatos megjelenítésének szűrésére

szolgáló kereső mezők:


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 27/136|


`o` a kereső paraméter neve,
`o` a kereső paraméter neve alatt a kereső mező (legördülő lista chips-es

választási lehetőséggel vagy kapcsoló) halványszürke háttérszínnel,
`o` a kereső mezővel egy sorban tőle jobbra a megadott kereső értékek

törlésére szolgáló ikon ( ).

A kereső mezőbe kattintáskor a mező kék színű kerettel jelenik meg. A
minimálisan megadandó keresési feltételek alapján az üres értékkel rendelkező
(invalid) kereső mező piros színű kerettel jelenik meg.

A panel alsó részén találhatók a funkció gombok: az elsődleges **<Keresés>**, mellette a
másodlagos **<Alaphelyzet>** és tőle jobbra a másodlagos **<Bezárás>** nyomógomb. A
gombok mindig láthatók és kezelhetők a panel alsó részén.

**Ablakbetöltés**

Az ablak betöltésekor a kliens meghívja az „ **S_27 – Felhasználói aktivitás naplózása** ”
szolgáltatást az alábbi bemenő paraméterekkel:

    - Ablakazonosító (’WINDOW_ID’): ’H06_02’

    - Esemény (’ACTIVITY’): ’WindowOpen’

    - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója

    - GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója

    - Esemény kiegészítő információk (’ACTIVITY_EXT’): ’View’

    - Bejegyzés azonosító (’MAIN_ID’): NULL

    - Bejegyzés sub azonosító (’SUB_ID’): NULL

    - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): NULL

Az ablak első és minden további újbóli betöltésekor a kliens minden kereső
paraméterre vonatkozóan (kivétel dátum -tól és –ig mezők) meghívja az „ **S_08 -**
**Lekérdezési paraméterek értékkészletének lekérdezése** ” szolgáltatást, bemenő
paraméterként átadva neki az adatelem azonosítóját (AutosuggestId). [#92554] Az S_08

hívások során átadott értékek:

    - **Értesítésfogadó név** (’ErtesitesFogado_H06_02’): A szolgáltatástól visszakapott

érték a ’Név’ mezőben jelenik meg.

    - **Szervezet** (’Szervezet’)

    - **Munkakör** és **Feladat** (’MunkakorFeladat’): A ’Munkakör’ mezőben a

szolgáltatástól visszakapott ’M’ típusú, a ’Feladat’ mezőben az ’F’ típusú
munkakör/feladat neve (’szoveg’) jelenik meg.

    - **Hierarchia szint** (’HierarchiaSzint’): A szolgáltatástól visszakapott értékek közül

csak a következő szintek nevét (’szoveg’) jeleníti meg a kliens az ’Értesítési szint’

értékkészletében:

`o` ’H’ – ’Hálózat’

`o` ’T’ – ’Terület’
`o` ’FC’ – ’Forgalmi csomópont’ esetén [#94940] ’Szervezeti egység’ [#94940 vége]

jelenik meg a mezőben
`o` ’SZ’ – ’Szolgálati hely’

    - **Értesítési csoport** (’ErtesitesiCsoport’)


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 28/136|


A kliens az „ **S_08 - Lekérdezési paraméterek értékkészletének lekérdezése** ”
szolgáltatás hívások során visszakapott listaszerű adatokkal feltölti az autocomplete
(kiválasztási) funkcióval rendelkező szöveges beviteli mezők értékkészletét. A listákban
az S_08 szolgáltatás által visszaadott ’text’ paraméter értékei jelennek meg. A lenyíló
listában a töredékre keresés az 1. karakter beírása után történik. [#92554 vége]

**Kereső paraméterek megadása**

A felületen kereső paraméterenként kerül meghatározásra a keresést vezérlő elem.

    - **Autocomplete beviteli mező** : A mezőbe kattintáskor még nem jelenik meg a

lista, csak a paramétereknél megadott karakter beírása után vagy a lefelé nyíl
gomb kezelésekor. A beírt szövegtöredék alapján a rendszer folyamatosan
frissíti a lista tartalmát, melyben csak a megadott szövegtöredéket tartalmazó
értékek jelennek meg. A legördülő listából kiválasztva egy sort (egér kattintással
vagy az ENTER gomb megnyomásával) a mezőben chips-ként felvételre kerül a
kiválasztott érték, valamint a beírt szűrő értéket törli a rendszer, továbbá a lista
eltűnik. A listában nem szereplő, invalid (érvénytelen) értéket a kliens
automatikusan eltávolítja a mező elhagyásakor.

    - **Chips(ek):** Az autocomplete beviteli mezőbe kerülnek felvételre és a felvett

kereső paraméterek jelölésére szolgálnak. A bejegyzések szűrése mindig a
chips-ben felvett értékek alapján történik. Nincs maximuma meghatározva. A
chips jobb szélén található ’X’ segítségével a felvett kereső paraméter (chips)

törölhető.

    - **Kiválasztott kereső értékek törlése:** A gomb segítségével az eddig felvett
kereső értékek (chips-ek) törölhetők.

    - **Kapcsológomb:** A kapcsológomb (switch) alapértelmezetten kikapcsolt
állapotú. A kapcsológombra való kattintáskor annak állapota az éppen
aktuálisról az ellenkezőjére vált: kikapcsolt állapotról bekapcsoltra és fordítva.

A beállított (már keresés történt rájuk) kereső paramétereket a rendszer a
munkamenet idejére megőrzi, tehát az ablak (panel) bezárása, majd az „ **H06_01 -**
**HUBA – Értesítési beállítások** ” ablak „ **Értesítésfogadók beállításai** ” lapfülről való újra
megnyitása után is megmaradnak a korábban rögzített kereső paraméterek.

**Nyomógombok kezelése**

nyomógomb kezelése: A **<Keresés>** nyomógomb mindig kezelhető,
kezelésekor a rendszer meghívja az „ **S_62 – Értesítésfogadók lekérdezése** ”
szolgáltatást [#92554] az alábbi bemenő paraméterekkel:

    - #98672 **Értesítésfogadó azonosító** (’ertFogadoId’) (id)

`o` Paraméter (aaa; bbb; …)

    - **Szervezet** (’szervezet’) (id)

`o` Paraméter (aaa; bbb; …)

    - **Munkakör** (’munkakor’) (id)

`o` Paraméter (aaa; bbb; …))

    - **Feladat** (’feladat’) (id)


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 29/136|


`o` Paraméter (aaa; bbb; …)

    - **Értesítési szint** (’ertesitesiSzint’) (id)

`o` Paraméter (aaa; bbb; …)

    - **Értesítési csoport** (’ertesitesiCsoport’) (id)

`o` Paraméter (aaa; bbb; …)

    - **Töröltek is** (’aktiv’): kapcsoló alapértelmezetten kikapcsolt állapotú (false),

amelynek jelentése: a törölt értesítésfogadók alapértelmezetten nem jelennek
meg a grid-en (’aktiv’ = ’I’ a nem törölt; ’N’ a törölt). [#92554 vége]

A **<Keresés>** nyomógomb kezelésekor a kliens meghívja az „ **S_27 – Felhasználói**
**aktivitás naplózása** ” szolgáltatást is az alábbi bemenő paraméterekkel:

    - Ablakazonosító (’WINDOW_ID’): ’H06_02’

    - Esemény (’ACTIVITY’): ’Search’

    - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója

    - GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója

    - Esemény kiegészítő információk (’ACTIVITY_EXT’): keresett azonosítók JSON

formában

    - Bejegyzés azonosító (’MAIN_ID’): NULL

    - Bejegyzés sub azonosító (’SUB_ID’): NULL

    - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): NULL

#92554, #99383 A kliens az S_62 szolgáltatástól visszaadott adatok alapján frissíti az „ **H06_01**

**- HUBA – Értesítési beállítások** ” ablak „ **Értesítésfogadók beállításai** ” lapfülön
megjelenített értesítésfogadók adatait:

    - **Értesítésfogadó azonosító** (’ertFogadoId’): Nem jelenik meg a kliensen.

    - **Értesítésfogadó név** (’ertFogadoNev’): A kliensen a Név mezőben jelenik meg.

    - **GVK azonosító** (’gvkAzonosito’): A kliensen a GVK azonosító mezőben jelenik

meg.

    - **Törzsszám** (’torzsszam’): Amennyiben az értesítésfogadóhoz tartozik AD

azonosító, a HUBA.GLOBAL_AD_USERS táblából kiolvasott TORZSSZAM értékét
változatlan formában visszaadja az eljárás.

    - **Külsős** (’kulsos’): A HUBA.ERTESITES_FOGADO_V view-ból kiolvasott KULSOS

mező értékét (I/N) változatlan formában visszaadja az eljárás.

    - **Állandó értesítésfogadó** (’allando’): A HUBA.ERTESITES_FOGADO_V view-ból

kiolvasott ALLANDO mező értékét (I/N) változatlan formában visszaadja az
eljárás.

    - **Értesítési szint** (’ertSzint’): A HUBA.ERTESITES_FOGADO_V view-ból kiolvasott

ERTESITESI_SZINT alapján a GVK.K_HIERARCHIA_SZINT táblából kiolvasott
K_MEGNEVEZES értékét változatlan formában visszaadja az eljárás.

    - **Terület** (’terulet’): A kliensen a Terület mezőben jelenik meg.

    - **Szervezet** (’szervezet’): A kliensen a Szervezet mezőben jelenik meg.

    - **Értesítési csoportok** (’ertCsoportok’): A kliensen az Értesítési csoport mezőben

jelenik(-nek) meg az értesítési csoport megnevezés(ek) vesszővel elválasztva.

`o` **Értesítési csoport megnevezés** (’ertCsopNev’)

    - **Szakágak** (’szakagak’): A kliensen a Szakág mezőben jelenik(-nek) meg a szakág

megnevezés(ek) vesszővel elválasztva.

`o` **Szakág megnevezés** (’szakagNev’)


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 30/136|



    - **Munkakör** (’munkakor’):

`o` **Munkakör megnevezés** (’nev’)
`o` **Munkakör típus** (’tipus’): Lehetséges értéke ’M’ – Munkakör vagy ’F’ –

Feladat.

Amennyiben a munkakör típusa ’M’, a munkakör megnevezése a Munkakör
mezőben jelenik meg.
Amennyiben a munkakör típusa ’F’, a munkakör megnevezése a Feladat
mezőben jelenik meg.

    - **Szűkítés főkódra** (’szukitesFokodra’): A kliensen a Terület mezőben jelenik meg.

    - **Bővítés főkódra** (’bovitesFokodra’): A kliensen a Terület mezőben jelenik meg.

    - **Kilépve (-tól)** (’kilepveTol’): A kliensen a Kilépve (-tól) mezőben jelenik meg.

    - **Kilépve (-ig)** (’kilepveIg’): A kliensen a Kilépve (-ig) mezőben jelenik meg.

    - **Belépve (-tól)** (’belepveTol’): A kliensen a Belépve (-tól) mezőben jelenik meg.

    - **Belépve (-ig)** (’belepveIg’): A kliensen a Belépve (-ig) mezőben jelenik meg.

    - **Telefonon értesíthető** (’telefonErt’): A kliensen a Telefonon értesíthető?

mezőben jelenik meg.

    - **SMS-ben értesíthető** (’smsErt’): A kliensen az SMS-ben értesíthető? mezőben

jelenik meg.

    - **E-mail-ben értesíthető** (’emailErt’): A kliensen az Email-ben értesíthető?

mezőben jelenik meg.

    - **Mobilszám** (’mobilszam’): A kliensen a Mobilszám mezőben jelenik meg.

    - **E-mail cím** (’email’): A kliensen az E-mail cím mezőben jelenik meg.

    - **Aktív** (’aktiv’): A kliensen a Törölt mezőben jelenik meg. ’I’ érték esetén nem

törölt, ’N’ érték esetén törölt.

#92554, #99383 vége

Keresés után a rendszer automatikusan bezárja a H06_02 ablakot.

A kliens az alábbi hibaüzeneteket jeleníti meg pop-up ablakban a megnyitott ablak
felett a < **Keresés**   - nyomógomb kezelésekor:

    - Amennyiben nincs a keresési paramétereknek megfelelő értesítésfogadó

rekord, az alábbi üzenet jelenik meg:

    - Amennyiben a lekérdezés túllépi a megengedett időt (5 perc), akkor az alábbi

üzenet jelenik meg:


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 31/136|


Az üzenetek az < **OK**   - vagy < **X**   - nyomógomb kezelésével zárhatók be, a H06_02 ablak a
beállított kereső paraméterekkel nyitva marad.

nyomógomb kezelése: Az **<Alaphelyzet>** nyomógomb mindig
kezelhető, kezelésekor a rendszer kiüríti a keresőmezőket, a kapcsológombot
visszaállítja kikapcsolt állapotra. Az **<Alaphelyzet>** gomb hatására nem történik
szolgáltatás hívás. Az ablak nyitva marad.

nyomógomb kezelése: A **<Bezárás>** nyomógomb mindig kezelhető,
kezelésekor a rendszer bezárja az ablakot, de a munkamenet befejezéséig
megmaradnak a bezárás előtt felvett kereső paraméterek és a kapcsológomb állapota

is.

**Ablak bezárása**

Az ablak bezárása a **<Bezárás>** nyomógombra kattintással vagy mellékattintással
lehetséges.

Az ablak bezárásakor a kliens meghívja az „ **S_27 – Felhasználói aktivitás naplózása** ”
szolgáltatást az alábbi bemenő paraméterekkel:

    - Ablakazonosító (’WINDOW_ID’): ’H06_02’

    - Esemény (’ACTIVITY’): ’WindowClose’

    - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója

    - GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója

    - Esemény kiegészítő információk (’ACTIVITY_EXT’): ’View’

    - Bejegyzés azonosító (’MAIN_ID’): NULL

    - Bejegyzés sub azonosító (’SUB_ID’): NULL

    - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): A
’WindowOpen’ eseménykor kapott ACTIVITY_ID.


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 32/136|

### **2.3.4. Az ablak szerkezeti leírása ** **Beviteli/megjelenítő mezők, kiválasztó lista (combo box), kapcsoló, rádiógomb **





|Felirat|Megnevezés|Súgó (Tooltip) szöveg|Kontrol típusa|Hossz|Maszk|Alapértelmezett érték|Törzstábla/kódtábla|
|---|---|---|---|---|---|---|---|
|Név||||||||
||Név|-|combobox + chips||||HUBA.ERTESITES_FO GADO_V|
|Szervezet||||||||
||Szervezet|-|combobox + chips||||HUBA.SZERVEZET_V|
|Munkakör||||||||
||Munkakör|-|combobox + chips||||HUBA.K_MUNKAKOR|
|Feladat||||||||
||Feladat|-|combobox + chips||||HUBA.K_MUNKAKOR|
|Értesítési szint||||||||
||Értesítési szint|-|combobox + chips||||GVK.K_HIERARCHIA|
|Értesítési csoport||||||||
||Értesítési csoport|-|combobox + chips||||HUBA.ERTESITESI_CS OPORT|
|Töröltek is?||||||||
||Töröltek is?|-|||||-|


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 33/136|





|Nyomógombok|Col2|Col3|Col4|Col5|
|---|---|---|---|---|
|Felirat|Megnevezés|Súgó (Tooltip) szöveg|Alapértelmezés [megnyomható/nem nyomható meg]|Material ikon neve|
||Törlés|-|megnyomható|search off|
||Keresés|-|megnyomható||
||Alaphelyzet|-|megnyomható||
||Bezárás|-|megnyomható||


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 34/136|


**2.3.6.** **Hívott szolgáltatások**







|Funkciógomb/link/vezérlőelem esemény|Hívott ablak|Hívott szolgáltatás rövid megnevezése (azonosító)|
|---|---|---|
|Ablakbetöltés|-|S_27 – Felhasználói aktivitás naplózása|
|Ablakbetöltés|-|S_08 - Lekérdezési paraméterek értékkészletének lekérdezése|
||-|S_62 – Értesítésfogadók lekérdezése|
|||S_27 – Felhasználói aktivitás naplózása|
|||S_27 – Felhasználói aktivitás naplózása|
|Ablakbezárás||S_27 – Felhasználói aktivitás naplózása|


**2.3.7.** **Rendszerüzenetek**





|Ellenőrzések leírása (HA)|Rendszerüzenet (AKKOR)|Rendszerüzenet típusa|
|---|---|---|
|Nincs a megadott keresési paramétereknek megfelelő értesítésfogadó.|„Nincs a megadott keresési paramétereknek megfelelő értesítésfogadó.”|Információs|
|TimeOut exception|„A lekérdezés túllépte a megengedett időt. Kérjük próbálja újra!”|Információs|


**2.3.8.** **Kódtáblák, választási listák**

Nincs.

**2.3.9.** **Rendszerparaméterek**

Nincs.



-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 35/136|

##### 2.4. H06_03 – HUBA – Értesítésfogadók oszlopmegjelenítése [#89331]

**2.4.1.** **Ablak/lap feladatai**

Az ablak a „ **H06_01** **– HUBA – Értesítési beállítások** ” ablak „ **Értesítésfogadók**
**beállításai** ” lapfülön a grid-en megjelenített mezők beállításainak megadására (ki/bekapcsolására) és mentésére szolgál.

**2.4.2.** **Ablak/lap megjelenése**


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 36/136|


**2.4.3.** **Ablak/lap működése**

Az ablak megnyitása az „ **H06_01** **- HUBA – Értesítési beállítások** ” ablak

„ **Értesítésfogadók beállításai** ” lapfül toolbar-ban található ( **Beállítások** )

nyomógomb megnyomását követően történik. A ( **Beállítások** ) nyomógomb csak
azon GVK profil azonosítójú felhasználó számára jelenik meg, megnyomható, akihez az
**OP_H06_03_ErtesitesFogadoBeallitasokOszlopokMegjelenitMent** operandus hozzá

van rendelve.

**Az ablak felépítése**

Az ablak a képernyő bal oldalán jelenik meg egy fix szélességű függőleges panelként.

Az ablak tartalmazza:

     - Az ablak címét: **H06_03 - HUBA – Értesítésfogadók oszlopmegjelenítése**

     - Ez alatt található a grid oszlopainak nevét és a nevek mellett jobbra - velük egy

vonalban – az oszlopok megjelenítésére szolgáló kapcsológombokat tartalmazó

szekció.


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 37/136|



    - A panel legalsó részén jobbra igazítva található a kék hátterű < **Alkalmazás**    
gomb, melyre kattintáskor az ablakot bezárja a rendszer.

    - A panel legalsó részén az < **Alkalmazás**    - nyomógombtól jobbra található a fehér

hátterű < **Alaphelyzet**      - gomb, melyre kattintáskor minden oszlopnevet
bekapcsol a rendszer.

**Ablakbetöltés**

Az ablak betöltésekor a kliens meghívja az „ **S_27 – Felhasználói aktivitás naplózása** ”
szolgáltatást az alábbi bemenő paraméterekkel:

    - Ablakazonosító (’WINDOW_ID’): ’H06_03’

    - Esemény (’ACTIVITY’): ’WindowOpen’

    - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója

    - GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója

    - Esemény kiegészítő információk (’ACTIVITY_EXT’): ’Modify’

    - Bejegyzés azonosító (’MAIN_ID’): NULL

    - Bejegyzés sub azonosító (’SUB_ID’): NULL

    - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): NULL

Az ablak betöltésekor a kliens az alábbi bemenő paraméterekkel meghívja az **„S_15 -**
**Beállítások lekérdezése** ” szolgáltatást:

    - Beállítás azonosító (’azonosito’): ’H06_03’

A GVK profil azonosítót a webAPI réteg adja át.

A kliens az alábbi, szolgáltatástól visszakapott értékek alapján megjeleníti az
oszlopokat:

    - Beállítás neve (’SETTING_NAME’): az oszlop neve

    - Megjelenítési jelző (’DISPLAY_FLAG’): 0 - nem jelenik meg az oszlop, 1 
megjelenik az oszlop

    - Sorszám (’SERIAL_NUMBER’): az oszlop sorszáma a griden

Ha nincs ilyen eltárolt adat (S_15 szolgáltatás nem ad vissza adatot), akkor
alapértelmezetten minden oszlop bekapcsoltnak tekintendő.

Az ablak megnyitásakor az ’Aktuális napi’ kapcsoló bekapcsolt állapotú.

**Switch (kapcsológomb) működése**

    - A switch-re (kapcsológombra) való kattintáskor annak állapota az éppen

aktuálisról az ellenkezőjére vált: bekapcsolt állapotról kikapcsoltra és fordítva.

    - A kapcsológombok alapértelmezett állapotba állítása (összes kapcsológomb

bekapcsolása egyszerre az < **Alaphelyzet**      - nyomógombra kattintással
lehetséges.

    - A kapcsológombok változása esetén a változás az < **Alkalmazás**    - nyomógombra

kattintáskor kerül mentésre. A kliens az < **Alkalmazás**       - nyomógomb kezelésekor
meghívja az „ **S_16 - Beállítások mentése** ” szolgáltatást, melynek az alábbi
bemenő paramétereket adja át:

`o` Beállítás azonosítója (’code’): ’H06_03’
`o` Beállítások (’settings’):


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 38/136|



          - Beállítás neve (’name’): mezőnév

          - Megjelenítési jelző (’display’): 0 - kikapcsolt vagy 1 - bekapcsolt.
A GVK profil azonosítót a webAPI réteg adja át.

A szolgáltatás elmenti a kapott paraméterek alapján a GVK profil azonosítójú
felhasználóhoz tartozó oszlopbeállításokat.

Valamely kapcsoló állapotának módosítása esetén a kliens meghívja az „ **S_27 –**
**Felhasználói aktivitás naplózása** ” szolgáltatást az alábbi bemenő paraméterekkel:

    - Ablakazonosító (’WINDOW_ID’): ’H06_03’

    - Esemény (’ACTIVITY’): ’Modify’

    - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója

    - GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója

    - Esemény kiegészítő információk (’ACTIVITY_EXT’): módosítás adatok (mit mire

módosított a felhasználó) JSON formában

    - Bejegyzés azonosító (’MAIN_ID’): NULL

    - Bejegyzés sub azonosító (’SUB_ID’): NULL

    - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): NULL

**Ablakbezárás**

Az **<Alkalmazás>** gomb kezelésekor, ill. mellékattintáskor a rendszer bezárja az
ablakot. Az ablak bezárásakor a kliens meghívja az „ **S_27 – Felhasználói aktivitás**
**naplózása** ” szolgáltatást az alábbi bemenő paraméterekkel:

    - Ablakazonosító (’WINDOW_ID’): ’H06_03’

    - Esemény (’ACTIVITY’): ’WindowClose’

    - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója

    - GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója

    - Esemény kiegészítő információk (’ACTIVITY_EXT’): ’Modify’

    - Bejegyzés azonosító (’MAIN_ID’): NULL

    - Bejegyzés sub azonosító (’SUB_ID’): NULL

    - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): A
’WindowOpen’ eseménykor kapott ACTIVITY_ID.


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 39/136|

### **2.4.4. Az ablak szerkezeti leírása ** **Beviteli/megjelenítő mezők, kiválasztó lista (combo box), kapcsoló, rádiógomb **








|Felirat|Megnevezés|Súgó (Tooltip) szöveg|Kontrol típusa|Hossz|Maszk|Alapértelmezett érték|Törzstábla/kódtábla|
|---|---|---|---|---|---|---|---|
|Név|Név|-|switch|||Bekapcsolt||
|GVK azonosító|GVK azonosító|-|switch|||Bekapcsolt||
|Terület|Terület|-|switch|||Bekapcsolt|GVK.K_TERULET|
|Szakág|Szakág|-|switch|||Bekapcsolt|GVK.K_|
|Értesítési szint|Értesítési szint|-|switch|||Bekapcsolt|GVK.K_HIERARCHIA|
|Munkakör|Munkakör|-|switch|||Bekapcsolt|GVK.|
|Feladat|Feladat|-|switch|||Bekapcsolt|GVK.|
|Szervezet|Szervezet|-|switch|||Bekapcsolt|GVK.|
|Értesítési csoport|Értesítési csoport|-|switch|||Bekapcsolt|GVK.|
|Külsős?|Külsős?|-|switch|||Bekapcsolt||
|Kilépve (-tól)|Kilépve (-tól)|-|switch|||Bekapcsolt||
|Kilépve (-ig)|Kilépve (-ig)|-|switch|||Bekapcsolt||
|Belépve (-tól)|Belépve (-tól)|-|switch|||Bekapcsolt||
|Belépve (-ig)|Belépve (-ig)|-|switch|||Bekapcsolt||
|Szűkítés főkódra|Szűkítés főkódra|-|switch|||Bekapcsolt|GVK.K_KESESFOKOD|
|Bővítés főkódra|Bővítés főkódra|-|switch|||Bekapcsolt|GVK.K_KESESFOKOD|
|Telefonon értesítendő?|Telefonon értesítendő?|-|switch|||Bekapcsolt||
|SMS-ben értesítendő?|SMS-ben értesítendő?|-|switch|||Bekapcsolt||
|Mobilszám|Mobilszám|-|switch|||Bekapcsolt||
|Email-ben értesítendő?|Email-ben értesítendő?|-|switch|||Bekapcsolt||
|Email cím|Email cím|-|switch|||Bekapcsolt||
|Állandó értesítésfogadó?|Állandó értesítésfogadó?|-|switch|||Bekapcsolt||
|Törzsszám|Törzsszám|-|switch|||Bekapcsolt||
|Törölt|Törölt|-|switch|||Bekapcsolt||


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 40/136|





|Nyomógombok|Col2|Col3|Col4|Col5|
|---|---|---|---|---|
|Felirat|Megnevezés|Súgó (Tooltip) szöveg|Alapértelmezés [megnyomható/nem nyomható meg]|Material ikon neve|
||Alkalmazás|-|megnyomható|-|
||Alaphelyzet|-|megnyomható|-|


**2.4.5.** **Hívott szolgáltatások**







|Funkciógomb/link/vezérlőelem esemény|Hívott ablak|Hívott szolgáltatás rövid megnevezése (azonosító)|
|---|---|---|
|Ablakbetöltés|-|S_15 - Beállítások lekérdezése|
|Ablakbetöltés|-|S_27 – Felhasználói aktivitás naplózása|
|- kapcsoló állapotának módosulásakor|-|S_16 - Beállítások mentése|
||-|S_27 – Felhasználói aktivitás naplózása|
|Ablakbezárás|-|S_27 – Felhasználói aktivitás naplózása|


**2.4.6.** **Rendszerüzenetek**

Nincs.

**2.4.7.** **Kódtáblák, választási listák**

Nincs.

**2.4.8.** **Rendszerparaméterek**

Nincs.


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 41/136|

##### 2.5. H06_04 – HUBA – Értesítésfogadó adatai [#89347]

**2.5.1.** **Ablak/lap feladatai**

A HUBA bejegyzéshez rögzített értesítéseknél kiválasztható értesítésfogadó
alapadatainak rögzítése, ill. módosítása.

**2.5.2.** **Ablak/lap megjelenése**


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 42/136|


**2.5.3.** **Ablak/lap működése**

Az ablak a „ **H06_01** **– HUBA – Értesítési beállítások** ” felületen az „ **Értesítésfogadók**

**beállításai** ” lapfülön található (Új), (Szerkesztés), ill.

(Megtekintés) nyomógomb kezelését követően nyílik meg.

A nyomógombok csak azon GVK profil azonosítójú felhasználó számára aktív,
megnyomható, akihez az alábbi operandus hozzá van rendelve:

     -, ill. nyomógomb:
**OP_H06_04_ErtesitesFogadoSzerkeszt** operandus

     - nyomógomb: **OP_H06_04_ErtesitesFogadoMegtekint** operandus.

**Az ablak felépítése**

Az ablak a képernyő közepén jelenik meg a H06_01A felett.

Az ablak tartalmazza:

     - Az ablak azonosítóját, valamint megnevezését egy fehér hátterű sávban:

**H06_04 – HUBA – Értesítésfogadó adatai**

     - Beviteli és megjelenítő mezők:

`o` Lenyíló listás beviteli mező autocomplete (kiválasztási) funkcióval: Név,

GVK azonosító, Értesítési szint, Terület, [#94940] Szervezeti [#94940 vége] egység,
Szolgálati hely, Szervezet, Munkakör, Feladat

`o` Lenyíló listás chips-es beviteli mezők autocomplete (kiválasztás)

funkcióval: Értesítési csoport, Szűkítés főkódra, Bővítés főkódra

`o` Egysoros szöveges beviteli mezők: Törzsszám, Mobilszám, E-mail cím

     - Checkbox-ok: Külsős, Állandó értesítésfogadó, Telefonon értesítendő, SMS-ben

értesítendő, E-mailben értesítendő

     - Nyomógombok:

`o` nyomógomb: A < **Mentés és bezárás**       - nyomógomb
alapértelmezetten kezelhető (megnyomható), amennyiben a GVK profil
azonosítójú felhasználóhoz hozzá van rendelve az
**OP_H06_04_ErtesitesFogadoSzerkeszt** operandus.

`o` nyomógomb: A < **Mégsem**       - nyomógomb
alapértelmezetten kezelhető (megnyomható).

     - nyomógomb az ablak jobb felső sarkában az ablak bezárásához.

**Ablak működési módok:**

A képernyő három különböző módon nyitható meg:

     - **Rögzítés** : A „ **H06_04** **- HUBA - Értesítésfogadó** ” ablak mentésével jön létre az

értesítésfogadó, a konkurenskezelés aktív.


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 43/136|



        - **Szerkesztés** : Az ablak betöltésekor feltöltődnek a mezők a korábban mentett

tartalommal, a szerkeszthető mezők aktívak, a konkurenskezelés aktív.

        - **Megtekintés** : Az ablak betöltésekor feltöltődnek a mezők a korábban mentett

tartalommal, minden mező inaktív, nincs konkurenskezelés.

**Ablakbetöltés és működés megnyitási módonként**

Összefoglaló táblázat a mezők szerkeszthetőségéről:




















|Mező neve|Kötelező? (ha nem törölt)|Rögzítés|Szerkesztés|Megtekintés|
|---|---|---|---|---|
|Név|I|szerkeszthető, ha nincs AD azonosító|nem szerkeszthető|nem szerkeszthető|
|GVK azonosító|I, ha van|szerkeszthető, ha több GVK azonosító van|nem szerkeszthető|nem szerkeszthető|
|Törzsszám|N|nem szerkeszthető|nem szerkeszthető|nem szerkeszthető|
|Külsős|N|szerkeszthető|szerkeszthető, ha nem törölt|nem szerkeszthető|
|Állandó értesítésfogadó|N|szerkeszthető|szerkeszthető, ha nem törölt|nem szerkeszthető|
|Értesítési szint|I|szerkeszthető, ha nincs GVK azonosító|szerkeszthető, ha nem törölt és ha nincs GVK azonosító|nem szerkeszthető|
|Terület|I, ha Értesítési szint = Terület|szerkeszthető, ha nincs GVK azonosító|szerkeszthető, ha nem törölt és ha nincs GVK azonosító|nem szerkeszthető|
|#94940 Szervezeti #94940 vége egység|I, ha Értesítési szint = #94940 Szervezeti #94940 vége egység|szerkeszthető, ha nincs GVK azonosító|szerkeszthető, ha nem törölt és ha nincs GVK azonosító|nem szerkeszthető|
|Szolgálati hely|I, ha Értesítési szint = Szolgálati hely|szerkeszthető, ha nincs GVK azonosító|szerkeszthető, ha nem törölt és ha nincs GVK azonosító|nem szerkeszthető|
|Értesítési csoport|N|szerkeszthető|szerkeszthető, ha nem törölt|nem szerkeszthető|
|Szervezet|I|szerkeszthető, ha nincs GVK azonosító|szerkeszthető, ha nem törölt és ha nincs GVK azonosító|nem szerkeszthető|
|Szakág|#99383 N|szerkeszthető, ha nincs GVK azonosító|szerkeszthető, ha nem törölt és ha nincs GVK azonosító|nem szerkeszthető|
|Munkakör|I|szerkeszthető|szerkeszthető, ha nem törölt|nem szerkeszthető|
|Feladat|I|szerkeszthető|szerkeszthető, ha nem törölt|nem szerkeszthető|
|Szűkítés főkódra|N|szerkeszthető|szerkeszthető, ha nem törölt|nem szerkeszthető|
|Bővítés főkódra|N|szerkeszthető|szerkeszthető, ha nem törölt|nem szerkeszthető|
|Telefonon értesíthető|N|szerkeszthető|szerkeszthető, ha nem törölt|nem szerkeszthető|


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 44/136|











|SMS-ben értesíthető|N|szerkeszthető|szerkeszthető, ha nem törölt|nem szerkeszthető|
|---|---|---|---|---|
|Mobilszám|I, ha Telefonon vagy SMS-ben értesíthető|szerkeszthető, ha nincs AD azonosító ÉS (Telefonon VAGY SMS- ben értesíthető)|szerkeszthető, ha nem törölt ÉS nincs AD azonosító ÉS (Telefonon VAGY SMS- ben értesíthető)|nem szerkeszthető|
|E-mailben értesíthető|N|szerkeszthető, ha nem törölt|szerkeszthető, ha nem törölt|nem szerkeszthető|
|E-mail cím|I, ha E-mailben értesíthető|szerkeszthető, ha nincs AD azonosító ÉS E- mailben értesíthető|szerkeszthető, ha nem törölt ÉS nincs AD azonosító ÉS E-mailben értesíthető|nem szerkeszthető|


Az értesítésfogadó törlése a „ **H06_01 – HUBA - Értesítés** ” ablakban indítható.

**2.5.3.1.** **Rögzítés mód** **[#89384]**

Az ablak betöltésekor a kliens meghívja az „ **S_27 – Felhasználói aktivitás naplózása** ”
szolgáltatást az alábbi bemenő paraméterekkel:

  - Ablakazonosító (’WINDOW_ID’): „H06_04”

  - Esemény (’ACTIVITY’): „WindowOpen”

  - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója

  - GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója

  - Esemény kiegészítő információk (’ACTIVITY_EXT’): „Create”

  - Bejegyzés azonosító (’MAIN_ID’): NULL

  - Bejegyzés sub azonosító (’SUB_ID’): NULL

  - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): NULL

A kliens minden kereső paraméterre vonatkozóan meghívja az „ **S_08 - Lekérdezési**
**paraméterek értékkészletének lekérdezése** ” szolgáltatást, bemenő paraméterként
átadva neki az adatelem azonosítóját (AutosuggestId).

Az S_08 hívások és az átadott értékek:

  - GVK Azonosító (’GvkUserId’)

  - Értesítésfogadó (’ErtesitesFogado’)

  - Értesítési szint (’HierarchiaSzint’)

  - Terület (’Terulet_A20’)

  - #94940 Szervezeti #94940 vége egység (’ForgalmiCsomopont_A20’)

  - Szolgálati hely (’SzolgalatiHely_A20’)

  - Értesítési csoport (’ErtesitesiCsoport’)

  - Szervezet (’Szervezet’)

  - Szakág (’Szakag_H08_01’)

  - Munkakör/Feladat (’MunkakorFeladat’)

  - Főkód (’KesesFokod’)

A kliens az „ **S_08 - Lekérdezési paraméterek értékkészletének lekérdezése** ”
szolgáltatás hívások során visszakapott listaszerű adatokkal az alábbiak szerint feltölti
az autocomplete (kiválasztási) funkcióval rendelkező szöveges beviteli mezők

értékkészletét az alábbiak szerint.


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 45/136|


**Az ablak az alábbi adatbeviteli mezőket tartalmazza**, amelyek az alábbi funkciókkal és
szabályokkal bírnak. A kliens az alábbi sorrendben teszi lehetővé a mezők töltését.

1. **Név** : A mező kitöltése kötelező, az ablak betöltésekor piros kerettel és felirattal

jelenik meg. Az S_08 szolgáltatástól visszakapott Értesítésfogadó
(’Értesítésfogadó’) ’text’ mezőben kapott Global AD felhasználók nevei közül
lehet választani vagy a ’Create’ lehetőséget választva szövegesen beírt név
rögzíthető. A szolgáltatástól visszakapott értékekben 3 karakter beírását
követően indul [[#98613 ]](https://tadads1.tad.mavinformatika.hu/MAVICollection/IFP/_workitems/edit/96564) a név elejében történőt [[#98613 vége]](https://tadads1.tad.mavinformatika.hu/MAVICollection/IFP/_workitems/edit/96564) keresés. Kötelező mező.

Global AD felhasználó választása esetén a kliens a GVK profilok lekérdezése
céljából meghívja az „ **S_05 - Felhasználói beállítások lekérdezése** ”
szolgáltatást, bemenő paraméterként átadva a kiválasztott AD azonosítót
(’AD_USER_ID’).

2. **GVK azonosító** : Az ablak betöltésekor a mező disabled státuszú. Amennyiben

az S_06 szolgáltatás

       - nem ad vissza egy GVK azonosítót sem, a mező disabled státuszú marad;

       - egy GVK azonosítót ad vissza, akkor az S_06-tól visszakapott GVK profil

neve (’gvk_user_name’) megjelenik a mezőben, a mező disabled
státuszú marad (kötelező mező);

       - több GVK azonosítót ad vissza, az S_06_tól visszakapott GVK profil nevek

(’gvk_user_name’) megjelenik választható értékként a mezőben. A
mező szerkeszthetővé és kötelezővé válik, alapértelmezetten üres.
Kötelező egy GVK azonosító választása.
Egy GVK azonosító, ill. több GVK azonosító esetén a kiválasztott GVK
azonosító esetén a kliens a GVK profilhoz rendelt további adatok
lekérdezése céljából meghívja az „ **S_37 - Felhasználó adatok lekérdezése** ”
szolgáltatást, bemenő paraméterként átadva a GVK azonosítót.

3. **Global AD-ból kapott adatok megjelenítése:**

       - **Törzsszám** : A mező disabled státuszú. A Név mezőben Global AD

felhasználó választása esetén kitöltődik az S_08 szolgáltatástól
visszakapott Értesítésfogadó (’Értesítésfogadó’) ’torzsszam’ mező

értékével.

       - **Mobilszám** : A mező alapértelmezetten disabled státuszú. A Név

mezőben Global AD felhasználó választása esetén kitöltődik az S_08
szolgáltatástól visszakapott Értesítésfogadó (’Értesítésfogadó’) ’mobil’

mező értékével.

A Név mezőben manuálisan rögzített új értesítésfogadó név rögzítése

esetén a mező szerkeszthető.

A Telefonon értesíthető vagy SMS-ben értesíthető checkbox-ok
valamelyikének kezelése (bepipálása) esetén a Mobilszám kötelező

mező.

       - **E-mail cím** : A mező alapértelmezetten disabled státuszú. A Név

mezőben Global AD felhasználó választása esetén kitöltődik az S_08


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 46/136|


szolgáltatástól visszakapott Értesítésfogadó (’Értesítésfogadó’) ’email’

mező értékével.

A Név mezőben manuálisan rögzített új értesítésfogadó név rögzítése

esetén a mező szerkeszthető.

Az E-mailben értesíthető checkbox kezelése (bepipálása) esetén az E
mail cím kötelező mező.

4. **GVK profil adatok megjelenítése** :

       - **Értesítési szint** : A mező szerkeszthető és kötelező mező.

A mezőben az S_08 szolgáltatástól visszakapott Értesítési szint
(’HierarchiaSzint') ’text’ mező értékei jelennek meg a következő kódok
esetén: ’H’ – Hálózat, ’T’ – Terület, ’FC’ – Forgalmi csomópont, ’SZ’ –
Szolgálati hely. Kötelező mező.

Kitöltött GVK azonosító mező esetén kitöltődik az S_37 szolgáltatástól
visszakapott Hierarchia szint (’hierarchia_szint’) mező értékével, a mező

ebben az esetben nem szerkeszthető.

Amennyiben a Külsős checkbox-ot kezeli (bepipálja) a felhasználó, az
Értesítési szint értéke alapértelmezetten kitöltődik a ’H’ – Hálózati

értékkel.

’H’ – Hálózati értesítési szint esetén a Terület, [#94940] Szervezeti [#94940 vége]
egység, Szolgálati hely mezők disabled státuszúak.

          - **Terület** : A mező alapértelmezetten disabled státuszú.
Amennyiben az Értesítési szint értéke ’T’ – Terület, a Terület mező
kötelezővé válik. A mezőben az S_08 szolgáltatástól visszakapott
Terület (’Terulet_A20') ’text’ mező értékei jelennek meg,
amelyekből egyet kell választani.

Kitöltött GVK azonosító mező esetén kitöltődik az S_37
szolgáltatástól visszakapott Terület (’terulet’) mező értékével, a

mező ebben az esetben nem szerkeszthető.

          - #94940 **Szervezeti** #94940 vége **egység** : A mező alapértelmezetten
disabled státuszú. Amennyiben az Értesítési szint értéke ’FC’ –
Forgalmi csomópont, a [#94940] Szervezeti [#94940 vége] egység mező
kötelezővé válik. A mezőben az S_08 szolgáltatástól visszakapott
#94940 Szervezeti #94940 vége egység (’ForgalmiCsomopont_A20')
’text’ mező értékei jelennek meg, amelyekből egyet kell

választani.

Kitöltött GVK azonosító mező esetén kitöltődik az S_37
szolgáltatástól visszakapott Forgalmi csomópont
(’forgalmi_csomopont’) mező értékével, a mező ebben az esetben

nem szerkeszthető.

          - **Szolgálati hely** : A mező alapértelmezetten disabled státuszú.

Amennyiben az Értesítési szint értéke ’SZ’ – Szolgálati hely, a
Szolgálati hely mező kötelezővé válik. A mezőben az S_08


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 47/136|


szolgáltatástól visszakapott Szolgálati hely (’SzolgalatiHely_A20')
’text’ mező értékei jelennek meg, amelyekből egyet kell

választani.

Kitöltött GVK azonosító mező esetén kitöltődik az S_37
szolgáltatástól visszakapott Szolgálati hely (’szolgalati_hely’) mező
értékével, a mező ebben az esetben nem szerkeszthető.

       - **Szervezet** : A mező alapértelmezetten disabled státuszú.

A mezőben az S_08 szolgáltatástól visszakapott Szervezet (’Szervezet')
’text’ mező értékei jelennek meg, melyekből egyet kell választani.

Kitöltött GVK azonosító mező esetén kitöltődik az S_37 szolgáltatástól
visszakapott Vasútvállalat (’Vasutvallalat’) mező értékével, a mező
ebben az esetben nem szerkeszthető. GVK azonosító hiányában a mező

szerkeszthető. Kötelező mező.

       - **Szakág** : A mező alapértelmezetten disabled státuszú.

A mezőben az S_08 szolgáltatástól visszakapott Szakág (’Szakag') mező
értékei jelennek meg, melyekből több érték is választható.

Kitöltött GVK azonosító mező esetén kitöltődik az S_37 szolgáltatástól
visszakapott Szakágak (’szakagak’) mező értékével/értékeivel, a mező
ebben az esetben nem szerkeszthető. GVK azonosító hiányában a mező
szerkeszthető. Opcionális mező.

5. **Egyéb adatok megadása** :

       - **Külsős** : A checkbox alapértelmezetten nem kezelhető. A Név mező

kiválasztásakor válik kezelhetővé. Alapértelmezetten nincs bepipálva.
Opcionális mező.

       - **Állandó értesítésfogadó** : A checkbox alapértelmezetten nem kezelhető.

A Név mező kiválasztásakor válik kezelhetővé. Alapértelmezetten nincs
bepipálva. Opcionális mező.

       - **Értesítési csoport** : A mező alapértelmezetten disabled státuszú. A Név

mező kiválasztásakor válik kezelhetővé. A mezőben az S_08
szolgáltatástól visszakapott Értesítési csoport (’ErtesitesiCsoport') ’text’
mező értékei jelennek meg, amelyekből több is választható. Opcionális

mező

       - A Munkakör és Feladat mezők közül az egyik mező kitöltése kötelező.

          - **Munkakör** : A mező alapértelmezetten disabled státuszú. A Név

mező kiválasztásakor válik kezelhetővé. A mezőben az S_08
szolgáltatástól visszakapott azon Munkakör/Feladat
(’Munkakor/Feladat’) ’text’ mező értékei jelennek meg, amelyek
típusa (’tipus’) ’M’ (= munkakör). Egyet kell választani,
amennyiben a Feladat mező nem kerül kitöltésre.

          - **Feladat** : A mező alapértelmezetten disabled státuszú. A Név mező

kiválasztásakor válik kezelhetővé. A mezőben az S_08


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 48/136|


szolgáltatástól visszakapott azon Munkakör/Feladat
(’Munkakor/Feladat’) ’text’ mező értékei jelennek meg, amelyek
típusa (’tipus’) ’F’ (= feladat). Egyet kell választani, amennyiben a

Munkakör mező nem kerül kitöltésre.

       - **Szűkítés főkódra** és **Bővítés főkódra** : A mező alapértelmezetten

disabled státuszú. A Név mező kitöltésekor válik kezelhetővé. A

mezőben az S_08 szolgáltatástól visszakapott Késés főkód
(’KesesFokod') ’text’ mező értékei jelennek meg, amelyekből több is
választható. Opcionális mező

       - **Telefonon értesíthető** : A checkbox alapértelmezetten nem kezelhető. A

Név mező kiválasztásakor válik kezelhetővé. Alapértelmezetten nincs
bepipálva. Opcionális mező. A checkbox kezelésekor a Mobilszám mező

kötelezővé válik.

       - **SMS-ben értesíthető** : A checkbox alapértelmezetten nem kezelhető. A

Név mező kiválasztásakor válik kezelhetővé. Alapértelmezetten nincs
bepipálva. Opcionális mező. A checkbox kezelésekor a Mobilszám mező

kötelezővé válik.

       - **E-mailben értesíthető** : A checkbox alapértelmezetten nem kezelhető. A

Név mező kiválasztásakor válik kezelhetővé. Alapértelmezetten nincs
bepipálva. Opcionális mező. A checkbox kezelésekor az E-mail cím mező

kötelezővé válik.

**2.5.3.2.** **Szerkesztés mód** [#89393]

Az ablak betöltésekor a kliens meghívja az „ **S_27 – Felhasználói aktivitás naplózása** ”
szolgáltatást az alábbi bemenő paraméterekkel:

    - Ablakazonosító (’WINDOW_ID’): „H06_04”

    - Esemény (’ACTIVITY’): „WindowOpen”

    - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója

    - GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója

    - Esemény kiegészítő információk (’ACTIVITY_EXT’): „Modify”

    - Bejegyzés azonosító (’MAIN_ID’): értesítésfogadó egyedi azonosítója
( **ERTESITES_FOGADO_ID** )

    - Bejegyzés sub azonosító (’SUB_ID’): NULL

    - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): NULL

A kliens az „ **S_27 – Felhasználói aktivitás naplózása** ” szolgáltatástól visszakapott
„ **ACTIVITY_ID** ”-val elindítja a konkurenskezelés életjelküldés funkcióját (meghívja a
**„K_15_02** **–** **Életjel** **küldés”** függvényt 20mp-ént (rendszerparaméterben
meghatározott) történő meghívásával.

Az életjelküldés funkció minden esetben ellenőrzi a munkamenet érvényességét, és

eszerint választ küld a kliensnek az alábbiak szerint:

    - „OK” – a függvény frissítette a munkamenetet, a szerkesztés folytatható;


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 49/136|



    - „CEASED_ACTIVITY” – Valamilyen esemény folytán a munkamenet megszakadt,

de a munkamenet még nem került a háttérben lezárásra. A felhasználó dönthet,
hogy folytatja-e a munkát. Ez az eset akkor fordulhat elő, ha az életjelküldés
legutóbb 1 percnél korábban futott le, de még nem érte el a 10 percet
(rendszerparaméterben meghatározott időzítések).

A kliens az alábbi üzenetet jeleníti meg:

`o` Amennyiben a felhasználó azt választja, hogy folytatja a munkamenetet

(< **Igen**         - nyomógombot kezeli), a rendszer úgy kezeli, mintha a munkamenet
folyamatos lett volna. A kliens meghívja a **„K_15_03 – Életjel küldés**
**ellenőrzés nélkül”** eljárást az „ **S_27 – Felhasználói aktivitás naplózása** ”
szolgáltatástól ’WindowOpen’ eseménykor visszakapott „ **ACTIVITY_ID** ”-val,
amely ellenőrzés nélkül végrehajtja az életjelküldés funkciót, így a
továbbiakban folytatható a munkamenet.

`o` Amennyiben a felhasználó úgy dönt, hogy a munkamenetet lezárja (< **Nem**     
nyomógombot kezeli), ami egy < **Mégsem**       - gomb megnyomásával
egyenértékű, azaz a kliens mentés nélkül bezárja a képernyőt. Ebben az
esetben a < **Mégsem**       - gomb megnyomása esetén leírt folyamatok
hajtódnak végre.

    - „CLOSED_ACTIVITY” – Valamilyen esemény folytán a munkamenet megszakadt

és a munkamenet a háttérben már lezárásra került, a szerkesztés NEM
folytatható. A kliens mentés nélkül bezárja az ablakot. Ilyen akkor fordulhat elő,
ha hosszabb kihagyás (rendszerparaméterben meghatározandó –
alapértelmezetten 10 perc) után küldött a kliens újra életjelet.

A kliens az alábbi üzenetet jeleníti meg:

Az < **OK**       - nyomógomb kezelése után a < **Mégsem**       - nyomógomb kezelése esetén
leírt folyamatokat hajtja végre a kliens.

    - „ERROR:MISSING_ACTIVITY” – Valamilyen hiba folytán a munkamenet nem

található, a kliens az alábbi üzenetet jeleníti meg:


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 50/136|


Az < **OK**       - nyomógomb kezelése után a < **Mégsem**       - nyomógomb kezelése esetén
leírt folyamatokat hajtja végre a kliens.

A kliens minden kereső paraméterre vonatkozóan meghívja az „ **S_08 - Lekérdezési**
**paraméterek értékkészletének lekérdezése** ” szolgáltatást, bemenő paraméterként
átadva neki az adatelem azonosítóját (AutosuggestId).

Az S_08 hívások és az átadott értékek:

    - GVK Azonosító (’GvkUserId’)

    - Értesítési szint (’HierarchiaSzint’)

    - Terület (’Terulet_A20’)

    - #94940 Szervezeti #94940 vége egység (’ForgalmiCsomopont_A20’)

    - Szolgálati hely (’SzolgalatiHely_A20’)

    - Értesítési csoport (’ErtesitesiCsoport’)

    - Szervezet (’Szervezet’)

    - Szakág (’Szakag_H08_01’)

    - Munkakör/Feladat (’MunkakorFeladat’)

    - Főkód (’KesesFokod’)

A kliens az „ **S_08 - Lekérdezési paraméterek értékkészletének lekérdezése** ”
szolgáltatás hívások során visszakapott listaszerű adatokkal az alábbiak szerint feltölti
az autocomplete (kiválasztási) funkcióval rendelkező szöveges beviteli mezők

értékkészletét az alábbiak szerint.

A kliens ezután meghívja az [#99383] **„S_80 – Értesítésfogadó adatainak lekérdezése”**
szolgáltatást, amelynek bemenő paraméterként az értesítésfogadó azonosítóját
(’ertFogadoId’) adja át. A kliens megjeleníti a szolgáltatástól visszakapott adatokat a
mezőkben és az alábbiak szerint engedélyezi az értékek módosítását:

    - Értesítésfogadó azonosító (’ertFogadoId’): Nem jelenik meg a kliensen.

    - Értesítésfogadó név (’ertFogadoNev’): A Név mezőben jelenik meg.

    - AD azonosító (’adAzonosito’): Nem jelenik meg a kliensen.

    - GVK azonosító (’gvkAzonosito’): A GVK Azonosító mezőben jelenik meg az S_08
tól visszakapott GVK profil név (’GvkUserId’) ’value’ értéke.

    - Törzsszám (’torzsszam’): A Törzsszám mezőben jelenik meg.

    - Külsős (’kulsos’): ’I’ érték esetén a Külsős checkbox bepipálódik; egyébként

nem.

    - Állandó értesítésfogadó (’allando’): ’I’ érték esetén az Állandó értesítésfogadó

checkbox bepipálódik; egyébként nem.

    - Értesítési szint (’ertSzint’): Az Értesítési szint mezőben jelenik meg az S_08-tól

visszakapott Értesítési szint (’HierarchiaSzint’) ’text’ értéke.


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 51/136|



    - Terület (’terulet’): A Terület mezőben jelenik meg az S_08-tól visszakapott

Terület (’Terulet_A20’) ’text’ értéke.

    - Egység (’egyseg’): A Szervezeti egység mezőben jelenik meg az S_08-tól

visszakapott Szervezeti egység (’ForgalmiCsomopont_A20’) ’text’ értéke.

    - Szolgálati hely (’szolgHely’): A Szolgálati hely mezőben jelenik meg az S_08-tól

visszakapott Szolgálati hely (’SzolgalatiHely_A20’) ’text’ értéke.

    - Értesítési csoportok (’ertCsoportok’): Az Értesítési csoport mezőben jelenik

(-nek) meg az S_08-tól visszakapott Értesítési csoport (’ErtesitesiCsoport’) ’text’
értéke(i).

`o` Értesítési csoport (’ertCsopId’)

    - Szervezet (’szervezet’): A Szervezet mezőben jelenik meg az S_08-tól

visszakapott Szervezet (’Szervezet’) ’text’ értéke.

    - Szakágak (’szakagak’): A Szakág mezőben jelenik(-nek) meg az S_08-tól

visszakapott Szakágak (’Szakag_H08_01’) ’text’ értéke(i).

`o` Szakág (’szakagId’)

    - Munkakör (’munkakor’):

Az S_08-tól visszakapott Munkakör (’Munkakor’) ’text’ értéke a Munkakör
mezőben jelenik meg, ha a munkakör típusa ’M’ és a Feladat mezőben, ha a
munkakör típusa ’F’.

`o` Munkakör megnevezés (’id’)
`o` Munkakör típus (’tipus’): Lehetséges értéke ’M’ – Munkakör vagy ’F’ –

Feladat.

    - Feladat (’feladat’): A Feladat mezőben jelenik meg az S_08-tól visszakapott

Munkakör/Feladat (’MunkakorFeladat’) ’text’ értéke.

    - Szűkítés főkódokra (’szukitesFokodok’): A Szűkítés főkódra mezőben jelenik

(-nek) meg az S_08-tól visszakapott Főkód (’KesesFokod’) ’text’ értéke(i).

`o` Szűkítés főkódra (’szukitesFokodKod’)

    - Bővítés főkódokra (’bovitesFokodok’): A Bővítés főkódra mezőben jelenik

(-nek) meg az S_08-tól visszakapott Főkód (’KesesFokod’) ’text’ értéke(i).

`o` Bővítés főkódra (’bovitesFokodKod’)

    - Telefonon értesíthető (’telefonErt’): ’I’ érték esetén a Telefonon értesíthető

checkbox bepipálódik; egyébként nem.

    - SMS-ben értesíthető (’smsErt’): ’I’ érték esetén az SMS-ben értesíthető

checkbox bepipálódik; egyébként nem.

    - Email-ben értesíthető (’emailErt’): ’I’ érték esetén az Email-ben értesíthető

checkbox bepipálódik; egyébként nem.

    - Mobilszám (’mobilszam’): A Mobilszám mezőben jelenik meg.

    - E-mail cím (’email’): Az E-mail cím mezőben jelenik meg.

    - Aktív (’aktiv’): Nem jelenik meg a kliensen.
#99383 vége

**2.5.3.3.** **Megtekintés mód** [#89393]

Az ablak betöltésekor a kliens meghívja az „ **S_27 – Felhasználói aktivitás naplózása** ”
szolgáltatást az alábbi bemenő paraméterekkel:

    - Ablakazonosító (’WINDOW_ID’): „H06_04”

    - Esemény (’ACTIVITY’): „WindowOpen”


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 52/136|



    - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója

    - GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója

    - Esemény kiegészítő információk (’ACTIVITY_EXT’): „View”

    - Bejegyzés azonosító (’MAIN_ID’): NULL

    - Bejegyzés sub azonosító (’SUB_ID’): NULL

    - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): NULL

A kliens ezután meghívja az [#99383] **„S_80 – Értesítésfogadó adatainak lekérdezése”**
szolgáltatást #99383 vége, amelynek bemenő paraméterként az értesítésfogadó
azonosítóját (’ertFogadoId’) adja át. A kliens megjeleníti a szolgáltatástól visszakapott
adatokat a mezőkben (ld. Szerkesztés mód leírásában), egyik mező sem szerkeszthető.

**Nyomógombok működése** [#89384]

nyomógomb kezelése: A < **Mentés és bezárás**           - nyomógomb csak
rögzítés, ill. szerkesztés mód esetén kezelhető. A nyomógomb kezelésekor a kliens
először ellenőrzi a kötelező mezők kitöltöttségét.

Amennyiben valamelyik kötelező mezőben nem szerepel érték, a kliens az alábbi popup üzenetet jeleníti meg az ablak felett középen (az üzenetben írt e-mail cím linkként
jelenik meg, rákattintva megnyílik a felhasználó alapértelmezett e-mail kezelő
alkalmazása, új e-mail üzenetet megnyitva, ahol a címzett: [helpdesk@mav](mailto:helpdesk@mav-szk.hu)   - szk.hu ).

Amennyiben minden kötelező mező ki van töltve, a kliens az alábbi sorrendben hívja
meg a szolgáltatásokat:

    - Az ablak szerkesztési módban történt megnyitása esetén a kliens az **„S_27 –**

**Felhasználói aktivitás naplózása** ” szolgáltatástól (WindowOpen eseménykor)
visszakapott **„ACTIVITY_ID** ”-val, soron kívül elindítja a Konkurenskezelés
életjelküldés funkcióját, a **„K_15_02 – Életjel küldés (SET_DATA_LIFESIGN)”**
függvény meghívásával.

    - #98672 Amennyiben a Név mezőben AD user választása nélkül manuálisan adja
meg a felhasználó az értéket, a <Mentés és bezárás> nyomógomb kezelésekor
a kliens a név foglaltság ellenőrzése céljából meghívja az „ **S_18 – Azonosító**
**foglaltság lekérdezése** ” szolgáltatást, bemenő paraméterként átadva a beírt
Értesítésfogadó nevet (’ErtesitesFogadoNev’). A szolgáltatástól visszakapott

érték:

`o` ’true’: A kliens az alábbi pop-up üzenetet jeleníti meg és nem hívja meg

az „ **S_63 – Értesítésfogadó adatainak mentése** ” szolgáltatást:


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 53/136|


`o` ’false’: A kliens továbblép, meghívja az „ **S_63 – Értesítésfogadó**

**adatainak mentése** ” szolgáltatást. [#98672 vége]

    - Az ablakban berögzített/módosított mezők értékének elmentése céljából a

kliens meghívja az „ **S_63 – Értesítésfogadó adatainak mentése** ” szolgáltatást,
melynek az alábbi bemenő paramétereket adja át:

`o` Értesítésfogadó azonosítója (’ertFogadoId’): Rögzítési módban NULL,

egyébként az értesítésfogadó azonosítója.
`o` Aktív? (’aktiv’) (I/N): Rögzítési, ill. szerkesztési módban ’I’.
`o` AD azonosító (’adAzonosito’)
`o` GVK azonosító (’gvkAzonosito’)
`o` Értesítésfogadó név (’ertFogadoNev’)
`o` Külsős? (’kulsos’) (I/N)
`o` Állandó értesítésfogadó? (’allando’) (I/N)
`o` Értesítési szint (’ertSzint’): értesítési szint azonosító (max. 1 érték).

Lehetséges értékei:

           - 1 – Hálózat

           - 2 – Terület

           - 3 – Forgalmi csomópont (kliensen: [#94940] Szervezeti [#94940 vége]

egység)

           - 5 – Szolgálati hely
`o` Terület (’terulet’): terület azonosító (max. 1 érték)
`o` #94940 Szervezeti #94940 vége egység (’egyseg’): azonosító (max. 1 érték)
`o` Szolgálati hely (’szolgHely’): azonosító (max. 1 érték)
`o` Értesítési csoport (’ertCsoportok’): több érték is lehet

           - Értesítési csoport azonosító (’ertCsopId’)

           - Értesítési csoport neve (’ertCsopNev’)

lehetséges értékei:

           - V[id] esetén a szervezet vasútvállalat,

           - E[id] esetén a szervezet egyéb szervezet.
`o` Szakág (’szakagak’): lehet több érték is

           - Szakág azonosító (’szakagId’)

           - Szakág neve (’szakagNev’)
`o` Munkakör (’munkakor’): munkakör/feladat azonosító (max. 1 érték).
`o` Feladat (’feladat’): munkakör/feladat azonosító (max. 1 azonosító

lehet).
`o` Szűkítés főkódra (’szukitesFokodra’): főkód kódja (több érték esetén ;
vel elválasztva).
`o` Bővítés főkódra (’bovitesFokodra’): főkód kódja (több érték esetén ;-vel

elválasztva).
`o` Telefonon értesíthető? (’telefonErt’) (I/N)
`o` SMS-ben értesíthető? (’smsErt’) (I/N)
`o` E-mail-ben értesíthető? (’emailErt’) (I/N)
`o` Mobilszám (’mobil’)
`o` E-mail cím (’email’)



-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 54/136|


**Mentés eredménye** (’status’):

`o` 200 – **Sikeres mentés esetén** a kliens az alábbi pop-up üzenetet jeleníti meg:

#99440 eleje

#99440 vége

       - Az ablak szerkesztési módban történt megnyitása esetén a kliens lezárja

a munkamenetet a **„K_15_04** **–** **Munkamenet** **lezárás**
**(SET_DATA_CLOSE)”** eljárás meghívásával, amelynek bemenő
paraméterként az **„S_27 – Felhasználói aktivitás naplózása** ”
szolgáltatástól (WindowOpen eseménykor) visszakapott
**„ACTIVITY_ID** ”-t adja át.

       - A mentést követően a kliens egymás után kétszer meghívja az „ **S_27 –**

**Felhasználói aktivitás naplózása** ” szolgáltatást az alábbi bemenő
paraméterekkel:

Első hívás:

`o` Ablakazonosító (’WINDOW_ID’): „H06_04”
`o` Esemény (’ACTIVITY’): „Create”, ill. „Modify” a megnyitás módjától

függően
`o` AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD

azonosítója
`o` GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója
`o` Esemény kiegészítő információk (’ACTIVITY_EXT’): JSON formában a

mentés részletei

`o` Bejegyzés azonosító (’MAIN_ID’): szerkesztési mód esetén az

értesítés fogadó egyedi azonosítója ( **ERTESITES_FOGADO_ID** ),
egyéb esetekben NULL
`o` Bejegyzés sub azonosító (’SUB_ID’): NULL
`o` Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): A

WindowOpen eseménykor kapott ACTIVITY_ID.

Második hívás: ld. Ablak bezárása


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 55/136|


Ebben az esetben a < **Mentés és bezárás**      - nyomógomb újra kezelhető.

nyomógomb kezelése: A < **Mégsem**        - nyomógomb minden módban
kezelhető. A nyomógomb kezelésekor rögzítési, ill. szerkesztési módban a kliens az
alábbi pop-up üzenetet jeleníti meg az ablak felett középen:

#99440 eleje

#99440 vége

    - < **Igen**    - nyomógomb kezelésekor bezárul a pop-up üzenet és a H06_04 ablak is.

Szerkesztési módban a kliens meghívja a **„K_15_04 – Munkamenet lezárás**
**(SET_DATA_CLOSE)”** eljárást, amelynek bemenő paraméterként az **„S_27 –**
**Felhasználói aktivitás naplózása** ” szolgáltatástól (WindowOpen eseménykor)
visszakapott **„ACTIVITY_ID** ”-t adja át. Ezzel zárja a munkamenetet.

Ezután meghívja az S_27 szolgáltatást: ld. Ablak bezárása.

    - < **Nem**    - nyomógomb kezelésekor bezárul a pop-up üzenet, a felhasználó tovább

folytatja a munkáját a H06_04 ablakban.

#99383 A nyomógomb kezelésekor megtektinési módban a kliens bezárja az ablakot.
#99383 vége

**Ablak bezárása**

A képernyő bezárásakor, valamint mellékattintáskor a kliens meghívja az „ **S_27 –**
**Felhasználói aktivitás naplózása** ” szolgáltatást az alábbi bemenő paraméterekkel:

    - Ablakazonosító (’WINDOW_ID’): „H06_04”

    - Esemény (’ACTIVITY’): WindowClose

    - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója

    - GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója

    - Esemény kiegészítő információk (’ACTIVITY_EXT’): „Create”, „Modify” vagy

„View” a megnyitás módjától függően


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 56/136|



    - Bejegyzés azonosító (’MAIN_ID’): szerkesztési mód esetén az értesítés fogadó

egyedi azonosítója, egyéb esetekben NULL.

    - Bejegyzés sub azonosító (’SUB_ID’): NULL

    - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): A
’WindowOpen’ eseménykor kapott ACTIVITY_ID **.**


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 57/136|

### **2.5.4. Az ablak szerkezeti leírása ** **Beviteli/megjelenítő mezők, kiválasztó lista (combo box), kapcsoló, rádiógomb **

















|Felirat|Megnevezés|Súgó (Tooltip) szöveg|Kontrol típusa|Hossz|Maszk|Alapértelmezett érték|Törzstábla/kódtábla|
|---|---|---|---|---|---|---|---|
|Név:|Név|-|combobox|AN50||-||
|GVK azonosító:|GVK azonosító|-|combobox|||-|GVK.GVK_USERS|
|Törzsszám:|Törzsszám|-|szöveges megjelenítő mező|||-|HUBA.GLOBAL_AD_ USERS|
|Külsős:|Külsős|-|checkbox|||-||
|Állandó értesítésfogadó:|Állandó értesítésfogadó|-|checkbox|||-||
|Értesítési szint:|Értesítési szint|-|combobox|||-|GVK.K_HIERARCHIA_ SZINT|
|Terület:|Terület|-|combobox|||-|GVK.K_TERULET|
|#94940 Szervezeti #94940 vége egység:|#94940 Szervezeti #94940 vége egység|-|combobox|||-|GVK_GIS.RAILWAY_ OBJECTS_ALLOMASO K_V|
|Szolgálati hely:|Szolgálati hely|-|combobox|||-|GVK_GIS.RAILWAY_ OBJECTS_ALLOMASO K_V|
|Értesítési csoport:|Értesítési csoport|-|combobox (chips-es)|||-|HUBA.ERTESITESI_CS OPORT|
|Szervezet:|Szervezet|-|combobox|||-|HUBA.SZERVEZETEK_ V|
|Szakág:|Szakág|-|combobox|||-|HUBA.K_SZAKAG|
|Munkakör:|Munkakör|-|combobox|||-|HUBA.K_MF|
|Feladat:|Feladat|-|combobox|||-|HUBA.K_MF|
|Szűkítés főkódra:|Szűkítés főkódra|-|combobox (chips-es)|||-|GVK.K_KESESFOKOD|
|Bővítés főkódra:|Bővítés főkódra|-|combobox (chips-es)|||-|GVK.K_KESESFOKOD|
|Telefonon értesíthető:|Telefonon értesíthető|-|checkbox|||-||
|SMS-ben értesíthető:|SMS-ben értesíthető|-|checkbox|||-||
|Mobilszám:|Mobilszám|-|szöveges beviteli mező|AN50|+00 (00) 123 4567|-|HUBA.GLOBAL_AD_ USERS|

#### E-mailben E-mailben - checkbox - értesíthető: értesíthető


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 58/136|





|Nyomógombok|Col2|Col3|Col4|Col5|
|---|---|---|---|---|
|Felirat|Megnevezés|Súgó (Tooltip) szöveg|Alapértelmezés [megnyomható/nem nyomható meg]|Material ikon neve|
||Mentés és bezárás|-|megnyomható||
||Mégsem|-|megnyomható||


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 59/136|


**2.5.6.** **Hívott szolgáltatások**










|Funkciógomb/link/vezérlőelem esemény|Hívott ablak|Hívott szolgáltatás rövid megnevezése (azonosító)|
|---|---|---|
|Ablakbetöltés|-|S_27 – Felhasználói aktivitás naplózása|
|Ablakbetöltés|-|K_15 – Konkurenskezelés|
|Ablakbetöltés|-|S_08 - Lekérdezési paraméterek értékkészletének lekérdezése|
|Ablakbetöltés|-|#99383 S_80 – Értesítésfogadó adatainak lekérdezése|
|Új értesítésfogadó rögzítésekor AD felhasználó választását követően|-|S_05 - Felhasználói beállítások lekérdezése|
||-|S_27 – Felhasználói aktivitás naplózása|
|||K_15 – Konkurenskezelés|
|||S_63 – Értesítésfogadó adatainak mentése|
||-|S_27 – Felhasználói aktivitás naplózása|
|||K_15 – Konkurenskezelés|
|||S_27 – Felhasználói aktivitás naplózása|
|Ablakbezárás||S_27 – Felhasználói aktivitás naplózása|


**2.5.7.** **Rendszerüzenetek**





|Ellenőrzések leírása (HA)|Rendszerüzenet (AKKOR)|Rendszerüzenet típusa|
|---|---|---|
|#98672 <Mentés és bezárás> nyomógomb kezelésekor rögzítési módban|„A beírt Értesítésfogadó név már létezik. Kérem módosítsa.”|Hiba|
|<Mentés és bezárás> nyomógomb kezelésekor rögzítési, ill. szerkesztési módban|„Nincs minden kötelező mező kitöltve. AD-ban létező felhasználó esetén a mobilszám, ill. e-mail cím javítását/pótlását kérjük igényelje a Helpdesk-től (helpdesk@mav-szk.hu).”|Hiba|
|<Mégsem> nyomógomb kezelésekor rögzítési, ill. szerkesztési módban|„Biztosan elveti a módosításait?”|Figyelmeztető|
|#92775 Az új rekord mentése sikeres|„A híváseredmény mentése sikeres volt.”|Információ|
|#92775 Az új rekord mentése sikertelen|„A mentés során hiba történt. Kérem próbálja újra később. RequiestId: XXX”|Hibaüzenet|


**2.5.8.** **Kódtáblák, választási listák**

Nincs.




-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 60/136|


**2.5.9.** **Rendszerparaméterek**

Nincs.


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 61/136|

##### 2.6. H06_05 – HUBA – Értesítési csoportok [#89356]

**2.6.1.** **Ablak/lap feladatai**

Az ablak az értesítésfogadóhoz beállítható értesítési csoportok karbantartására
(rögzítésére, módosítására, törlésére) szolgál.

**2.6.2.** **Ablak/lap megjelenése**

**2.6.3.** **Ablak/lap működése**

Az ablak a „ **H06_01** **– HUBA – Értesítési beállítások** ” felületen az „ **Értesítésfogadók**

**beállításai** ” lapfülön található (Értesítési csoportok) nyomógomb

kezelését követően nyílik meg. A (Értesítési csoportok) nyomógomb


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 62/136|


csak azon GVK profil azonosítójú felhasználó számára aktív, megnyomható, akihez az
**OP_H06_05_ErtesitesiCsoportokMegjelenitMent** operandus hozzá van rendelve.

**Az ablak felépítése**

Az ablak a képernyő közepén jelenik meg a H06_01A felett, vertikálisan dinamikusan
(ld. értesítési csoport név megadása).

Az ablak tartalmazza:

    - Az ablak azonosítóját, valamint megnevezését egy fehér hátterű sávban:

**H06_05 – HUBA – Értesítési csoportok**

    - Kapcsoló:

A kétállású kapcsoló ki-bekapcsolható. Bekapcsolt állapotban a kapcsoló
háttérszíne sötétebb szürke, kikapcsolt állapotban világosszürke.

A kapcsoló alapértelmezetten kikapcsolt állapotú. Bekapcsolt állapotban a griden megjelennek a törölt értesítési csoportok is.

    - Lista:

`o` Táblázatban jelenik meg az összes kért információ.

`o` Fejléc:

Amennyiben az oszlopcím nem fér ki, az **Oszlopcím…** jelenik meg. Tooltipben olvasható a teljes oszlopcím.

*Sorbarendezés* : Az oszlopcím jobb oldalán található (Sorbarendezés)
ikonra kattintva rendezhető a táblázat megjelenített tartalma. Az
alapértelmezett rendezés az értesítési csoport neve szerint történik ABC

sorrendben.

Az oszlopcím mellett egy felfelé (növekvő) vagy lefelé (csökkenő) mutató
nyíl jelzi, hogy mi szerint van rendezve. Egyszerre egy oszlop szerint

rendezhető a táblázat.

*Oszlopszűrés* : Az oszlopcím bal oldalán található (Oszlopszűrés) ikonra
kattintva az alábbi pop-up ablak segítségével a megjelenített találati lista
adott oszlopa szerinti további szűrésre van lehetőség:


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 63/136|


Az alábbi szűrési feltételek alkalmazhatók: Tartalmaz (ez az
alapértelmezett) / Egyezik / Kisebb / Kisebb, egyenlő / Nagyobb / Nagyobb,
egyenlő / Üres / Nem üres. Egymást követően több oszlopon is beállítható
oszlopszűrés.

`o` Adatok:

Ablakbetöltéskor a grid-ben megjelennek az „ **S_57 – Értesítési csoportok**
**lekérdezése** ” szolgáltatástól visszakapott adatok az ott definiált feltételek
alapján.

`o` Alsó vízszintes gördítősáv (horizontális scrollbar):

Ha nem fér ki az oldalra a táblázat összes megjeleníteni kívánt oszlopa,
akkor az alsó vízszintes gördítősáv segítségével lehet megtekinteni a
táblázat többi oszlopát.

`o` Oldalsó függőleges gördítősáv (vertikális scrollbar):

Ha nem fér ki az oldalra a táblázat összes megjeleníteni kívánt sora,
akkor az oldalsó (jobb oldalon) függőleges gördítősáv segítségével lehet
megtekinteni a táblázat többi sorát.

    - Nyomógombok:

`o` nyomógomb: Az < **Új**      - nyomógomb alapértelmezetten
kezelhető (megnyomható).

`o` nyomógomb: A < **Szerkesztés**      - nyomógomb
alapértelmezetten nem kezelhető (nem megnyomható). Abban az


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 64/136|


esetben válik kezelhetővé (megnyomhatóvá), ha a grid-en van kijelölve

egy sor.

`o` nyomógomb: A < **Törlés**      - nyomógomb alapértelmezetten
nem kezelhető (nem megnyomható). Abban az esetben válik
kezelhetővé (megnyomhatóvá), ha a grid-en van kijelölve egy sor.

    - Értesítési csoport neve:

Az Értesítési csoport neve és a szövegesen megadható szerkesztő mező
alapértelmezetten nem jelenik meg. A mezőnév és a szerkesztő mező az < **Új**      vagy < **Szerkesztés**      - nyomógomb kezelésekor jelenik meg az ablakban.

    - Nyomógombok:

`o` nyomógomb: A < **Mentés**      - nyomógomb
alapértelmezetten nem kezelhető (nem megnyomható). Az < **Új**         - vagy
< **Szerkesztés**         - nyomógomb kezelésekor jelenik meg az ablakban, ekkor

válik kezelhetővé.

`o` nyomógomb: A < **Mégsem**      - nyomógomb
alapértelmezetten nem kezelhető (nem megnyomható). Az < **Új**         - vagy
< **Szerkesztés**         - nyomógomb kezelésekor jelenik meg az ablakban, ekkor

válik kezelhetővé.

    - nyomógomb az ablak jobb felső sarkában az ablak bezárásához.

**Ablakbetöltés**

Az ablak betöltésekor (első betöltés és későbbi újbóli betöltéskor is) a kliens meghívja
az „ **S_27 – Felhasználói aktivitás naplózása** ” szolgáltatást az alábbi bemenő
paraméterekkel:

    - Ablakazonosító (’WINDOW_ID’): ’H06_05’

    - Esemény (’ACTIVITY’): ’WindowOpen’

    - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója

    - GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója

    - Esemény kiegészítő információk (’ACTIVITY_EXT’): ’View’

    - Bejegyzés azonosító (’MAIN_ID’): NULL

    - Bejegyzés sub azonosító (’SUB_ID’): NULL

    - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): NULL

Az ablak megnyitásakor a ’Töröltek is’ kapcsoló kikapcsolt állapotú.

Az ablak betöltésekor (első betöltés és későbbi újbóli betöltéskor is) a kliens bemenő
paraméter nélkül meghívja az „ **S_57 – Értesítési csoportok lekérdezése** ” szolgáltatást.

A kliens a szolgáltatástól visszakapott értékeket megjeleníti a grid-en:

    - Értesítési csoport egyedi azonosítója: A kliensen nem jelenik meg.


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 65/136|



    - Értesítési csoport megnevezése: A kliensen az ’Értesítési csoport neve’

mezőben jelenik meg.

    - Aktív? (I/N): A kliensen a ’Törölve’ mezőben jelenik meg.

**Grid és kapcsoló működése**

A kapcsoló kezelésekor a kapcsoló bekapcsolt állapotra vált. A grid-en
megjelennek az ablakbetöltéskor meghívott S_57 szolgáltatástól visszakapott inaktív
értesítési csoportok is. A kapcsoló újbóli kezelésekor a kapcsoló kikapcsolt állapotra
vált és a grid-ből eltűnnek az inaktív értesítési csoportok.

**Nyomógombok kezelése**

    - nyomógomb kezelése:

Az < **Új**      - nyomógomb kezelésekor a nyomógomb alatt megjelenik az alábbi

szekció:

Az ’Értesítési csoport neve’ kötelezően kitöltendő mező.

A < **Mentés**      - nyomógomb kezelésekor a kliens vizsgálja a mező kitöltöttségét:

`o` Nem üres mező esetén a kliens az új értesítési csoport elmentése

céljából az alábbi bemenő paraméterekkel meghívja az „ **S_58 –**
**Értesítési csoport adatainak mentése** ” szolgáltatást:

          - Értesítési csoport azonosítója: NULL

          - Értesítési csoport megnevezése

          - Aktív? (I/N): ’I’

A kliens meghívja az „ **S_27 – Felhasználói aktivitás naplózása** ”
szolgáltatást az alábbi bemenő paraméterekkel:

          - Ablakazonosító (’WINDOW_ID’): ’H06_05’

          - Esemény (’ACTIVITY’): ’Create’

          - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD

azonosítója

          - GVK felhasználó (’GVK_USER’): GVK felhasználói profil
azonosítója

          - Esemény kiegészítő információk (’ACTIVITY_EXT’): JSON

formában a mentés részletei

          - Bejegyzés azonosító (’MAIN_ID’): NULL

          - Bejegyzés sub azonosító (’SUB_ID’): NULL

          - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’):

NULL

Mentést követően a kliens a grid frissítése céljából meghívja az „ **S_57 –**
**Értesítési csoportok lekérdezése** ” tartalmát. Az ’Értesítési csoport neve’


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 66/136|


mező, a < **Mentés**        - és < **Mégsem**        - nyomógombok visszaváltanak

disabled státuszúra.

`o` Üres mező esetén a kliens az alábbi pop-up üzenetet jeleníti meg az

ablak felett:

A < **Mégsem**      - nyomógomb kezelésekor a kliens nem menti el a beírt értéket. Az
’Értesítési csoport neve’ mező, a < **Mentés**      - és < **Mégsem**      - nyomógombok
visszaváltanak disabled státuszúra. [#99440 eleje] A kliens az alábbi pop-up üzenetet
jeleníti meg:

#99440 vége

    - nyomógomb kezelése:

A < **Szerkesztés**      - nyomógomb kezelésekor a nyomógomb alatt megjelenik az

alábbi szekció:

Az ’Értesítési csoport neve’ mezőben megjelenik a grid-en kijelölt sorban
szereplő név értéke. Kötelezően kitöltendő mező, módosítást követően sem

lehet üres.

A < **Mentés**      - nyomógomb kezelésekor a kliens vizsgálja a mező kitöltöttségét:

`o` Nem üres mező esetén a kliens az értesítési csoport nevének

módosítása céljából az alábbi bemenő paraméterekkel meghívja az
„ **S_58 – Értesítési csoport adatainak mentése** ” szolgáltatást:

          - Értesítési csoport azonosítója

          - Értesítési csoport megnevezése

          - Aktív? (I/N): ’I’


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 67/136|


`o` Amennyiben módosításkor a mező üres marad, a kliens az alábbi pop
up üzenetet jeleníti meg az ablak felett:

A < **Mégsem**      - nyomógomb kezelésekor a kliens nem menti el a módosítást. Az
’Értesítési csoport neve’ mező, a < **Mentés**      - és < **Mégsem**      - nyomógombok

visszaváltanak disabled státuszúra.

#92775 **Mentés eredménye** (’status’):

`o` 200 – **Sikeres mentés esetén** a kliens az alábbi pop-up üzenetet jeleníti meg:

#99440 eleje
```
      o

```
#99440 vége

       - A mentést követően a kliens meghívja az „ **S_27 – Felhasználói aktivitás**

**naplózása** ” szolgáltatást az alábbi bemenő paraméterekkel:

          - Ablakazonosító (’WINDOW_ID’): ’H06_05’

          - Esemény (’ACTIVITY’): ’Modify’

          - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD

azonosítója

          - GVK felhasználó (’GVK_USER’): GVK felhasználói profil
azonosítója

          - Esemény kiegészítő információk (’ACTIVITY_EXT’): JSON

formában a mentés részletei

          - Bejegyzés azonosító (’MAIN_ID’): NULL

          - Bejegyzés sub azonosító (’SUB_ID’): NULL

          - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’):

NULL

Mentést követően a kliens a grid frissítése céljából meghívja az „ **S_57 –**
**Értesítési csoportok lekérdezése** ” tartalmát. Az ’Értesítési csoport neve’


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 68/136|


mező, a < **Mentés**        - és < **Mégsem**        - nyomógombok visszaváltanak

disabled státuszúra.

`o` 599 vagy 400 – **Sikertelen mentés esetén** a kliens az alábbi popup üzenetet

jeleníti meg a kapott RequiestId-val:

Sikertelen a mentés, ha az értesítési csoport valamelyik adatának mentése

nem volt sikeres az adatbázisba.

Ebben az esetben a < **Mentés és bezárás**      - nyomógomb újra kezelhető. [#92775 vége]

    - nyomógomb kezelése:

A < **Törlés**      - nyomógomb kezelésekor a kliens a grid-en kijelölt értesítési csoport
inaktívra módosítása céljából az alábbi bemenő paraméterekkel meghívja az
„ **S_58 – Értesítési csoport adatainak mentése** ” szolgáltatást:

`o` Értesítési csoport azonosítója
`o` Értesítési csoport megnevezése
`o` Aktív? (I/N): ’N’

A kliens meghívja az „ **S_27 – Felhasználói aktivitás naplózása** ”
szolgáltatást az alábbi bemenő paraméterekkel:

`o` Ablakazonosító (’WINDOW_ID’): ’H06_05’
`o` Esemény (’ACTIVITY’): ’Modify’
`o` AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója
`o` GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója
`o` Esemény kiegészítő információk (’ACTIVITY_EXT’): JSON formában a

mentés részletei

`o` Bejegyzés azonosító (’MAIN_ID’): NULL
`o` Bejegyzés sub azonosító (’SUB_ID’): NULL
`o` Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): NULL

Törlést követően a kliens a grid frissítése céljából meghívja az „ **S_57 – Értesítési**
**csoportok lekérdezése** ” tartalmát. A törölt értesítési csoport már nem jelenik
meg a grid-en. [#99440 eleje] A kliens az alábbi pop-up üzenetet jeleníti meg:


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 69/136|


#99440 vége

**Ablak bezárása**

Az ablak bezárása a böngészőfülön lévő **<X>** nyomógombra kattintással lehetséges.

Az ablak bezárásakor a kliens meghívja az „ **S_27 – Felhasználói aktivitás naplózása** ”
szolgáltatást az alábbi bemenő paraméterekkel:

    - Ablakazonosító (’WINDOW_ID’): ’H06_05’

    - Esemény (’ACTIVITY’): ’WindowClose’

    - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója

    - GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója

    - Esemény kiegészítő információk (’ACTIVITY_EXT’): ’View’

    - Bejegyzés azonosító (’MAIN_ID’): NULL

    - Bejegyzés sub azonosító (’SUB_ID’): NULL

    - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): A
’WindowOpen’ eseménykor kapott ACTIVITY_ID.


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 70/136|

### **2.6.4. Az ablak szerkezeti leírása ** **Beviteli/megjelenítő mezők, kiválasztó lista (combo box), kapcsoló, rádiógomb **









|Felirat|Megnevezés|Súgó (Tooltip) szöveg|Kontrol típusa|Hossz|Maszk|Alapértelmezett érték|Törzstábla/ kódtábla|
|---|---|---|---|---|---|---|---|
|Toolbar - Kapcsolók||||||||
||Törölt értesítési csoportok|-|two-state- button|||kikapcsolt||
|Grid||||||||
||(szűrés: Tartalmaz)|Oszlopszűrés||||||
||(szűrés: combobox)||combobox|||||
||(rendezés)|Sorbarendezés||||||
||Horizontális scrollbar|-|scrollbar|||-||
||Vertikális scrollbar|-|scrollbar|||-||
|Értesítési csoport neve||||||||
|Értesítési csoport neve:|Értesítési csoport neve:|-|label|||nem jelenik meg||
|-|(Értesítési csoport neve)|-|szöveges mező|AN50||nem jelenik meg|HUBA.ERTESITESI_CSOP ORT|

### **Grid oszlopai az alapértelmezett sorrendben **





|Felirat|Megnevezés|Súgó (Tooltip) szöveg|Hossz|Maszk/ Típus|Alapértelmezett érték|Törzstábla/ kódtábla|
|---|---|---|---|---|---|---|
|Értesítési csoport neve|Értesítési csoport neve|Értesítési csoport neve|AN50||-|HUBA.ERTESITESI_CSOPORT|
|Törölt|Törölt|Törölt|boolean|I/N|-|HUBA.ERTESITESI_CSOPORT|


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 71/136|





|Nyomógombok|Col2|Col3|Col4|Col5|
|---|---|---|---|---|
|Felirat|Megnevezés|Súgó (Tooltip) szöveg|Alapértelmezés [megnyomható/nem nyomható meg]|Material ikon neve|
||Új felvitel|-|megnyomható||
||Szerkesztés|-|nem nyomható meg||
||Törlés|-|nem nyomható meg||
||Mentés|-|nem nyomható meg||
||Mégsem|-|nem nyomható meg||


**2.6.5.** **Hívott szolgáltatások**




|Funkciógomb/link/vezérlőelem esemény|Hívott ablak|Hívott szolgáltatás rövid megnevezése (azonosító)|
|---|---|---|
|Ablakbetöltés|-|S_27 – Felhasználói aktivitás naplózása|
|Ablakbetöltés|-|S_57 – Értesítési csoportok lekérdezése|
||-|S_58 – Értesítési csoport adatainak mentése|
|||S_27 – Felhasználói aktivitás naplózása|
|||S_58 – Értesítési csoport adatainak mentése|
||-|S_27 – Felhasználói aktivitás naplózása|
|Ablakbezárás|-|S_27 – Felhasználói aktivitás naplózása|


**2.6.6.** **Rendszerüzenetek**





|Ellenőrzések leírása (HA)|Rendszerüzenet (AKKOR)|Rendszerüzenet típusa|
|---|---|---|
|<Új> nyomógomb kezelését követően üres értesítési csoport névvel <Mentés> nyomógomb kezelésekor|„Nincs minden kötelező mező kitöltve.”|Hiba|
|<Szerkesztés> nyomógomb kezelését követően üres értesítési csoport névvel <Mentés> nyomógomb kezelésekor|„Nincs minden kötelező mező kitöltve.”|Hiba|
|#92775 Az új rekord mentése sikeres|„A híváseredmény mentése sikeres volt.”|Információ|
|#92775 Az új rekord mentése sikertelen|„A mentés során hiba történt. Kérem próbálja újra később. RequiestId: XXX”|Hibaüzenet|


**2.6.7.** **Kódtáblák, választási listák**

Nincs.




-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 72/136|


**2.6.8.** **Rendszerparaméterek**

Nincs.


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 73/136|

##### 2.7. H06_06 – HUBA – Értesítések kezelése [ #89448]

**2.7.1.** **Ablak feladatai**

A MÁV Zrt. vasúti pályahálózatán keletkezett üzemzavarok és nem tervezett
korlátozások adatait tartalmazó bejegyzésekhez kapcsolódó értesítések kezelése:

     - hálózati és területi értesítések rögzítése és kezelése,

     - az értesítéshez értesítési mátrix alapján telefonon, sms-ben, ill. e-mailben

értesítendők automatikus kikeresése,

     - az értesítéshez további értesítendő(k) manuális hozzáadási lehetősége,

     - sms és e-mail értesítések kiküldése az kiválasztott értesítendők részére,

     - kiküldött értesítések áttekintése értesítési naplóban,

     - telefonos értesítés sikerességének indítása.

**2.7.2.** **Ablak megjelenése** [#89448]

**Értesítések:**

     - Megtekintés:


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 74/136|



    - Új értesítés rögzítése

Üres mezőkből feltöltésével:

Másolással:


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 75/136|


**Értesítési napló:**

**2.7.3.** **Ablak működése** [#89448]

Az ablak az alábbi nyomógombok kezelését követően nyílik meg új böngésző lapon
alapértelmezetten megtekintés módban:

     - a „ **H01_01 - HUBA - Bejegyzések** ” felületen a grid-/kártyanézeten egy bejegyzés

kijelölését követően az nyomógomb kezelésekor az
alapértelmezett „ **H06_06A – HUBA - Értesítések** ” lapfül, amennyiben a GVK
profilú felhasználó rendelkezik az **OP_H06_06_ErtesitesiMegtekint** vagy
**OP_H06_06_ErtesitesSzerkeszt** vagy **OP_H06_06_ErtesitesiNaploMegtekint**
operandussal;


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 76/136|



    - a „ **H02_01 – HUBA – Bejegyzés kezelése** ” felületen az Értesítések csempén

található, ill. nyomógomb kezelésekor az alapértelmezett „ **H06_06A –**
**HUBA - Értesítések** ” lapfül, amennyiben a GVK profilú felhasználó rendelkezik
az **OP_H06_06_ErtesitesiNaploMegtekint** vagy
**OP_H06_06_ErtesitesSzerkeszt** operandussal;

    - a „ **H02_01 – HUBA – Bejegyzés kezelése** ” felületen az Értesítések csempén

található nyomógomb kezelésekor a „ **H06_01B – HUBA – Értesítési napló** ”
lapfül nyílik meg, [#89704] amennyiben a GVK profilú felhasználó rendelkezik az
**OP_H06_06_ErtesitesiNaploMegtekint** operandussal. [#89704 vége]

Az ablak tehát azon GVK profil azonosítójú felhasználó számára nyílik meg, akihez az
alábbi operandusok közül legalább az egyik hozzá van rendelve:

    - **OP_H06_06_ErtesitesMegtekint**

    - **OP_H06_06_ErtesitesSzerkeszt**

    - **OP_H06_06_ErtesitesiNaploMegtekint**

Az „ **A01 - GVK - Térkép** ”, „ **H01_01 – HUBA - Bejegyzések** ” vagy „ **H02_01 – HUBA –**
**Bejegyzés kezelése** ” ablak bezárása esetén automatikusan bezáródik a H06_06 ablak

is.

**Az ablak felépítése** [#89448]

    - Az ablak kitölti a teljes képernyőt.

    - *Fejléc:*

Fejlesztői (DEV), Belső teszt (TEST) és Felhasználói teszt (QA) környezet
használatakor a fejléc háttérszíne középszürke (7F7F7F).

Üzemi (PROD)

Élesítéskor frissítendő

Felhasználói teszt (QA)

QA-ra kihelyezéskor

Belső teszt (TEST)

TEST-re kihelyezéskor

Fejlesztői (DEV)

DEV-re kihelyezéskor

`o` Középen az ablak azonosítóját és megnevezését: „ **H06_06 - HUBA –**

**Értesítések kezelése** ”

`o` Jobbszélen:

          - Rendszer neve és logója, valamint a rendszer neve alatt a

frontend verziószáma jelenik meg.


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 77/136|



          - A logó előtt a GVK környezet neve:

              - üzemi (PROD): Nem jelenik meg a kliensen.

              - felhasználói teszt (QA): „ **QA** ”

              - teszt (TEST): „ **TEST** ”

              - fejlesztői (DEV): „ **DEV** ”

          - GVK profil név:

A GVK-ba történt bejelentkezéskor érvényes GVK profil név
megjelenítésére szolgál.

    - *Bejegyzés azonosító:* A fejléc alatt jelenik meg a bejegyzés HUBA azonosítója,

háttérszíne megegyezik a „ **H02_01 – HUBA – Bejegyzés kezelése** ” ablakban az
Értesítések csempe feliratának háttérszínével.

    - *Tabbar (fülmegjelenítő sáv):*

A fejléc alatt az alábbi nézetek jelennek meg:

`o` **Értesítések**      - alapértelmezetten ez az aktív tab/fül

          - A tabfül technikai elnevezése: „H06_06A – Értesítések”

              - Az „ **A** ” betű nem jelenik meg a felületen, csak az

ablakazonosítóban.
`o` **Értesítési napló**

          - A tabfül technikai elnevezése: „H06_06B – Értesítési napló”

              - A „ **B** ” betű nem jelenik meg a felületen, csak az

ablakazonosítóban.

`o` Az aktív tab/fül aláhúzva jelenik meg.

**Ablakbetöltés** [#89448]

Az ablak betöltésekor a kliens meghívja az „ **S_27 – Felhasználói aktivitás naplózása** ”
szolgáltatást az alábbi bemenő paraméterekkel:

    - Ablakazonosító (’WINDOW_ID’): ’H06_06A’

    - Esemény (’ACTIVITY’): ’WindowOpen’

    - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója

    - GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója

    - Esemény kiegészítő információk (’ACTIVITY_EXT’): ’View’

    - Bejegyzés azonosító (’MAIN_ID’): Bejegyzés azonosítója

    - Bejegyzés sub azonosító (’SUB_ID’): NULL

    - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): NULL

Ezután az alapértelmezett H06_06A – Értesítések lapfül betöltésekor a kliens meghívja
az „ **S_64 – Bejegyzés értesítések lista lekérdezése** ” szolgáltatást, amelynek bemenő


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 78/136|


paraméterként a bejegyzés azonosítóját adja át. A kliens a szolgáltatástól visszakapott
adatokat a Megtekintés módnál leírtak szerint jeleníti meg.


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 79/136|


**Lapfülek működése**

**2.7.3.1.** **H06_06A** **– Értesítések**

**Lapfül betöltés** [#89479]

Az ablak megnyitásakor alapértelmezetten, egyébként lapfülek közötti váltáskor a
kliens meghívja az „ **S_64 – Bejegyzés értesítéseinek lekérdezése** ” szolgáltatást,
amelynek bemenő paraméterként a bejegyzés azonosítóját adja át. A kliens a
szolgáltatástól visszakapott adatokat a Megtekintés módnál leírtak szerint jeleníti meg.

**Lapfül felépítése** [#89479]

**1.** **Értesítések listája és kezelése**

       - *Listadoboz*

A lapfülön a bal oldali blokk tetején jelenik meg a bejegyzés értesítéseit

tartalmazó listadoboz.

`o` Címe: Értesítések

`o` Fejléce:

`o` Tartalma:

`o` Azonosító megléte esetén:


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 80/136|



                 - Azonosító: Értesítés egyedi azonosítója

                 - Szint: Értesítést rögzítő GVK profil azonosítójú

felhasználó hierarchia szintje

                 - Állapot: Értesítés állapota

                 - Rögzítés dátuma: Értesítés rögzítésének
időpontja

`o` Azonosító még nem áll rendelkezésre:

       - *Nyomógombok*

A lapfülön a bal oldali blokk alján a listadoboz alatt jelennek meg a
bejegyzés egy értesítésének kezelésére szolgáló nyomógombok.

`o` Új nyomógomb: Célja új értesítés rögzítése üres
mezők feltöltésével. Az < **Új**             - nyomógomb alapértelmezetten
kezelhető (aktív), ha a bejegyzés ’Minősített’ állapotú és az
Értesítések listadobozban nincs kijelölve értesítés és a GVK profil
azonosítójú felhasználó rendelkezik az
**OP_H06_06_ErtesitesSzerkeszt** operandussal.

Ha a bejegyzés nem ’Minősített’ állapotú vagy az Értesítések
listadobozban ki van jelölve értesítés vagy a GVK profil
azonosítójú felhasználó nem rendelkezik az operandussal, a
nyomógomb disabled állapotú.

`o` Másolás nyomógomb: Célja új értesítés rögzítése

már létező értesítés adatainak lemásolásával. A < **Másolás**             
nyomógomb alapértelmezetten disabled állapotú, csak abban az
esetben válik kezelhetővé, ha a listadobozban kijelölésre kerül
egy értesítés és a GVK profil azonosítójú felhasználó rendelkezik
az **OP_H06_06_ErtesitesSzerkeszt** operandussal.

Ha a bejegyzés nem ’Minősített’ állapotú vagy az Értesítések
listadobozban nincs kijelölve értesítés vagy a GVK profil
azonosítójú felhasználó nem rendelkezik az operandussal, a
nyomógomb disabled állapotú.


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 81/136|


**2.** **Egy értesítés kezelése**

       - *Beviteli mezők:*

`o` Értesítési szint:

A lapfülön a jobb oldali blokk bal oldalán elsőként megjelenő
lenyíló listás beviteli mező autocomplete (kiválasztási
funkcióval). Alapértelmezetten disabled állapotú.

`o` Terület:

A lapfülön a jobb oldali blokk bal oldalán az ’Értesítési szint’ mező
alatt megjelenő lenyíló listás chips-es beviteli mező
autocomplete (kiválasztás) funkcióval. Alapértelmezetten
disabled állapotú.

`o` #94940 Szervezeti #94940 vége egység:

A lapfülön a jobb oldali blokk bal oldalán a ’Terület’ mező alatt
megjelenő lenyíló listás chips-es beviteli mező autocomplete
(kiválasztás) funkcióval. Alapértelmezetten disabled állapotú.

`o` Szolgálati hely:

A lapfülön a jobb oldali blokk bal oldalán az [#9494] [0] ~~’Egység’~~
’Szervezeti egység’ [#94940 vége] mező alatt megjelenő lenyíló listás
chips-es beviteli mező autocomplete (kiválasztás) funkcióval.
Alapértelmezetten disabled állapotú.

`o` Értesítés szövege:


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 82/136|


`o` A lapfülön a jobb oldali blokk bal oldalán a ’Szolgálati

hely’ mező alatt megjelenő többsoros szöveges beviteli
mező az értesítés szövegének beviteléhez.
Alapértelmezetten disabled állapotú.
`o` A szöveges beviteli mező alatt bal oldalon aláírás. Az

aláíró az értesítést rögzítő AD felhasználó neve.

`o` A szöveges beviteli mező alatt jobb oldalon (értesítési
szöveg másolás) nyomógombos ikon, mely az értesítési
szöveg másolását végzi (a másolt szöveg máshol
beilleszthető). A nyomógombos ikon minden módban

kezelhető.

`o` A szöveges beviteli mező alatt jobb oldalon a ikontól
jobbra a beviteli mezőbe írt szöveg karaktereinek és a
mezőbe írható maximális karakterszám jelenik meg,
melynek formátuma: [#97450] 1/480 [#97450 vége] .

`o` /ha T értesítési mód kezelése (ld. értesítési mátrix):

’Az esemény nagysága kihatása miatt telefonos értesítés
szükséges.’

A lapfülön a jobb oldali blokk bal oldalán az értesítés szövegét
képező aláírás alatt megjelenő checkbox, mely
alapértelmezetten disabled és egyúttal kikapcsolt állapotú.
Kezelésekor a checkbox bepipálódik.

`o` Értesítési csoportok:

`o` A lapfülön a jobb oldali blokk jobb oldalán megjelenő

lenyíló listás chips-es beviteli mező autocomplete
(kiválasztás) funkcióval.

`o` Értesítési csoport hozzáadása: A lenyíló
listától jobbra jelenik meg a nyomógomb.
Az Értesítési csoportok lenyíló lista és a hozzá tartozó
< **Hozzáadás**            - nyomógomb alapértelmezetten disabled állapotú.
Csak rögzítés módban kezelhető.

`o` Értesítendő kiválasztása: (További értesítendő hozzáadása)


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 83/136|


`o` A lapfülön a jobb oldali blokk jobb oldalán az ’Értesítési

csoport’ mező alatt megjelenő lenyíló listás chips-es
beviteli mező autocomplete (kiválasztás) funkcióval.

`o` Értesítendő hozzáadása: A lenyíló listától
jobbra jelenik meg a nyomógomb.
Az Értesítendő kiválasztása lenyíló lista és a hozzá tartozó
< **Hozzáadás**             - nyomógomb alapértelmezetten disabled
állapotú. Csak rögzítés módban kezelhető.

`o` Értesítendők:

A lapfülön a jobb oldali blokk jobb oldalán az ’Értesítendő
hozzáadása’ mező alatt jelenik meg az értesítés értesítendőit

tartalmazó listadoboz.

`o` Címe: Értesítendők

`o` Tartalma:

                 - Értesítendő felhasználó adatai:

➢ Az értesítendő felhasználó neve a

listaelem első sorában vastagított
betűtípussal jelenik meg.
➢ Az értesítendő felhasználó e-mail címe a

listaelem első sorában a név alatt jelenik

meg.
➢ Az értesítendő felhasználó mobilszáma a

listaelem első sorában az e-mail cím

mellett jelenik meg.


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 84/136|



                 - Értesítési mód(ok): Az értesítendő felhasználó

adatai mellett jelenik/jelennek meg az értesítési
módot jelölő (nem kezelhető) ikonok:

➢ E-mail értesítés esetén:

➢ SMS értesítés esetén:

➢ Telefonos értesítés esetén:

                 - Értesítendő törlése: Az értesítési módot jelölő

ikonoktól jobbra jelenik meg a a
megjelenített értesítendő sorában.
Alapértelmezetten disabled állapotú. Csak
rögzítés módban kezelhető.

                 - Értesítendők lista törlése: Az Értesítendők

listadoboz felett jobb oldalon jelenik meg a

Lista törlése nyomógomb.
Alapértelmezetten disabled állapotú. Csak
rögzítés módban kezelhető.

       - Nyomógombok:

`o` Értesítendők betöltése nyomógomb: A
lapfülön a jobb oldali blokk bal oldalán balra lent jelenik meg az
automatikusan kikereshető értesítendők listájának frissítésére
szolgáló nyomógomb. Alapértelmezetten disabled állapotú. Csak
rögzítés módban kezelhető.

`o` Küldés nyomógomb: A lapfülön a jobb oldali
blokk alatt jelenik meg jobb oldalon az értesítés adatainak
mentésére és egyúttal az értesítendőknek küldendő értesítések
küldésére, értesítési napló frissítésére szolgáló nyomógomb.
Alapértelmezetten disabled állapotú. Csak rögzítés módban

kezelhető.

`o` Mégsem nyomógomb: A lapfülön a jobb oldali
blokk alatt jelenik meg jobb oldalon a < **Küldés**             - nyomógomb
mellett. Az értesítés adatainak mentésének és egyúttal az
értesítendőknek küldendő értesítések küldésének, értesítési
napló frissítésének elvetésére szolgáló nyomógomb. Az
Értesítések listadobozban egy értesítés sorának kijelölését
követően kezelhető.Alapértelmezetten kezelhető
(megnyomható).

**Lapfül betöltése** [#89479]

A H06_06A lapfül csak akkor érhető el a GK profil azonosítójú felhasználó számára, ha
rendelkezik az **OP_H06_06_ErtesitesMegtekint** vagy az


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 85/136|


**OP_H06_06_ErtesitesSzerkeszt** operandussal. A megfelelő operandus hiányában a
lapfül nem választható ki (inaktív) a GVK profil azonosítójú felhasználó számára.

#96101 Mivel a bejegyzés állapota változhat az értesítés rögzítése közben, a kliens a lapfül
betöltésekor meghívja az „ **S_50 – Bejegyzés részletek adatainak betöltése** ”
szolgáltatást, bemenő paraméterként átadva neki a bejegyzés egyedi azonosítóját
(’bejegyzesId’). Amennyiben a szolgáltatástól visszakapott bejegyzés állapot
megnevezése (’allapotNev’):

    - ’Minősített’: A H06_06 ablakban az Értesítések lapfülön betöltődik az

Értesítések lista és aktív az < **Új**       - nyomógomb.

*„A bejegyzés nem ’Minősített’ állapotú. Nem rögzíthető új értesítés.”*

#96101 vége

A lapfül alapértelmezetten Megtekintés módban nyílik meg. A lapfülön csak a
kiválasztott bejegyzés értesítéseit tartalmazó listadoboz, valamint az értesítés
kezelésére szolgáló < **Új**   - és < **Másolás**   - nyomógomb jelenik meg az alábbi módon:

**Lapfül működése** [#89479]

A képernyő az alábbi módokon kezelhető:

    - Megtekintés

    - Rögzítés

**2.7.3.1.** **Megtekintés mód** [#89483]



-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 86/136|


Ez az alapértelmezett mód. Az ablak, ill. lapfül betöltésekor a kliens az „ **S_64 –**
**Bejegyzés értesítéseinek lekérdezése** ” szolgáltatástól visszakapott adatokkal feltölti az
Értesítések listadobozt.

Az S_64 szolgáltatástól visszakapott adatok az alábbiak szerint jelennek meg az
Értesítések listadobozban:

    - Értesítés egyedi azonosítója(’ertesitesId’): A kliensen nem jelenik meg.

    - Értesítés sorszám (’ertSorszam’): A kliensen a listadoboz ’Ssz.’ mezőjében

jelenik meg.

    - Értesítés szintje (’ertSzint’): A kliensen a listadoboz ’Szint’ mezőjében jelenik

meg.

    - Értesítési állapot (’ertAllapot’): A kliensen a listadoboz ’Állapot’ mezőjében

jelenik meg.

    - Rögzítés dátuma (’ertRogzitesIdo’): Formátuma: ’YYYY.MM.DD HH24:MM’

A listadobozban egy értesítés sorának kijelölésekor a kliens meghívja az „ **S_65 –**
**Bejegyzés értesítés adatainak lekérdezése** ” szolgáltatást bemenő paraméterként
átadva az értesítés egyedi azonosítóját (’ertesitesId’).

Az értesítés kijelölésekor aktiválódik az értesítés adatait tartalmazó jobb oldali blokk,
feltöltődnek a mezők a szolgáltatástól visszakapott adatokkal. A jobb oldali blokkban
minden mező és nyomógomb inaktív (kivétel: értesítés szövegének másolása ikon),

nincs konkurenskezelés.


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 87/136|


Az S_65 szolgáltatástól visszakapott adatok az alábbiak szerint jelennek meg a kliensen:

    - Értesítési szint (’ertSzint’)

    - Terület (’ertTerulet’)

    - Szervezeti egység (’ertEgyseg’)

    - Szolgálati hely (’ertSzolgHely’)

    - Értesítés szövege (’ertSzoveg’)

A kapott szöveg alapján a szövegdoboz alatt jobb oldalon frissül a karakterek
száma [#97450] ([szöveg karaktereinek száma]/480) [#97450 vége] .

    - #99167 Aláíró neve (’ertAlairo’) #99167 vége

    - Kötelező telefonos értesítés (’telefonErtKotelezo’): ’I’ esetén a checkbox

bepipálva jelenik meg, ’N’ esetén nem.

    - Értesítendők (’ertesitendok’): Az értesítés egyedi azonosítója alapján az eljárás

visszaadja az értesítendő felhasználó(k) alábbi adatait:

`o` #99030 Értesítendő azonosítója (’ertesitendoId’)

`o` Értesítendő neve (’ertesitendoNev’)

`o` Email (’ertesitendoEmail’)

`o` Mobilszám (’ertesitendoMobil’)

`o` Telefonon értesítendő (’telefonErt’): ’I’ esetén megjelenik a telefon

ikon.

`o` SMS-ben értesítendő (’smsErt’): ’I’ esetén megjelenik a chat ikon.

`o` Email-ben értesítendő (’emailErt’): ’I’ esetén megjelenik a boríték ikon.

**Nyomógombok kezelése**


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 88/136|


Küldés nyomógomb kezelése: A < **Küldés**           - nyomógomb megtekintés
módban disabled állapotú.

Mégsem nyomógomb kezelése: A < **Mégsem**        - nyomógomb
kezelésekor megtekintés módban inaktívvá válik (bezárul) az értesítés adatait
tartalmazó jobb oldali blokk, az Értesítések listában megszűnik az értesítés kijelölése.

**2.7.3.2.** **Rögzítés mód** [#89480]

Új értesítés rögzítése lehetséges az üres mezők kitöltésével, mentésével vagy egy már
létező értesítés adatainak másolását követően az új értesítés véglegesítésével.

    - Az (Új) nyomógomb kezelésekor a listadobozban megjelenik új
sorban az ’Új értesítés’ felirat, az új listaelem kijelölődik és ezzel párhuzamosan
aktiválódik az értesítés adatait tartalmazó jobb oldali blokk üres mezőkkel. A
jobb oldali blokkban a leírt szabályok szerint minden mező aktív, nincs

konkurenskezelés.

    - A listadobozban egy értesítés kijelölését követően a (Másolás)
nyomógomb kezelésekor a listadobozban megjelenik új sorban az ’Új értesítés’
felirat és ezzel párhuzamosan aktiválódik az új értesítés adatait tartalmazó jobb
oldali blokk, ahol a mezők a listadobozban kijelölt értesítés adataival töltődnek
fel. Az új értesítés adatai a másolást követően módosíthatóak. A jobb oldali
blokkban a leírt szabályok szerint minden mező aktív, nincs konkurenskezelés.


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 89/136|


< **Új**   - és < **Másolás**   - nyomógomb kezelésekor a kliens meghívja az „ **S_50 – Bejegyzés**
**részletek adatainak betöltése** ” szolgáltatást, bemenő paraméterként átadva neki a
bejegyzés egyedi azonosítóját (’bejegyzesId’). Amennyiben a szolgáltatástól
visszakapott bejegyzés állapot megnevezése (’allapotNev’):

    - ’Minősített’: Új értesítés rögzíthető, azaz az < **Új**    - és < **Másolás**    - nyomógomb

kezelhető (ld alább).

*„A bejegyzés nem ’Minősített’ állapotú. Nem rögzíthető új értesítés.”*

A kliens minden kereső paraméterre vonatkozóan meghívja az „ **S_08 - Lekérdezési**
**paraméterek értékkészletének lekérdezése** ” szolgáltatást, bemenő paraméterként
átadva neki az adatelem azonosítóját (AutosuggestId).

Az S_08 hívások és az átadott értékek:

    - Értesítési szint (’HierarchiaSzint’)

    - Terület (’Terulet_A20’)

    - Értesítési csoport (’ErtesitesiCsoport’)

    - Értesítésfogadó (’ErtesitesFogado_H06_02’)
#98217 < **Másolás**   - nyomógomb kezelésekor a kliens összehasonlítja az értesítést rögzítő
GVK profilú felhasználó hierarchia szint beállítását és az Értesítések listadobozban
másolásra kijelölt értesítés megtekintés módban meghívott „ **S_65 - Bejegyzés értesítés**
**adatainak lekérdezése** ” szolgáltatástól visszakapott értesítési szint (’ertSzint’), ettől
függően történik másolás esetén az új értesítés mezőinek értékkel feltöltése. [#98217 vége]

**Mezők kezelése**

    - **Értesítési szint** : A mező szerkeszthető és kötelező mező.



-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 90/136|


A mezőben az S_08 szolgáltatástól visszakapott Értesítési szint
(’HierarchiaSzint') ’text’ mező értékei közül csak a következők jelennek meg:

’H’ – Hálózat

’T’ – Terület

’H’ – Hálózati értesítési szint esetén a Terület, [#94940] Szervezeti [#94940 vége] egység,
Szolgálati hely mezők disabled státuszúak.

’T’ – Terület értesítési szint esetén a Terület mező kezelhető, az [#94940] Szervezeti
#94940 vége egység és Szolgálati hely mezők disabled státuszúak.

*Alapértelmezett értéke* :

`o` < **Új**     - nyomógomb kezelésekor: Az értesítést rögzítő (egyúttal a H06_06

ablakot megnyitó) GVK profilú felhasználó „ **S_37 - Felhasználó adatok**
**lekérdezése** ” szolgáltatástól visszakapott hierarchia szintje
(’hierarchia_szint’), amennyiben ez ’H’ – Hálózat vagy ’T’ – Terület;
egyébként a mező üres. [#94940 ] Az érték a fenti szabály szerint módosítható.
#94940 vége

`o` < **Másolás**     - nyomógomb kezelésekor: [#98217] Ha az értesítést rögzítő GVK

profilú felhasználó hierarchia szintje és a másolásra kijelölt értesítés
értesítési szintje:

        - megegyezik: az Értesítési szint mező értéke a másolásra kijelölt

értesítés értesítési szintjével egyezik meg;

        - ha nem egyezik meg: az Értesítési szint üres. [#98217 vége]

#94940 Az érték a fenti szabály szerint módosítható. #94940 vége

*Érték kiválaszthatóságának ellenőrzése:*

`o` Amennyiben az értesítést rögzítő GVK profilú felhasználó hierarchia szintje

’H’ – Hálózat, [#95363] csak Hálózat értesítési szintet választhat. [#95363 vége]

`o` Amennyiben az értesítést rögzítő GVK profilú felhasználó hierarchia szintje

’T’– Terület, csak ’Terület’ értesítési szintet választhat.

    - **Terület** : Alapértelmezetten disabled státuszú. Amennyiben az Értesítési szint

értéke ’T’ – Terület, a Terület mező szerkeszthetővé és kötelezővé válik.

*Alapértelmezett értéke* :

`o` < **Új**     - nyomógomb kezelésekor: Az értesítést rögzítő (egyúttal a H06_06

ablakot megnyitó) GVK profilú felhasználó „ **S_37 - Felhasználó adatok**
**lekérdezése** ” szolgáltatástól visszakapott terület (’terulet’) értéke.

`o` < **Másolás**     - nyomógomb kezelésekor: [#98217] Ha az értesítést rögzítő GVK

profilú felhasználó hierarchia szintje és a másolásra kijelölt értesítés
értesítési szintje:

        - megegyezik: a Terület mező értéke a másolásra kijelölt értesítés

területével egyezik meg;

        - ha nem egyezik meg: a Terület mező üres. [#98217 vége]

    - #94940 **Szervezeti** #94940 vége **egység** : Alapértelmezetten disabled státuszú.


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 91/136|



    - **Szolgálati hely** : Alapértelmezetten disabled státuszú.

    - **Értesítés szövege** : A mező szerkeszthető és kötelező mező.

*Alapértelmezett értéke* :

`o` < **Új**     - nyomógomb kezelésekor: A mező üres.

`o` < **Másolás**     - nyomógomb kezelésekor: Az Értesítések listadobozban

másolásra kijelölt értesítés szövege.

    - **Aláírás** : Az értesítést rögzítő (egyúttal a H06_06 ablakot megnyitó) GVK profilú

felhasználó „ **S_37 - Felhasználó adatok lekérdezése** ” szolgáltatástól
visszakapott AD teljes neve (’AD_user_name’).

    - **’/ha T értesítési mód’ kezelése** : A checkbox (’Az esemény nagysága kihatása

miatt telefonos értesítés szükséges!’) kezelhető és opcionális.

*Alapértelmezett értéke:*

`o` < **Új**     - nyomógomb kezelésekor: A checkbox nincs bepipálva.

`o` < **Másolás**     - nyomógomb kezelésekor: [#98217] Ha az értesítést rögzítő GVK

profilú felhasználó hierarchia szintje és a másolásra kijelölt értesítés
értesítési szintje:

        - megegyezik: a checkbox értéke a másolásra kijelölt értesítés

checkboxának értéke;

        - ha nem egyezik meg: a checkbox nincs bepipálva. [#98217 vége]

    - **Értesítési csoportok** : A mező szerkeszthető és opcionális mező. A mezőben az

S_08 szolgáltatástól visszakapott Értesítési csoport (’ErtesitesiCsoport') ’text’
mező értékei jelennek meg. Több érték is választható. A kiválasztott értékeket
a rendszer a kliensen listában (collection) tárolja az Értesítési csoportok mezőtől
jobbra található < **Hozzáadás**       - nyomógomb kezeléséig.

    - **Értesítendő kiválasztása** : A mező szerkeszthető és opcionális mező. A mezőben

az S_08 szolgáltatástól visszakapott Értesítésfogadó
(’ErtesitesFogado_H06_02’) ’text’ mező értékei jelennek meg. Egy érték
választható ’tartalmaz’ típusú kereséssel. A kiválasztott érték az Értesítendő
kiválasztása mezőtől jobbra található < **Hozzáadás**      - nyomógomb kezeléséig
látható a képernyőn.

    - **Értesítendők** :

*Alapértelmezett értéke* :

`o` < **Új**     - nyomógomb kezelésekor: A listadoboz üres.

`o` < **Másolás**     - nyomógomb kezelésekor: [#98217] Ha az értesítést rögzítő GVK

profilú felhasználó hierarchia szintje és a másolásra kijelölt értesítés
értesítési szintje:

       - megegyezik: a listadoboz tartalma a másolásra kijelölt értesítés

’Értesítendők’ listadoboz tartalma, tehát az „ **S_65 - Bejegyzés értesítés**
**adatainak lekérdezése** ” szolgáltatástól visszakapott értesítendők
(’ertesitendok’) adatai:


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 92/136|



           - #99030 Értesítendő azonosítója (’ertesitendoId’)

           - Értesítendő neve (’ertesitendoNev’)

           - Értesítendő e-mail címe (’ertesitendoEmail’)

           - Értesítendő mobilszáma (’ertesitendoMobil’)

        - ha nem egyezik meg: a listadoboz üres. [#98217 vége]

**Nyomógombok kezelése**

Értesítendők betöltése nyomógomb kezelése:

*Ha az ’Értesítendők’ listadoboz üres*, az < **Értesítendők betöltése**   - nyomógomb
kezelésekor a listadoboz feltöltése céljából meghívja az „ **S_66 - Automatikusan**
**kikereshető értesítendők lekérdezése** ” szolgáltatást, melynek az alábbi bemenő
paramétereket adja át:

    - Bejegyzés egyedi azonosítója (’bejegyzesId’)

    - Értesítési szint (’ertSzint’): S_08 szolgáltatástól kapott ’id’ értéke.

    - Terület (’ertTerulet’): S_08 szolgáltatástól kapott ’id’ értéke.

`o` Paraméter (aaa; bbb; …)

    - Kötelező telefonos értesítés (’telefonErtKotelezo’) (I/N)

A kliens a szolgáltatástól visszakapott értékekkel az alábbiak szerint feltölti az
Értesítendők listadobozt (a kliens collection-ben tárolja a < **Küldés**   - nyomógomb
kezeléséig):

    - Értesítendők (’ertesitendok’)

`o` #89642 Értesítendő azonosító (’ertesitendoId’): Nem jelenik meg a
kliensen. [#89642 vége]

`o` Értesítendő neve (’ertesitendoNev’)

`o` Email (’ertesitendoEmail’)

`o` Mobilszám (’ertesitendoMobil’)

`o` Telefonon értesítendő (’telefonErt’): ’I’ esetén megjelenik a telefon

ikon.

`o` SMS-ben értesítendő (’smsErt’): ’I’ esetén megjelenik a chat ikon.

`o` Email-ben értesítendő (’emailErt’): ’I’ esetén megjelenik a boríték ikon.

*Ha az ’Értesítendők’ listadoboz nem üres*, a kliens megerősítést kérő pop-up üzenetet

ad a felhasználónak:


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 93/136|



    - < **Nem**    - nyomógomb kezelésekor az üzenet bezáródik és az ’Értesítendők’

listadobozban maradnak a korábbi értesítendők, nem törlődnek az értékek.

    - < **Igen**    - nyomógomb kezelésekor az üzenet bezáródik, az ’Értesítendők’

listadobozból törlődnek az értesítendők. A listadoboz újbóli feltöltése céljából
a kliens meghívja az „ **S_66 - Automatikusan kikereshető értesítendők**
**lekérdezése** ” szolgáltatást (ld. fent).

#89642 Amennyiben az S_66 szolgáltatás nem ad vissza egy megjeleníthető értesítendő
felhasználót sem, a kliens az alábbi popup üzenetet jeleníti meg:

„ *Az értesítési mátrix alapján nincs megjeleníthető értesítendő. Kérjük válasszon*
*értesítési csoportot vagy értesítendőt* .” (Rendben)

[#89642 vége]

#89642 Értesítési csoport nyomógomb kezelése: Az **Értesítési csoport**
< **Hozzáadás**   - nyomógomb kezelésekor a kliens ellenőrzi az ’Értesítési csoport’ mező
kitöltöttségét.

    - Amennyiben a mező üres, a kliens az alábbi pop-up üzenetet jeleníti meg:

    - Amennyiben a mező nem üres, a kliens meghívja az „ **S_67 – Értesítendők**

**lekérdezése értesítési csoport alapján** ” szolgáltatást, bemenő paraméterként
átadva az értesítési csoport(ok) egyedi azonosítóját.

A kliens a duplikáció elkerülése céljából ellenőrzi az S_67 szolgáltatástól
visszakapott értesítendő meglétét az ’Értesítendők’ listadobozban (a kliens
összehasonlítja a szolgáltatástól visszakapott értesítendő (itt: értesítésfogadó)
azonosítóját az ’Értesítendők’ listadobozban szereplő értesítendő (itt:
értesítésfogadó) azonosítójával):

`o` Amennyiben a szolgáltatástól visszakapott értesítendő már szerepel az

’Értesítendők’ listadobozban, a kliens nem adja hozzá az értesítendőt a

listához.:

`o` Amennyiben a hozzáadni kívánt értesítendő még nem szerepel az

’Értesítendők’ listadobozban, a kliens hozzáadja a listához a kiválasztott
értesítendőt az S_67 szolgáltatástól visszakapott értesítési mód értékek
alapján. Az újonnan hozzáadott értesítendő a lista utolsó sorában jelenik

meg.

A kliens a fentiek szabály szerint a visszakapott értékekkel az alábbiak szerint feltölti az
Értesítendők listadobozt (a kliens collection-ben tárolja a < **Küldés**   - nyomógomb
kezeléséig):

    - Értesítendők (’ertesitendok’)

`o` Értesítendő azonosító (’ertesitendoId’): Nem jelenik meg a kliensen.

`o` Értesítendő neve (’ertesitendoNev’)



-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 94/136|


`o` Telefonon értesítendő (’telefonErt’): ’I’ esetén megjelenik a telefon

ikon.

`o` SMS-ben értesítendő (’smsErt’): ’I’ esetén megjelenik a chat ikon.

`o` Email-ben értesítendő (’emailErt’): ’I’ esetén megjelenik a boríték ikon.

`o` E-mail cím (’ertesitendoEmail’)

`o` Mobilszám (’ertesitendoMobil’)

Amennyiben az S_67 szolgáltatás nem ad vissza egy megjeleníthető értesítendő
felhasználót sem, a kliens az alábbi popup üzenetet jeleníti meg:

„ *Az értesítési csoport alapján nincs megjeleníthető értesítendő. Kérjük válasszon*
*értesítendőt, amennyiben szükséges* .” (Rendben)

#89642 vége

Értesítendő hozzáadása nyomógomb kezelése: Az **Értesítendő**
< **Hozzáadás**   - nyomógomb kezelésekor a kliens ellenőrzi az ’Értesítendő kiválasztása’
mező kitöltöttségét.

    - Amennyiben a mező üres, a kliens az alábbi pop-up üzenetet jeleníti meg:

    - Amennyiben a mező kitöltött, #89642 a kliens meghívja az „ **S_62 –**
**Értesítésfogadók lekérdezése** ” szolgáltatást, bemenő paraméterként átadva az
értesítésfogadó azonosítóját (’ertFogadoId’) [#89642 vége] . A kliens a duplikáció
elkerülése céljából ellenőrzi a hozzáadni kívánt értesítendő meglétét az
’Értesítendők’ listadobozban (a kliens összehasonlítja a kiválasztott értesítendő
(itt: értesítésfogadó) azonosítóját az ’Értesítendők’ listadobozban szereplő
értesítendő (itt: értesítésfogadó) azonosítójával):

`o` Amennyiben a hozzáadni kívánt értesítendő már szerepel az

’Értesítendők’ listadobozban, a kliens az alábbi pop-up üzenetet adja:

`o` Amennyiben a hozzáadni kívánt értesítendő még nem szerepel az

’Értesítendők’ listadobozban, a kliens hozzáadja a listához a kiválasztott
értesítendőt [#89642 ] az S_62 szolgáltatástól visszakapott értékek alapján:

          - **Telefonon értesíthető** (’telefonErt’): ’I’ érték esetén megjelenik

a telefon ikon.

          - **SMS-ben értesíthető** (’smsErt’): ’I’ esetén megjelenik a chat

ikon.

          - **E-mail-ben értesíthető** (’emailErt’): ’I’ esetén megjelenik az e
mail ikon.

          - **E-mail cím** (’email’)

          - **Mobilszám** (’mobilszam’)




-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 95/136|


Az újonnan hozzáadott értesítendő a lista utolsó sorában jelenik meg.
#89642 vége

Lista törlése nyomógomb kezelése:

A < **Lista törlése**   - nyomógomb rögzítési módban nem üres ’Értesítendők’ lista esetén
kezelhető. A nyomógomb kezelésekor a kliens megerősítést kérő pop-up üzenetet ad a

felhasználónak:

    - < **Nem**    - nyomógomb kezelésekor az üzenet bezáródik és az ’Értesítendők’

listadobozban maradnak a korábbi értesítendők, nem törlődnek az értékek.

    - < **Igen**    - nyomógomb kezelésekor az üzenet bezáródik, az ’Értesítendők’

listadobozból törlődnek az értesítendők (a kliensen a collection kiürül).

Törlés nyomógomb kezelése: [#89651] Az Értesítendők listában egy értesítendőre
vonatkozik a törlés. A < **Törlés**   - nyomógomb kezelésekor [#89642] a kliens az alábbi popup üzenetet jeleníti meg:

    - < **Nem**    - nyomógomb kezelésekor az üzenet bezáródik és a kiválasztott

értesítendő az ’Értesítendők’ listadobozban marad, nem törlődik.

    - < **Igen**    - nyomógomb kezelésekor az üzenet bezáródik, a kiválasztott értesítendő

törlődik az ’Értesítendők’ listadobozból (a kliensen a collection kiürül).

#89651, #89642 vége

Küldés nyomógomb kezelése:

#96101 Mivel a bejegyzés állapota változhat az értesítés rögzítése közben, a kliens ismét
meghívja az „ **S_50 – Bejegyzés részletek adatainak betöltése** ” szolgáltatást, bemenő
paraméterként átadva neki a bejegyzés egyedi azonosítóját (’bejegyzesId’).
Amennyiben a szolgáltatástól visszakapott bejegyzés állapot megnevezése
(’allapotNev’):

    - ’Minősített’: Új értesítés rögzíthető (menthető), azaz a kliens továbblép a

következő ellenőrzésre (ld. alább).

*„A bejegyzés nem ’Minősített’ állapotú. Nem rögzíthető új értesítés.”*

#96101 vége

#89644 A kliens ellenőrzi az ’Értesítendők’ listadobozban megjelenített értesítendő

felhasználók számát:

    - Amennyiben egy értesítendő felhasználó sincs az ’Értesítendők’ listadobozban,

a kliens az alábbi üzenetet jeleníti meg:






-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 96/136|



    - Amennyiben van legalább egy értesítendő felhasználó az ’Értesítendők’

listadobozban, a kliens az alábbiak szerint jár el. [#89644 vége]

A nyomógomb kezelésekor az új értesítés adatainak mentése céljából a kliens meghívja
az „ **S_68 – Bejegyzés értesítés adatainak mentése** ” szolgáltatást, amelynek az alábbi
bemenő paramétereket adja át:

#89644 A szolgáltatás hívásával párhuzamosan az elhalványított H06_06A – Értesítések
lapfül felett töltést jelző overlay jelenik meg. [#89644 vége]

    - Bejegyzés egyedi azonosítója (’bejegyzesId’)

    - Értesítési szint (’ertSzint’): S_08 szolgáltatástól kapott ’id’ értéke (max. 1 érték):

`o` 1 – Hálózat

`o` 2 – Terület

    - Terület (’ertTerulet’): S_08 szolgáltatástól kapott ’id’ értéke (több érték is

lehet).

`o` Paraméter (aaa; bbb; …)

`o` Paraméter (aaa; bbb; …)

    - Értesítés szövege (’ertSzoveg’)

    - Kötelező telefonos értesítés (’telefonErtKotelezo’) (I/N)

    - Értesítendők (’ertesitendok’)

`o` Értesítendő neve (’ertesitendoNev’)

`o` Email (’ertesitendoEmail’)

`o` Mobilszám (’ertesitendoMobil’)

`o` Telefonon értesítendő (’telefonErt’) (I/N)

`o` SMS-ben értesítendő (’smsErt’) (I/N)

`o` Email-ben értesítendő (’emailErt’) (I/N)

#89644 Az adatok mentése során a háttérben a következő történik:




-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 97/136|


A háttérben adatbázis oldalon az S_68 szolgáltatást megvalósító tárolt eljárás az

értesítés és értesítendő felhasználó adatok sikeres elmentését követően adatbázis

oldalon meghívja az „ **BS_69 – SMS-ben vagy email-ben értesítendő felhasználók**
**lekérdezése küldendő értesítéshez** ” szolgáltatást megvalósító tárolt eljárást. Az SMSben, ill. email-ben értesítendő felhasználóknak küldendő üzenetek letárolása céljából
a BS_69 meghívja az „ **BS_70 - Küldendő SMS értesítés mentése** ”, ill. a **BS_71 -**
**Küldendő e-mail értesítés mentése** ” szolgáltatásokat megvalósító tárolt eljárásokat.
Az SMS üzenetek ütemezett küldését a „ **K_17 – SMS üzenetek küldése** ”, az e-mail
üzenetek ütemezett küldését a „ **K_18 – E-mail üzenetek küldése** ” szolgáltatást
megvalósító adatbázis oldali SQL job végzi. Az SMS értesítendő felhasználó
mobiltelefonjára történő kézbesítésének státuszát a „ **K_18 – SMS kézbesítés**
**fogadása** ” szolgáltatást megvalósító eljárás adja vissza.

**Az értesítés mentése akkor sikeres**, ha mind az értesítés, mind az értesítendő
felhasználó, mind a küldendő sms/e-mail üzenet adatainak letárolása sikeres.
Amennyiben ezen adatok közül már egy is sikertelen (akár egy darab sms/email üzenet
is), a mentés sikertelen. **A sikertelen mentés oka** lehet pl. táblatér elfogyása, nem
megfelelő adat letárolása egy mezőben, egyéb technikai ok.

A bejegyzés értesítés(ei)nek státuszát a „ **K_20 – Bejegyzés értesítések értesítési**
**státuszának frissítése** ” szolgáltatás végzi ütemezetten.

A bejegyzéshez kapcsolódó értesítés(ek), ezen belül az elküldött SMS, ill. e-mail üzenet
státusza a „ **H06_06B** **– Értesítési napló** ” lapfülön látható. [#89644 vége]

Az S_68 szolgáltatás az alábbi értékeket adja vissza:

    - Mentés eredménye (’status’):

`o` 200 – **Sikeres mentés esetén** a kliens az alábbi pop-up üzenetet jeleníti meg:


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 98/136|


A kliens az Értesítések lista frissítése céljából újra meghívja az „ **S_64 – Bejegyzés**
**értesítések lista lekérdezése** ” szolgáltatást, bemenő paraméterként átadva
bejegyzés egyedi azonosítóját (’bejegyzesId’).

A fenti pop-up üzenet bezárásával inaktívvá válik (bezárul) az értesítés adatait
tartalmazó jobb oldali blokk, az Értesítések lista frissül az S_64 szolgáltatástól
visszakapott adatokkal és nincs kijelölve értesítés.

Az S_68 szolgáltatástól visszakapott sikeres mentési eredményt követően kliens
meghívja az „ **S_27 – Felhasználói aktivitás naplózása** ” szolgáltatást az alábbi
bemenő paraméterekkel:

         - Ablakazonosító (’WINDOW_ID’): ’H06_06A’

         - Esemény (’ACTIVITY’): ’Create’

         - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD

azonosítója

         - GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója

         - Esemény kiegészítő információk (’ACTIVITY_EXT’): Az értesítés

adatai json-ben.

         - Bejegyzés azonosító (’MAIN_ID’): HUBA bejegyzés azonosítója

         - Bejegyzés sub azonosító (’SUB_ID’): Értesítés azonosítója

         - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’):

NULL

`o` 599 vagy 400 – **Sikertelen mentés esetén** a kliens az alábbi popup üzenetet

jeleníti meg a kapott RequiestId-val:

Sikertelen a mentés, ha az értesítés alapadatainak vagy az értesítendő
felhasználóknak vagy a küldendő sms, ill. email üzenetek valamilyekének

mentése nem volt sikeres az adatabázisban.

Ebben az esetben a < **Küldés**      - nyomógomb újra kezelhető.

#89644 vége

Mégsem nyomógomb kezelése: A nyomógomb kezelésekor rögzítési
módban a kliens az alábbi üzenetet jeleníti meg:


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 99/136|



    - < **Nem**    - nyomógomb kezelésekor az üzenet bezáródik és a felhasználó folytatja

az adatok rögzítését, nem törlődnek az értékek.

    - < **Igen**    - nyomógomb kezelésekor a mezőkben kiválasztott, beírt adatok

törlődnek, az ’Értesítendők’ listadobozból törlődnek az értesítendők (a kliensen
a collection kiürül). Inaktívvá válik (bezárul) az értesítés adatait tartalmazó jobb
oldali blokk, az Értesítések listában eltűnik az ’Új értesítés’ listaelem, nincs
kijelölve értesítés.

**2.7.3.3.** **H06_06B** **– Értesítési napló** [#89704]

**Lapfül betöltése**

A H06_0BA lapfül csak akkor érhető el a GK profil azonosítójú felhasználó számára, ha
rendelkezik az **OP_H06_06_ErtesitesiNaploMegtekint** operandussal. A megfelelő
operandus hiányában a lapfül nem választható ki (inaktív) a GVK profil azonosítójú

felhasználó számára.

A lapfülre váltáskor a kliens meghívja az „ **S_27 – Felhasználói aktivitás naplózása** ”
szolgáltatást elsőként az alábbi bemenő paraméterekkel:

    - Ablakazonosító (’WINDOW_ID’): ’H06_06A’

    - Esemény (’ACTIVITY’): ’WindowClose’

    - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója

    - GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója

    - Esemény kiegészítő információk (’ACTIVITY_EXT’): ’View’

    - Bejegyzés azonosító (’MAIN_ID’): Bejegyzés azonosítója

    - Bejegyzés sub azonosító (’SUB_ID’): NULL

    - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): A
’WindowOpen’ eseménykor kapott ACTIVITY_ID.

Másodszor az alábbi bemenő paraméterekkel:

    - Ablakazonosító (’WINDOW_ID’): ’H06_06B’

    - Esemény (’ACTIVITY’): ’WindowOpen’

    - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója

    - GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója

    - Esemény kiegészítő információk (’ACTIVITY_EXT’): ’View’

    - Bejegyzés azonosító (’MAIN_ID’): Bejegyzés azonosítója

    - Bejegyzés sub azonosító (’SUB_ID’): NULL

    - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): NULL


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 100/136|


A lapfül betöltésekor (első betöltés és későbbi újbóli betöltéskor is) a kliens az alábbi
bemenő paraméterekkel meghívja az **„S_15 - Beállítások lekérdezése** ” szolgáltatást:

    - Beállítás azonosító: ’H06_06B’

A GVK profil azonosítót a webAPI réteg adja át.

A kliens az alábbi, szolgáltatástól visszakapott értékek alapján megjeleníti az
oszlopokat:

    - Beállítás neve: az oszlop neve

    - Megjelenítési jelző: 0 - nem jelenik meg az oszlop, 1 - megjelenik az oszlop

    - Sorszám: az oszlop sorszáma a griden

Ha nincs ilyen eltárolt adat (S_15 szolgáltatás nem ad vissza adatot), akkor
alapértelmezetten minden oszlop megjelenítendőnek tekintendő a grid-en.

A kliens az ’Értesítési napló’ lapfülre váltáskor meghívja az „ **S_48 – Bejegyzés értesítési**
**naplójának lekérdezése** ” szolgáltatást, amelynek bemenő paraméterként a bejegyzés
azonosítóját adja át. A kliens a szolgáltatástól visszakapott adatokat megjeleníti a grid
ben.

**Lapfül felépítése**

  - *Felső eszközsor (Toolbar):*

Itt jelenik meg az összes, a táblázathoz kapcsolódó nyomógomb. Az adott funkció
leírása tooltip-ben jelenik meg.

`o` Excel-export:

Rákattintva kezdeményezhető az összes találat grid-en látható összes
oszloppal letöltése Excel-be a keresési feltételeknek megfelelően.

`o` Oszlopsorrend mentése:

Rákattintva kezdeményezhető a táblázat oszlop sorrendjének mentése a
GVK profil azonosítójú felhasználóhoz.

`o` Frissítés:

Rákattintva kezdeményezhető a táblázat adatainak frissítése a keresési
feltételek beállításainak megfelelően.

`o` Kapcsolók:

Az alábbi kétállású kapcsolók ki-bekapcsolhatók. Bekapcsolt állapotban a
kapcsoló háttérszíne sötétebb szürke, kikapcsolt állapotban. világosszürke.

           - Területi értesítések:

A ’Terület’ hierarchia szinttel rendelkező GVK profilú
felhasználónak alapértelmezetten bekapcsolt, egyébként


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 101/136|


kikapcsolt állapotú. Bekapcsolt állapotban a ’Terület’ értesítési
szintű értesítések jelennek meg az „ **S_48 – Bejegyzés értesítési**
**naplójának lekérdezése** ” szolgáltatástól visszakapott Értesítési
szint értéke alapján (ahol ’ertSzint’: ’T’).

           - Hálózati értesítések:

A ’Hálózat’ hierarchia szinttel rendelkező GVK profilú
felhasználónak alapértelmezetten bekapcsolt, egyébként
kikapcsolt állapotú. Bekapcsolt állapotban a ’Hálózat’ értesítési
szintű értesítések jelennek meg az „ **S_48 – Bejegyzés értesítési**
**naplójának lekérdezése** ” szolgáltatástól visszakapott Értesítési
szint értéke alapján (ahol ’ertSzint’: ’H’).

  - *Lista:*

`o` Táblázatban jelenik meg az összes kért információ.

`o` Fejléc:

Amennyiben az oszlopcím nem fér ki, az **Oszlopcím…** jelenik meg. Tooltipben olvasható a teljes oszlopcím.

`o` Adatok:

Ablakbetöltéskor megjelennek meg az „ **S_48 – Bejegyzés értesítési**
**naplójának lekérdezése** ” szolgáltatástól visszakapott adatok.

`o` Alsó vízszintes gördítősáv (horizontális scrollbar):

Ha nem fér ki az oldalra a táblázat összes megjeleníteni kívánt oszlopa,
akkor az alsó vízszintes gördítősáv segítségével lehet megtekinteni a
táblázat többi oszlopát.

`o` Oldalsó függőleges gördítősáv (vertikális scrollbar):

Ha nem fér ki az oldalra a táblázat összes megjeleníteni kívánt sora,
akkor az oldalsó (jobb oldalon) függőleges gördítősáv segítségével lehet
megtekinteni a táblázat többi sorát.

  - *Lábléc:*

`o` Oldallapozó: A lekérdezett adatok a grid alatti lapozó funkcióval

jeleníthetők meg (legelső/legutolsó, valamint előző/következő oldalra
ugrás). Megjelenik a megjelenített/összes oldal száma. Az egy oldalon


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 102/136|


megjelenített rekordok száma listából választható (25/50/100), az
alapértelmezett érték 100 rekord.

**Grid és toolbar működése**

Az (Excel-export) ikonra kattintva a kliens a grid-en az összes lapon található
adatot kiexportálja Excel fájlba (.xlsx kiterjesztéssel) (kapcsolónként külön-külön
fájlban).

Fájlnév: *HUBA értesítési napló_[HUBA azonosító]_[exportálás időpontja].xlsx*

A griden drag&drop módszerrel módosítható a megjelenített oszlopok sorrendje és a

(Mentés) ikonra kattintva menthető el. Az ikonra kattintva a kliens az alábbi
bemenő paraméterekkel meghívja az „ **S_16 –Beállítások mentése”** szolgáltatást:

    - GVK profil azonosító

    - beállítás azonosítója: ’H06_06B’

    - beállítás neve: oszlop neve

    - oszlop sorszáma

A (Frissítés) ikonra kattintva manuálisan frissíthetőek a H06_06B gridben

megjelenített adatok. A kliens a (Frissítés) ikonra történő kattintáskor meghívja
az „ **S_48 – Bejegyzés értesítési naplójának lekérdezése** ” szolgáltatást, bemenő
paraméterként átadva a bejegyzés egyedi azonosítóját (’bejegyzesId’).

A kliens az „ **S_48 – Bejegyzés értesítési naplójának lekérdezése** ” szolgáltatástól
visszakapott adatokat az alábbiak szerint jeleníti meg **a grid-ben TreeGrid módban** :

Egy bejegyzéshoz tartozhat több értesítés. A telefonon értesítésendő felhasználók a
szolgáltatástól visszakapott adatok alapján a lista elején szerepelnek.

    - **Értesítés egyedi azonosítója** (’ertesitesId’): Nem jelenik meg a kliensen.

    - **Értesítés sorszáma és szintje** (’group’): Az ’Értesítés azonosítója’ mezőben

jelenik meg.

    - **Értesített felhasználó egyedi azonosítója** (’ertesitettId’): Nem jelenik meg a

kliensen.

    - **Értesített felhasználó neve** (’ertesitettNev’): A ’Név’ mezőben jelenik meg.

    - **SMS-ben értesítve** (’smsErtesitve’): ’I’ érték esetén az ’SMS elküldve’ checkbox

bepipált állapotú; egyébként nem.

    - **SMS kézbesítve** (’smsKezbesitve’): ’I’ érték esetén az ’SMS kézbesítve’

checkbox bepipált állapotú; egyébként nem.


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 103/136|



    - **Email-ben értesítve** (’emailErtesitve’): ’I’ érték esetén az ’E-mail elküldve’

checkbox bepipált állapotú; egyébként nem.

    - **Mobilszám** (’mobilszam’): A ’Telefon’ mezőben a checkbox után jelenik meg:

`o` Amennyiben a bejelentkezett GVK profilú felhasználóhoz hozzá van

rendelve az **OP_H06_08_HivasEredmenyMent** operandus, a mobilszám
linkként jelenik meg.

`o` Amennyiben a bejelentkezett GVK profilú felhasználóhoz nincs

hozzárendelve a fenti operandus, a mobilszám szövegként jelenik meg.

A linkre kattintáskor a számítógéphez bluetooth kapcsolaton keresztül
párosított telefonkészüléken keresztül indítható telefonhívás, amennyiben az
alábbi feltételek teljesülnek:

`o` MyPhone Explorer alkalmazás telepítve van a GVK-t futtató

számítógépen
`o` Van párosított telefon a MyPhone Explorer alkalmazáson keresztül
`o` A megfelelő registry beállítások rendelkezésre állnak

A program telepítésére és beállítására vonatkozó részletes információkat az
alábbi helyen található dokumentumcsomag tartalmazza:

https://ituzletag.mav        [szk.hu/projekt/gvk/Megosztott%20dokumentumok/06_R%C3%A9szletes%20tervez%C3%A9s](https://ituzletag.mav-szk.hu/projekt/gvk/Megosztott%20dokumentumok/06_R%C3%A9szletes%20tervez%C3%A9s/Haszn%C3%A1lati%20esetek/H%C3%A1tt%C3%A9ranyagok)
[/Haszn%C3%A1lati%20esetek/H%C3%A1tt%C3%A9ranyagok](https://ituzletag.mav-szk.hu/projekt/gvk/Megosztott%20dokumentumok/06_R%C3%A9szletes%20tervez%C3%A9s/Haszn%C3%A1lati%20esetek/H%C3%A1tt%C3%A9ranyagok)       - CallMobile2.zip

#89705 A linkre kattintáskor pop-up ablakban megnyílik a „ **H06_08** **– HUBA –**
**Hívás eredménye** ” ablak. [#89705 vége]

    - **Hívás eredménye** (’hivasEredmeny’): ’I’ érték esetén a ’Hívás sikeres’ checkbox

bepipált állapotú; egyébként nem.

    - **Telefonos értesítés ideje** (’telefonErtIdo’): A ’Telefonos értesítés időpontja’

mezőben jelenik meg.

Formátuma: YYYY.MM.DD. HH24:MI

    - **Hívás megjegyzés** (’hivasMegjegyzes’): A ’Hívás megjegyzés’ mezőben jelenik

meg.

**Ablak/Lapfül bezárása**

Az ablak/lapfül bezárása a böngészőfülön lévő **<X>** nyomógombra kattintással
lehetséges.

Az ablak bezárásakor a kliens meghívja az „ **S_27 – Felhasználói aktivitás naplózása** ”
szolgáltatást az alábbi bemenő paraméterekkel:

    - Ablakazonosító (’WINDOW_ID’): ’H06_06A’ [#89704] vagy ’H06_06B’ (aktuális

lapfül) [#89704 vége]

    - Esemény (’ACTIVITY’): ’WindowClose’

    - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója

    - GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója

    - Esemény kiegészítő információk (’ACTIVITY_EXT’): ’View’

    - Bejegyzés azonosító (’MAIN_ID’): Bejegyzés azonosító

    - Bejegyzés sub azonosító (’SUB_ID’): NULL


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 104/136|



    - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): A
’WindowOpen’ eseménykor kapott ACTIVITY_ID.


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 105/136|

### **2.7.4. Az ablak szerkezeti leírása ** **Beviteli/megjelenítő mezők, kiválasztó lista (combo box), kapcsoló, rádiógomb **












|Felirat|Megnevezés|Súgó (Tooltip) szöveg|Kontrol típusa|Hossz|Maszk|Alapértelmezett érték|Törzstábla/ kódtábla|
|---|---|---|---|---|---|---|---|
|Fejléc||||||||
||GVK profil megnevezés|GVK felhasználó||||||
||HUBA azonosító|-||||||
|H06_06A – Értesítések #92554||||||||
|Értesítések||||||||
|Értesítések|Értesítések|-|label|||||
|-|(Értesítések)||listbox|||||
|Azonosító|Azonosító|-||||||
|Szint|Szint|-||||||
|Állapot|Állapot|-||||||
|Rögzítés dátuma|Rögzítés dátuma|-|||YYYY.MM.DD HH24:MM|||
|(Értesítés adatai)||||||||
|Értesítési szint||||||||
|Értesítési szint:|Értesítési szint:|-|label|||||
|-|(Értesítési szint)|-|combobox|AN50||részletterv alapján|GVK.K_HIERAR CHIA_SZINT|
|Terület||||||||
|Terület:|Terület:|-|label|||||
|-|(Terület)|-|combobox (chips-es)|AN50|||GVK.K_TERULE T|
|#94940 Szervezeti #94940 vége egység||||||||
|#94940 Szervezeti #94940 vége egység:|#94940 Szervezeti #94940 vége egység:|-|label|||||
|-|(#94940 Szervezeti #94940 vége egység)|-|combobox (chips-es)|AN50|||GVK_GIS.RAIL WAY_OBJECTS _ALLOMASOK_ V|
|Szolgálati hely||||||||
|Szolgálati hely:|Szolgálati hely:|-|label|||||

#### combobox - (Szolgálati hely) - AN50 (chips-es)

#### GVK_GIS.RAIL WAY_OBJECTS _ALLOMASOK_ V


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 106/136|












|Felirat|Megnevezés|Súgó (Tooltip) szöveg|Kontrol típusa|Hossz|Maszk|Alapértelmezett érték|Törzstábla/ kódtábla|
|---|---|---|---|---|---|---|---|
|-|(AD felhasználó név)|-|szöveges megjelenít ő|AN50||||
|-|(beírt/max karakterszám)|-|szöveges megjelenít ő|AN10||||
|/ha T kapcsoló||||||||
|Az esemény nagysága kihatása miatt telefonos értesítés szükséges!|Az esemény nagysága kihatása miatt telefonos értesítés szükséges!|-|label|||||
|-|-|-|checkbox|||N (kikapcsolt)||
|Értesítési csoportok||||||||
|Értesítési csoportok:|Értesítési csoportok:|-|label|||||
||(Értesítési csoportok)|-|combobox (chips-es)|AN50|||GVK_HUBA.ER TESITESI_CSOP ORT|
|Értesítendő kiválasztása||||||||
|Értesítendő kiválasztása:|Értesítendő kiválasztása:|-|label|||||
|-|(Értesíthető felhasználók)|-|combobox (chips-es)|AN50|||GVK_HUBA.ER TESITES_FOGA DO|
|Értesítendők||||||||
|Értesítendők|Értesítendők||label|||||
|-|(Értesítendő felhasználó neve)||szöveges megjelenít ő|||||
||(Értesítendő felhasználó e- mail címe)||szöveges megjelenít ő|||||
|-|(Értesítendő felhasználó mobilszáma)||szöveges megjelenít ő|||||
|-|(E-mail értesítés)||ikon|||||
|-|(SMS értesítés)||ikon|||||
|-|(Telefon értesítés)||ikon|||||

#### H0606B–Értesítésinapló [ #89704]


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 107/136|





|Grid oszlopai az|alapértelmezett sorrendben|Col3|Col4|Col5|Col6|Col7|
|---|---|---|---|---|---|---|
|Felirat|Megnevezés|Súgó (Tooltip) szöveg|Hossz|Maszk/Típus|Alapértelmezett érték|Törzstábla/ kódtábla|
|H06_06B – Értesítési napló #89704|||||||
|Értesítés azonosító|Értesítés azonosító|Értesítés azonosító|AN10|[sorszám] – [értesítés szintje]|-||
|Név|Név|Név|AN200||-||
|SMS elküldve|SMS elküldve|SMS elküldve|checkb ox||-||
|SMS kézbesítve|SMS kézbesítve|SMS kézbesítve|checkb ox||-||
|E-mail elküldve|E-mail elküldve|E-mail elküldve|checkb ox||-||
|Telefon|Telefon|Telefon|AN20|link|-||
|Hívás sikeres|Hívás sikeres|Hívás sikeres|checkb ox||-||
|Telefonos értesítés időpontja|Telefonos értesítés időpontja|Telefonos értesítés időpontja|DATE|YYYY.MM.DD HH24:MI|||
|Hívás megjegyzés|Hívás megjegyzés|Hívás megjegyzés|AN100||||


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 108/136|


**Nyomógombok, funkcionális ikonok**









|Felirat|Megnevezés|Súgó (Tooltip) szöveg|Alapértelmezés [megnyomható/ nem nyomható meg]|Material ikon neve|
|---|---|---|---|---|
|H06_06A – Értesítések|||||
||Új|-|megnyomható|plus|
||Másolás||nem nyomható meg|copy|
||Értesítési csoport értesítendőinek hozzáadása|-|nem nyomható meg|plus|
||Értesítendő hozzáadása|-|nem nyomható meg|plus|
||Értesítendő törlése|-|nem nyomható meg|delete|
||Értesítendő lista törlése|-|nem nyomható meg|delete|
||Értesítendők betöltése|-|nem nyomható meg|plus|
||Küldés|-|nem nyomható meg||
||Mégsem|-|megnyomható|close|
|H06_06B – Értesítési napló|||||
||||||


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 109/136|


**2.7.5.** **Hívott szolgáltatások**












|Funkciógomb/link/vezérlőelem esemény|Hívott ablak|Hívott szolgáltatás rövid megnevezése (azonosító)|
|---|---|---|
|#89479 Ablakbetöltés és egyúttal H06_06A lapfül betöltés|-|S_27 – Felhasználói aktivitás naplózása|
|H06_06A – Értesítések|||
|#89479 Lapfül betöltés|-|S_64 – Bejegyzés értesítéseinek lekérdezése|
|#89483 Értesítések listában egy értesítés kijelölése|-|S_65 – Bejegyzés értesítés adatainak lekérdezése|
|#89480|-|S_50 – Bejegyzés részletek adatainak betöltése|
|#89480|-|S_08 – Lekérdezési paraméterek értékkészletének lekérdezése|
|#89480|-|S_27 – Felhasználói aktivitás naplózása|
|#89480|-|S_50 – Bejegyzés részletek adatainak betöltése|
|#89480|-|S_08 – Lekérdezési paraméterek értékkészletének lekérdezése|
|#89480|-|S_27 – Felhasználói aktivitás naplózása|
||-|S_50 - Bejegyzés részletek adatainak betöltése|
||-|S_27 – Felhasználói aktivitás naplózása|
|#89480|-|S_66 - Automatikusan kikereshető értesítendők lekérdezése|
|#89642 (Értesítési csoport értesítendőinek hozzáadása)|-|S_67 – Értesítendők lekérdezése értesítési csoport alapján|
|#96101|-|S_50 – Bejegyzés részletek adatainak betöltése|
|#89480|-|S_68 – Bejegyzés értesítés adatainak mentése|
|#89480 (Sikeres mentés esetén)|-|S_27 – Felhasználói aktivitás naplózása|
||-|S_64 – Bejegyzés értesítéseinek lekérdezése|
|H06_06B – Értesítési napló #89704|||
|Lapfül betöltés|-|S_27 – Felhasználói aktivitás naplózása|
|Lapfül betöltés|-|S_15 – Beállítások lekérdezése|
|Lapfül betöltés||S_48 – Bejegyzés értesítési naplójának lekérdezése|
||-|S_16 – Beállítások mentése|


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 110/136|





|Col1|-|S_48 – Bejegyzés értesítési naplójának lekérdezése|
|---|---|---|
|Telefonszám linkre kattintás|#89705 H06_08 – HUBA – Hívás eredménye #89705 vége; Mobile Phone Explorer|-|
|Ablakbezárás|-|S_27 – Felhasználói aktivitás naplózása|


**2.7.6.** **Rendszerüzenetek**







|Ellenőrzések leírása (HA)|Rendszerüzenet (AKKOR)|Rendszerüzenet típusa|
|---|---|---|
|H06_06A – Értesítések|||
|#89480 <Új> és <Másolás> nyomógomb kezelésekor, ha a bejegyzés már ’Elvetett’, ’Befejezett’ vagy ’Lezárt’ állapotú|„A bejegyzés nem ’Minősített’ állapotú. Nem rögzíthető új értesítés.”|Hiba|
|#89480 <Értesítendők feltöltése> nyomógomb kezelésekor, ha az ’Értesítendők’ lista nem üres|„Az ’Értesítendők’ lista tartalma törlődni fog, majd újra feltöltődik. Kívánja folytatni?” (Igen/Nem)|Figyelmeztető|
|#89642 <Értesítendők feltöltése> nyomógomb kezelésekor, ha nincs megjeleníthető értesítendő|„Az értesítési mátrix alapján nincs megjeleníthető értesítendő. Kérjük válasszon értesítési csoportot vagy értesítendőt.” (Rendben)|Figyelmeztető|
|#89642 Értesítendő <Hozzáadás> nyomógomb kezelésekor, ha az Értesítendő mező üres|„Kérem válasszon értesítendőt!” (Rendben)|Figyelmeztető|
|#89642 Értesítendő <Hozzáadás> nyomógomb kezelésekor, ha a hozzáadni kívánt Értesítendő már szerepel az Értesítendők listában|„A hozzáadni kívánt értesítendő már szerepel az Értesítendők listában.” (Rendben)|Információs|
|#89642 Értesítési csoport <Hozzáadás> nyomógomb kezelésekor, ha az Értesítési csoport mező üres|„Kérem válasszon értesítési csoportot!” (Rendben)|Figyelmeztető|
|#89642 Értesítési csoport <Hozzáadás> nyomógomb kezelésekor, ha nincs megjeleníthető értesítendő|„Az értesítési csoport alapján nincs megjeleníthető értesítendő. Kérjük válasszon értesítendőt, amennyiben szükséges.” (Rendben)|Figyelmeztető|
|#89480 <Lista törlése> nyomógomb kezelésekor, ha az ’Értesítendők’ lista nem üres|„Az ’Értesítendők’ lista tartalma törlődni fog. Kívánja folytatni?” (Igen/Nem)|Figyelmeztető|
|#89642 <Törlés> nyomógomb kezelésekor|„Biztosan törölni szeretné az értesítendőt?” (Igen/Nem)|Figyelmeztető|
|#89644 <Küldés> nyomógomb kezelésekor, ha nincs legalább egy értesítendő|„Adjon hozzá legalább egy értesítendő felhasználót!” (Rendben)|Hiba|


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 111/136|


|felhasználó az ’Értesítendők’ listában|Col2|Col3|
|---|---|---|
|#89480 <Mégsem> nyomógomb kezelésekor rögzítés módban|„Biztosan elveti a módosításait?” (Igen/Nem)|Figyelmeztető|
|#89480 <Küldés> nyomógomb kezelésekor, az értesítés alapadatainak sikeres mentésekor|„Az értesítés mentése sikeres volt” (Rendben)|Információs|
|#89480 <Küldés> nyomógomb kezelésekor, az értesítés sikertelen mentésekor|„A mentés során hiba történt. Kérem próbálja újra később. RequiestId: [RequirestId]” (Rendben)|Információs|


**2.7.7.** **Kódtáblák, választási listák**

Nincs.

**2.7.8.** **Rendszerparaméterek**

Nincs.




-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 112/136|

##### 2.8. H06_07 – HUBA – Értesítésfogadó fel-/leiratkozás [#89410]

**2.8.1.** **Ablak/lap feladatai**

Az ablak a „ **H06_01** **– HUBA – Értesítési beállítások** ” ablak „ **Értesítésfogadók**
**beállításai** ” lapfülön található **„Fel-/Leiratkozás”** nyomógomb kezelésére nyílik meg,
és segítségével értesítésekre lehet feliratkozni, illetve leiratkozni.

**2.8.2.** **Ablak/lap megjelenése**

**2.8.3.** **Ablak/lap működése**

Az ablak megnyitása az „ **H06_01** **- HUBA – Értesítési beállítások** ” ablak
„ **Értesítésfogadók beállításai** ” lapfülön található „ **Fel-/Leiratkozás** ” nyomógombjának
megnyomását követően történik. A < **Fel-/Leiratkozás**    - nyomógomb azon GVK profil
felhasználók számára érhető el, akik rendelkeznek az


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 113/136|


**OP_H06_07_ErtFogFelLeIratkozás** **–** **Értesítés** **fogadók** **fel-** **/** **leiratkozása**
operandussal. Az operandus hiánya esetén a nyomógomb inaktív.

**Az ablak felépítése**

**Ablakbetöltés**

Ablakbetöltés előtt eldöntendő, hogy a felhasználó meglévő időintervallumot szerkeszt
vagy újat vesz fel. Ezt már a „ **H06_01** **- HUBA – Értesítési beállítások** ” ablak „ **Fel-**
**/Leiratkozás** ” nyomógombjának megnyomásakor el kell döntenie a rendszernek,
ennek megfelelően a **„** **H06_07** **– HUBA – Értesítésfogadó fel-/leiratkozása”** ablak új
felvitel vagy szerkesztés módban nyílik meg.

Az ablak betöltésekor a kliens meghívja az „ **S_27 – Felhasználói aktivitás naplózása** ”
szolgáltatást az alábbi bemenő paraméterekkel:

    - Ablakazonosító (’WINDOW_ID’): ’H06_07’

    - Esemény (’ACTIVITY’): ’WindowOpen’

    - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója

    - GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója

    - Esemény kiegészítő információk (’ACTIVITY_EXT’): ’Create’ vagy ’Modify’ attól

függően, hogy új időintervallumot vesz fel a felhasználó, vagy a meglévőt
módosítja

    - Bejegyzés azonosító (’MAIN_ID’): NULL

    - Bejegyzés sub azonosító (’SUB_ID’): NULL

    - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): NULL

Amennyiben a **„** **H06_07** **– HUBA – Értesítésfogadó fel-/leiratkozása”** ablakot
szerkesztés módban nyitották meg, a „ **H06_01** **- HUBA – Értesítési beállítások** ”
képernyőn kiválasztott értesítésfogadó fel-/leiratkozás adatai átadásra kerülnek kliens

oldalon.

**Ablak működése**

A **„** **H06_07** **– HUBA – Értesítésfogadó fel-/leiratkozása”** ablak eltérően működik attól
függően, hogy a bejelentkezett GVK profil felhasználó állandó értesítésfogadó vagy
feliratkozott értesítésfogadó.

**Feliratkozott értesítésfogadó esetén:**

Feliratkozott értesítésfogadó esetén az ablak célja, hogy meghatározassa a felhasználó,
hogy milyen időszakban fogad értesítéseket a rendszertől. Ennek érdekében számára
a Belépve tól-ig mezők jelennek meg, és azt kell beállítania, hogy mely időszakban
fogad értesítéseket.

A képernyő megnyitásakor az alábbiak láthatók:

    - Kiválasztott értesítésfogadó neve (mivel megfelelő jogosultsággal nem csak

saját magának tud mindenki ilyen adatot beállítani)

    - Állandó értesítésfogadó? Nem


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 114/136|



    - **Belépve tól-ig** mezők, ahol a rendszer ellenőrzést végez aszerint, hogy az

aktuálisan kitöltött értékek (ha vannak, mit tartalmaznak):

`o` amennyiben nincs aktuálisan beállított érték, vagy múltbeli időpontra

mutat: új időintervallumot ad meg a felhasználó, a **Belépve tól** rész
kitöltődik automatikusan a rendszerdátummal (óra-perc pontosságig),
a **Belépve** **ig** rész pedig a **RECIPIENT_WORKING_HOURS**
rendszerparaméterrel megnövelt időpontot.

`o` amennyiben az aktuálisan beállított érték jövőbeli, vagy folyamatban

van: a korábban beállított időintervallumot szerkeszti a felhasználó,
nem lesz automatikus kitöltés, a korábbi értékek jelennek meg a

mezőkben.

A felhasználó a **Belépve tól** értéket csak jövőbeli értékre módosíthatja, a **Belépve ig**
érték pedig nem lehet kisebb, mint a **Belépve tól** érték.

A **Kilépve tól-ig** mezők ebben az esetben nem láthatók.

Mindkét időpont mező (Belépve tól-ig) kitöltése kötelező!

**Állandó értesítésfogadó esetén:**

Állandó értesítésfogadó esetén az ablak célja, hogy meghatározassa a felhasználó,
hogy milyen időszakban **nem** fogad értesítéseket a rendszertől. Ennek érdekében
számára a Kilépve tól-ig mezők jelennek meg, és azt kell beállítania, hogy mely
időszakban nem fogad értesítéseket.

A képernyő megnyitásakor az alábbiak láthatók:

    - Kiválasztott értesítésfogadó neve (mivel megfelelő jogosultsággal nem csak

saját magának tud mindenki ilyen adatot beállítani)

    - Állandó értesítésfogadó? Igen

    - **Kilépve tól-ig** mezők, ahol a rendszer ellenőrzést végez aszerint, hogy az

aktuálisan kitöltött értékek (ha vannak, mit tartalmaznak):

`o` amennyiben nincs aktuálisan beállított érték, vagy múltbeli időpontra

mutat: új időintervallumot ad meg a felhasználó, **Kilépve tól** rész
kitöltődik automatikusan a rendszerdátummal, a **Kilépve ig** rész pedig

üresen marad.

`o` amennyiben az aktuálisan beállított érték jövőbeli, vagy folyamatban

van: a korábban beállított időintervallumot szerkeszti a felhasználó,
nem lesz automatikus kitöltés, a korábbi értékek jelennek meg a

mezőkben.

A felhasználó a **Kilépve tól** értéket csak jövőbeli értékre módosíthatja, a **Kilépve ig**
érték pedig nem lehet kisebb, mint a **Kilépve tól** érték.

A **Belépve tól-ig** mezék ebben az esetben nem láthatók.

Mindkét dátum mező (Kilépve tól-ig) kitöltése kötelező!

**Nyomógombok**


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 115/136|


A **<Mentés>** nyomógomb csak akkor kezelhető, ha a kötelező mezők kitöltésre
kerültek, addig inaktív.

A felhasználó a **<Mentés>** gombra kattintva kezdeményezi a beállított időintervallum
mentését, amelyhez a kliens meghívja az **S_24 – Értesítésfogadó fel-/leiratkozás**
**mentése** eljárást az alábbi bemenő paraméterekkel:

    - GVK profil azonosító

    - Fel-/leiratkozás azonosítója (amennyiben szerkesztést ment az eljárás, új

felvitel esetén üresen marad)

    - Időintervallum adatok (csak a relevánsak, a többi üresen marad):

`o` Belépve tól

`o` Belépve ig

`o` Kilépve tól

`o` Kilépve ig

    - Létrehozó felhasználó, amennyiben új időintervallum került megadásra (a GVK

profil azonosítót a webapi réteg adja át). Módosítás esetén üresen marad.

    - Módosító felhasználó, amennyiben meglévő időintervallum került módosításra

(a GVK profil azonosítót a webapi réteg adja át). Új felvitel esetén üresen marad.

#99440 eleje Sikeres mentéskor az alábbi felugró pop-up ablak jelenik meg:

#99440 vége

A **<Mégsem>** gombra vagy az ablak jobb felső sarkában látható **<X>** gombra kattintva,
továbbá mellékattintás esetén a **„** **H06_07** **– HUBA – Értesítésfogadó fel-/leiratkozása”**

ablak mentés nélkül bezáródik.

Valamely adat módosítása esetén a kliens meghívja az „ **S_27 – Felhasználói aktivitás**
**naplózása** ” szolgáltatást az alábbi bemenő paraméterekkel:

    - Ablakazonosító (’WINDOW_ID’): ’H06_07’

    - Esemény (’ACTIVITY’): ’Create’ vagy ’Modify’ attól függően, hogy új

időintervallumot vesz fel a felhasználó, vagy a meglévőt módosítja

    - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója

    - GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója

    - Esemény kiegészítő információk (’ACTIVITY_EXT’):

`o` Create esetén: felvett adatok (mit adott meg a felhasználó) JSON

formában

`o` Modify esetén: módosítás adatok (mit mire módosított a felhasználó)

JSON formában


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 116/136|



    - Bejegyzés azonosító (’MAIN_ID’): NULL

    - Bejegyzés sub azonosító (’SUB_ID’): NULL

    - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): NULL

**Ablakbezárás**

A **<Mentés>** / **<Mégsem>** nyomógombok kezelésekor, ill. az **<X>** -re kattintáskor,
továbbá mellékattintáskor a rendszer bezárja a popup ablakot. Az ablak bezárásakor a
kliens meghívja az „ **S_27 – Felhasználói aktivitás naplózása** ” szolgáltatást az alábbi
bemenő paraméterekkel:

    - Ablakazonosító (’WINDOW_ID’): ’H06_07’

    - Esemény (’ACTIVITY’): ’WindowClose’

    - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója

    - GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója

    - Esemény kiegészítő információk (’ACTIVITY_EXT’): ’Create’ vagy ’Modify’ attól

függően, hogy új időintervallumot vesz fel a felhasználó, vagy a meglévőt
módosítja

    - Bejegyzés azonosító (’MAIN_ID’): NULL

    - Bejegyzés sub azonosító (’SUB_ID’): NULL

    - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): A
’WindowOpen’ eseménykor kapott ACTIVITY_ID.


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 117/136|

### **2.8.4. Az ablak szerkezeti leírása ** **Beviteli/megjelenítő mezők, kiválasztó lista (combo box), kapcsoló, rádiógomb **








|Felirat|Megnevezés|Súgó (Tooltip) szöveg|Kontrol típusa|Hossz|Maszk|Alapértelmezett érték|Törzstábla/kódtábla|
|---|---|---|---|---|---|---|---|
|Értesítésfogadó|Értesítésfogadó|-|Szabad szöveges megjelenítő||||ERTESITES_FOGADO. NEV|
|Állandó értesítésfogadó?|Állandó értesítésfogadó?|-|Szabad szöveges megjelenítő||||ERTESITES_FOGADO. ALLANDO (I – Igen, N – Nem)|
|Belépve tól-ig|Belépve tól|-|Dátum és időpont kiválasztó||||ERTFOGADO_FEL_LEI RATKOZAS.BELEPVE_ TOL|
||Belépve ig|-|Dátum és időpont kiválasztó||||ERTFOGADO_FEL_LEI RATKOZAS.BELEPVE_ IG|
|Kilépve tól-ig|Kilépve tól|-|Dátum kiválasztó||||ERTFOGADO_FEL_LEI RATKOZAS.KILEPVE_ TOL|
||Kilépve ig|-|Dátum kiválasztó||||ERTFOGADO_FEL_LEI RATKOZAS.KILEPVE_I G|


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 118/136|





|Nyomógombok|Col2|Col3|Col4|Col5|
|---|---|---|---|---|
|Felirat|Megnevezés|Súgó (Tooltip) szöveg|Alapértelmezés [megnyomható/nem nyomható meg]|Material ikon neve|
||Ment|-|nem nyomható meg|check|
||Mégsem|-|megnyomható|close|


**2.8.5.** **Hívott szolgáltatások**




|Funkciógomb/link/vezérlőelem esemény|Hívott ablak|Hívott szolgáltatás rövid megnevezése (azonosító)|
|---|---|---|
|Ablakbetöltés|-|S_27 – Felhasználói aktivitás naplózása|
||-|S_24 – Értesítésfogadó fel- /leiratkozás mentése|
|Ablakbezárás|-|S_27 – Felhasználói aktivitás naplózása|


**2.8.6.** **Rendszerüzenetek**

Nincs.

**2.8.7.** **Kódtáblák, választási listák**

Nincs.

**2.8.8.** **Rendszerparaméterek**



|Paraméter azonosítója|Paraméter megnevezése|Kezdeti beállítás|
|---|---|---|
|RECIPIENT_WORKING_HOURS|Feliratkozott értesítésfogadó alapértelmezett munkaideje órában meghatározva.|12|


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 119/136|

##### 2.9. H06_08 – HUBA – Hívás eredménye [#89698]

**2.9.1.** **Ablak/lap feladatai**

Az ablak a bejegyzés egy értesítésének egy telefonon értesítendő felhasználójához a
telefonhívás eredményének rögzítésére szolgál.

**2.9.2.** **Ablak/lap megjelenése**

**2.9.3.** **Ablak/lap működése**

Az ablak a „ **H06_06** **– HUBA – Értesítések kezelése** ” felületen az „ **Értesítési napló** ”
lapfülön egy értesítéshez tartozó valamely telefonon értesítendő felhasználónál
megjelenített telefonszám link kezelését követően nyílik meg. A link csak azon GVK
profil azonosítójú felhasználó számára aktív, megnyomható, akihez az
**OP_H06_08_HivasEredmenyMent** operandus hozzá van rendelve (ld. H06_06B
lapfülön kezelve).


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 120/136|


**Az ablak felépítése**

Az ablak a képernyő közepén jelenik meg a H06_06B felett.

Az ablak tartalmazza:

    - Az ablak azonosítóját, valamint megnevezését egy fehér hátterű sávban:

**H06_08 – HUBA – Hívás eredménye**

    - Új hívás eredmény rögzítéséhez a mezőket:

`o` Hívó: Nem módosítható.

`o` Hívás időpontja: Nem módosítható.

`o` Hívás sikeres?: Alapértelmezetten kikapcsolt állapotú.
Kezelésekor bekapcsolt állapotra vált.

`o` Megjegyzés: Szöveges mező, alapértelmezetten szerkeszthető és

kötelező (piros betűszínnel és kerettel jelenik meg, amíg üres a mező).
Amennyiben a Hívás sikeres? kapcsoló bekapcsolt állapotú, a
Megjegyzés mező opcionális.

    - Nyomógombok:

`o` nyomógomb: A < **Mentés**      - nyomógomb
alapértelmezetten kezelhető (megnyomható).

`o` nyomógomb: A < **Mégsem**      - nyomógomb
alapértelmezetten kezelhető (megnyomható).

    - nyomógomb az ablak jobb felső sarkában az ablak bezárásához.

**Ablakbetöltés**

Az ablak megnyitásakor a kliens meghívja az „ **S_27 – Felhasználói aktivitás naplózása** ”
szolgáltatást az alábbi bemenő paraméterekkel:

    - Ablakazonosító (’WINDOW_ID’): ’H06_08’

    - Esemény (’ACTIVITY’): ’WindowOpen’

    - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója

    - GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója

    - Esemény kiegészítő információk (’ACTIVITY_EXT’): ’View’

    - Bejegyzés azonosító (’MAIN_ID’): NULL

    - Bejegyzés sub azonosító (’SUB_ID’): NULL

    - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): NULL

Az ablak betöltésekor (első betöltés és későbbi újbóli betöltéskor is) a kliens az alábbi

módon tölti fel a mezők értékét:

    - Hívó: A bejelentkezett AD felhasználó neve

    - Hívás időpontja: Rendszerdátum és időpont. Formátuma: YYYY.MM.DD.

HH24:MI

    - Hívás sikeres?: Kikapcsolt állapotú

    - Megjegyzés: üres


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 121/136|


**Nyomógombok kezelése**

    - nyomógomb kezelése:

A < **Mentés**      - nyomógomb kezelésekor a kliens vizsgálja a ’Megjegyzés’ mező
kitöltöttségét, ha a ’Hívás sikeres?’ kapcsoló kikapcsolt állapotú:

`o` Amennyiben a fenti esetben a ’Megjegyzés’ mező kötelezően

kitöltendő, de üres, a kliens az alábbi pop-up üzenetet jeleníti meg az

ablak felett:

`o` Amennyiben a fenti esetben a ’Megjegyzés’ mező kötelezően

kitöltendő, de nem üres vagy opcionális mező, a kliens az új
híváseredmény elmentése céljából az alábbi bemenő paraméterekkel
meghívja az „ **S_72 – Hívás eredményének mentése** ” szolgáltatást:

          - Értesítés egyedi azonosítója (’ertesitesId’)

          - Értesítendő felhasználó egyedi azonosítója (’ertFelhId’)

          - Hívás időpontja (’hivasIdo’)

          - Hívás eredménye (’hivasEredmeny’): Lehetséges értéke I/N.

          - Megjegyzés (’megjegyzes’)

**Mentés eredménye** (’status’):

          - 200 – **Sikeres mentés esetén** a kliens az alábbi pop-up üzenetet

jeleníti meg:

A kliens meghívja az „ **S_27 – Felhasználói aktivitás naplózása** ”
szolgáltatást az alábbi bemenő paraméterekkel:

             - Ablakazonosító (’WINDOW_ID’): ’H06_08’

             - Esemény (’ACTIVITY’): ’Create’

             - AD felhasználó (’AD_USER’): bejelentkezett felhasználó

AD azonosítója

             - GVK felhasználó (’GVK_USER’): GVK felhasználói profil

azonosítója

             - Esemény kiegészítő információk (’ACTIVITY_EXT’): JSON

formában a mentés részletei

             - Bejegyzés azonosító (’MAIN_ID’): NULL

             - Bejegyzés sub azonosító (’SUB_ID’): NULL

             - Előzmény felhasználói aktivitás azonosító
(’PRE_ACTIVITY_ID’): NULL



-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 122/136|


Mentést követően a kliens az ablakot bezárja és a grid frissítése céljából
meghívja az „ **S_48 – Értesítési napló lekérdezése** ” tartalmát, bemenő
paraméterként átadva a bejegyzés egyedi azonosítóját (’bejegyzesId’).

          - 599 vagy 400 – **Sikertelen mentés esetén** a kliens az alábbi

popup üzenetet jeleníti meg a kapott RequiestId-val:

Sikertelen a mentés, ha az értesítési csoport valamelyik adatának

mentése nem volt sikeres az adatbázisba.

Ebben az esetben a < **Mentés**             - nyomógomb újra kezelhető.

    - nyomógomb kezelése:

A < **Mégsem**      - nyomógomb kezelésekor a kliens nem menti el a beírt adatot. Az
A kliens az alábbi pop-up üzenetet jeleníti meg:

**Ablak bezárása**

Az ablak bezárása a böngészőfülön lévő **<X>** nyomógombra kattintással lehetséges.

Az ablak bezárásakor a kliens meghívja az „ **S_27 – Felhasználói aktivitás naplózása** ”
szolgáltatást az alábbi bemenő paraméterekkel:

    - Ablakazonosító (’WINDOW_ID’): ’H06_08’

    - Esemény (’ACTIVITY’): ’WindowClose’

    - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója

    - GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója

    - Esemény kiegészítő információk (’ACTIVITY_EXT’): ’View’

    - Bejegyzés azonosító (’MAIN_ID’): NULL

    - Bejegyzés sub azonosító (’SUB_ID’): NULL

    - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): A
’WindowOpen’ eseménykor kapott ACTIVITY_ID.


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 123/136|

### **2.9.4. Az ablak szerkezeti leírása ** **Beviteli/megjelenítő mezők, kiválasztó lista (combo box), kapcsoló, rádiógomb **







|Felirat|Megnevezés|Súgó (Tooltip) szöveg|Kontrol típusa|Hossz|Maszk|Alapértelm ezett érték|Törzstábla/ kódtábla|
|---|---|---|---|---|---|---|---|
|Hívó|Hívó|-|szöveges megjelenítő|AN200||||
|Hívás ideje|Hívás ideje|-|dátum||YYYY.MM.DD. HH24:MI|||
|Hívás sikeres?|Hívás sikeres?|-|toggle bar|||kikapcsolt||
|Megjegyzés|Megjegyzés|-|textbox|AN100||üres||





|Nyomógombok|Col2|Col3|Col4|Col5|
|---|---|---|---|---|
|Felirat|Megnevezés|Súgó (Tooltip) szöveg|Alapértelmezés [megnyomható/nem nyomható meg]|Material ikon neve|
||Mentés|-|megnyomható||
||Mégsem|-|megnyomható||


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 124/136|


**2.9.5.** **Hívott szolgáltatások**




|Funkciógomb/link/vezérlőelem esemény|Hívott ablak|Hívott szolgáltatás rövid megnevezése (azonosító)|
|---|---|---|
|Ablakbetöltés|-|S_27 – Felhasználói aktivitás naplózása|
||-|S_72 – Hívás eredményének mentése|
||-|S_48 – Értesítési napló lekérdezése|
||-|S_27 – Felhasználói aktivitás naplózása|
|Ablakbezárás|-|S_27 – Felhasználói aktivitás naplózása|


**2.9.6.** **Rendszerüzenetek**






|Ellenőrzések leírása (HA)|Rendszerüzenet (AKKOR)|Rendszerüzenet típusa|
|---|---|---|
|<Mentés> nyomógomb kezelésekor kötelező, de üres a Megjegyzés mező|„Nincs minden kötelező mező kitöltve.”|Hiba|
|Az új rekord mentése sikeres|„A híváseredmény mentése sikeres volt.”|Információ|
|Az új rekord mentése sikertelen|„A mentés során hiba történt. Kérem próbálja újra később. RequiestId: XXX”|Hibaüzenet|
|<Mégsem> nyomógomb kezelésekor|„Biztosan elveti a módosításait?”|Figyelmeztető|


**2.9.7.** **Kódtáblák, választási listák**

Nincs.

**2.9.8.** **Rendszerparaméterek**

Nincs.




-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 125/136|

##### 2.10. H06_09 – HUBA – Egyéb szervezetek [#91979]

**2.10.1.** **Ablak/lap feladatai**

Az ablak az értesítésfogadóhoz beállítható egyéb szervezetek karbantartására
(rögzítésére, módosítására, törlésére) szolgál.

**2.10.2.** **Ablak/lap megjelenése**

**2.10.3.** **Ablak/lap működése**

Az ablak a „ **H06_01** **– HUBA – Értesítési beállítások** ” felületen az „ **Értesítésfogadók**

**beállításai** ” lapfülön található (Egyéb szervezetek) nyomógomb

kezelését követően nyílik meg. A (Egyéb szervezetek) nyomógomb


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 126/136|


csak azon GVK profil azonosítójú felhasználó számára aktív, megnyomható, akihez az
**OP_H06_09_EgyebSzervezetekMegjelenitMent** operandus hozzá van rendelve.

**Az ablak felépítése**

Az ablak a képernyő közepén jelenik meg a H06_01A felett, vertikálisan dinamikusan
(ld. egyéb szervezet név megadása).

Az ablak tartalmazza:

    - Az ablak azonosítóját, valamint megnevezését egy fehér hátterű sávban:

**H06_09 – HUBA – Egyéb szervezetek**

    - Kapcsoló:

A kétállású kapcsoló ki-bekapcsolható. Bekapcsolt állapotban a kapcsoló
háttérszíne sötétebb szürke, kikapcsolt állapotban világosszürke.

A kapcsoló alapértelmezetten kikapcsolt állapotú. Bekapcsolt állapotban a griden megjelennek a törölt értesítési csoportok is.

    - Lista:

`o` Táblázatban jelenik meg az összes kért információ.

`o` Fejléc:

Amennyiben az oszlopcím nem fér ki, az **Oszlopcím…** jelenik meg. Tooltipben olvasható a teljes oszlopcím.

*Sorbarendezés* : Az oszlopcím jobb oldalán található (Sorbarendezés)
ikonra kattintva rendezhető a táblázat megjelenített tartalma. Az
alapértelmezett rendezés az értesítési csoport neve szerint történik ABC

sorrendben.

Az oszlopcím mellett egy felfelé (növekvő) vagy lefelé (csökkenő) mutató
nyíl jelzi, hogy mi szerint van rendezve. Egyszerre egy oszlop szerint

rendezhető a táblázat.

*Oszlopszűrés* : Az oszlopcím bal oldalán található (Oszlopszűrés) ikonra
kattintva az alábbi pop-up ablak segítségével a megjelenített találati lista
adott oszlopa szerinti további szűrésre van lehetőség:


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 127/136|


Az alábbi szűrési feltételek alkalmazhatók: Tartalmaz (ez az
alapértelmezett) / Egyezik / Kisebb / Kisebb, egyenlő / Nagyobb / Nagyobb,
egyenlő / Üres / Nem üres. Egymást követően több oszlopon is beállítható
oszlopszűrés.

`o` Adatok:

Ablakbetöltéskor a grid-ben megjelennek az „ **S_59 – Egyéb szervezetek**
**lekérdezése** ” szolgáltatástól visszakapott adatok az ott definiált feltételek
alapján.

`o` Alsó vízszintes gördítősáv (horizontális scrollbar):

Ha nem fér ki az oldalra a táblázat összes megjeleníteni kívánt oszlopa,
akkor az alsó vízszintes gördítősáv segítségével lehet megtekinteni a
táblázat többi oszlopát.

`o` Oldalsó függőleges gördítősáv (vertikális scrollbar):

Ha nem fér ki az oldalra a táblázat összes megjeleníteni kívánt sora,
akkor az oldalsó (jobb oldalon) függőleges gördítősáv segítségével lehet
megtekinteni a táblázat többi sorát.

    - Nyomógombok:

`o` nyomógomb: Az < **Új**      - nyomógomb alapértelmezetten
kezelhető (megnyomható) abban az esetben, ha a grid-en nincs kijelölve
sor. A grid-en kijelölt bejegyzés esetén a nyomógomb disabled állapotú.

`o` nyomógomb: A < **Szerkesztés**      - nyomógomb
alapértelmezetten nem kezelhető (nem megnyomható). Abban az


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 128/136|


esetben válik kezelhetővé (megnyomhatóvá), ha a grid-en van kijelölve

egy sor.

`o` nyomógomb: A < **Törlés**      - nyomógomb alapértelmezetten
nem kezelhető (nem megnyomható). Abban az esetben válik
kezelhetővé (megnyomhatóvá), ha a grid-en van kijelölve egy sor.

    - Egyéb szervezet neve:

Az Egyéb szervezet neve és a szövegesen megadható szerkesztő mező
alapértelmezetten nem jelenik meg. A mezőnév és a szerkesztő mező az < **Új**      vagy < **Szerkesztés**      - nyomógomb kezelésekor jelenik meg az ablakban.

    - Nyomógombok:

`o` nyomógomb: A < **Mentés**      - nyomógomb
alapértelmezetten nem kezelhető (nem megnyomható). Az < **Új**         - vagy
< **Szerkesztés**         - nyomógomb kezelésekor jelenik meg az ablakban, ekkor

válik kezelhetővé.

`o` nyomógomb: A < **Mégsem**      - nyomógomb
alapértelmezetten nem kezelhető (nem megnyomható). Az < **Új**         - vagy
< **Szerkesztés**         - nyomógomb kezelésekor jelenik meg az ablakban, ekkor

válik kezelhetővé.

    - nyomógomb az ablak jobb felső sarkában az ablak bezárásához.

**Ablakbetöltés**

Az ablak betöltésekor (első betöltés és későbbi újbóli betöltéskor is) a kliens meghívja
az „ **S_27 – Felhasználói aktivitás naplózása** ” szolgáltatást az alábbi bemenő
paraméterekkel:

    - Ablakazonosító (’WINDOW_ID’): ’H06_09’

    - Esemény (’ACTIVITY’): ’WindowOpen’

    - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója

    - GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója

    - Esemény kiegészítő információk (’ACTIVITY_EXT’): ’View’

    - Bejegyzés azonosító (’MAIN_ID’): NULL

    - Bejegyzés sub azonosító (’SUB_ID’): NULL

    - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): NULL

Az ablak megnyitásakor a ’Töröltek is’ kapcsoló kikapcsolt állapotú.

Az ablak betöltésekor (első betöltés és későbbi újbóli betöltéskor is) a kliens bemenő
paraméter nélkül meghívja az „ **S_59 – Egyéb szervezetek lekérdezése** ” szolgáltatást.

A kliens a szolgáltatástól visszakapott értékeket megjeleníti a grid-en:

    - Egyéb szervezet egyedi azonosítója: A kliensen nem jelenik meg.


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 129/136|



    - Egyéb szervezet megnevezése: A kliensen az ’Egyéb szervezet neve’ mezőben

jelenik meg.

    - Aktív? (I/N): A kliensen a ’Törölve’ mezőben jelenik meg.

**Grid és kapcsoló működése**

A kapcsoló kezelésekor a kapcsoló bekapcsolt állapotra vált. A grid-en
megjelennek az ablakbetöltéskor meghívott S_59 szolgáltatástól visszakapott inaktív
egyéb szervezetek is. A kapcsoló újbóli kezelésekor a kapcsoló kikapcsolt állapotra vált
és a grid-ből eltűnnek az inaktív egyéb szervezetek.

**Nyomógombok kezelése**

    - nyomógomb kezelése:

Az < **Új**      - nyomógomb kezelésekor a nyomógomb alatt megjelenik az alábbi

szekció:

Az ’Egyéb szervezet neve’ kötelezően kitöltendő mező.

A < **Mentés**      - nyomógomb kezelésekor a kliens vizsgálja a mező kitöltöttségét:

`o` Nem üres mező esetén a kliens az új egyéb szervezet elmentése céljából

az alábbi bemenő paraméterekkel meghívja az „ **S_60 – Egyéb szervezet**
**adatainak mentése** ” szolgáltatást:

          - Egyéb szervezet azonosítója: NULL

          - Egyéb szervezet megnevezése

          - Aktív? (I/N): ’I’

A kliens meghívja az „ **S_27 – Felhasználói aktivitás naplózása** ”
szolgáltatást az alábbi bemenő paraméterekkel:

          - Ablakazonosító (’WINDOW_ID’): ’H06_09’

          - Esemény (’ACTIVITY’): ’Create’

          - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD

azonosítója

          - GVK felhasználó (’GVK_USER’): GVK felhasználói profil
azonosítója

          - Esemény kiegészítő információk (’ACTIVITY_EXT’): JSON

formában a mentés részletei

          - Bejegyzés azonosító (’MAIN_ID’): NULL

          - Bejegyzés sub azonosító (’SUB_ID’): NULL

          - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’):

NULL

Mentést követően a kliens a grid frissítése céljából meghívja az „ **S_59 –**
**Egyéb szervezet lekérdezése** ” tartalmát. Az ’Egyéb szervezet neve’


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 130/136|


mező, a < **Mentés**        - és < **Mégsem**        - nyomógombok visszaváltanak
disabled státuszúra. [#99440 eleje] A kliens az alábbi pop-up üzenetet jeleníti

meg:

#99440 vége

`o` Üres mező esetén a kliens az alábbi pop-up üzenetet jeleníti meg az

ablak felett:

A < **Mégsem**      - nyomógomb kezelésekor a kliens nem menti el a beírt értéket. Az
’Egyéb szervezet neve’ mező, a < **Mentés**      - és < **Mégsem**      - nyomógombok

visszaváltanak disabled státuszúra.

    - nyomógomb kezelése:

A < **Szerkesztés**      - nyomógomb kezelésekor a nyomógomb alatt megjelenik az

alábbi szekció:

Az ’Egyéb szervezet neve’ mezőben megjelenik a grid-en kijelölt sorban
szereplő név értéke. Kötelezően kitöltendő mező, módosítást követően sem

lehet üres.

A < **Mentés**      - nyomógomb kezelésekor a kliens vizsgálja a mező kitöltöttségét:

`o` Amennyiben módosításkor nem üres a mező, a kliens az egyéb szervezet

nevének módosítása céljából az alábbi bemenő paraméterekkel
meghívja az „ **S_60 – Egyéb szervezet adatainak mentése** ” szolgáltatást:

          - Egyéb szervezet azonosítója

          - Egyéb szervezet megnevezése


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 131/136|



          - Aktív? (I/N): ’I’

`o` Amennyiben módosításkor üres marad a mező, a kliens az alábbi pop
up üzenetet jeleníti meg az ablak felett:

A < **Mégsem**      - nyomógomb kezelésekor a kliens nem menti el a módosítást. Az
’Egyéb szervezet neve’ mező, a < **Mentés**      - és < **Mégsem**      - nyomógombok

visszaváltanak disabled státuszúra.

#92775 **Mentés eredménye** (’status’):

`o` 200 – **Sikeres mentés esetén** a kliens az alábbi pop-up üzenetet jeleníti meg:

#99440 eleje

#99440 vége

         - A kliens meghívja az „ **S_27 – Felhasználói aktivitás naplózása** ”

szolgáltatást az alábbi bemenő paraméterekkel:

          - Ablakazonosító (’WINDOW_ID’): ’H06_09’

          - Esemény (’ACTIVITY’): ’Modify’

          - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD

azonosítója

          - GVK felhasználó (’GVK_USER’): GVK felhasználói profil
azonosítója

          - Esemény kiegészítő információk (’ACTIVITY_EXT’): JSON

formában a mentés részletei

          - Bejegyzés azonosító (’MAIN_ID’): NULL

          - Bejegyzés sub azonosító (’SUB_ID’): NULL

          - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’):

NULL

`o` Mentést követően a kliens a grid frissítése céljából meghívja az „ **S_59**

**– Egyéb szervezetek lekérdezése** ” tartalmát. Az ’Egyéb szervezet


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 132/136|


neve’ mező, a < **Mentés**            - és < **Mégsem**            - nyomógombok

visszaváltanak disabled státuszúra.

`o` 599 vagy 400 – **Sikertelen mentés esetén** a kliens az alábbi popup üzenetet

jeleníti meg a kapott RequiestId-val:

Sikertelen a mentés, ha az egyéb szervezetek valamelyik adatának mentése

nem volt sikeres az adatbázisba.

Ebben az esetben a < **Mentés és bezárás**      - nyomógomb újra kezelhető. [#92775 vége]

    - nyomógomb kezelése:

A < **Törlés**      - nyomógomb kezelésekor a kliens a grid-en kijelölt értesítési csoport
inaktívra módosítása céljából az alábbi bemenő paraméterekkel meghívja az
„ **S_60 – Egyéb szervezet adatainak mentése** ” szolgáltatást:

`o` Értesítési csoport azonosítója
`o` Értesítési csoport megnevezése
`o` Aktív? (I/N): ’N’

A kliens meghívja az „ **S_27 – Felhasználói aktivitás naplózása** ” szolgáltatást az
alábbi bemenő paraméterekkel:

`o` Ablakazonosító (’WINDOW_ID’): ’H06_09’
`o` Esemény (’ACTIVITY’): ’Modify’
`o` AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója
`o` GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója
`o` Esemény kiegészítő információk (’ACTIVITY_EXT’): JSON formában a

mentés részletei

`o` Bejegyzés azonosító (’MAIN_ID’): NULL
`o` Bejegyzés sub azonosító (’SUB_ID’): NULL
`o` Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): NULL

Törlést követően a kliens a grid frissítése céljából meghívja az „ **S_59 – Egyéb**
**szervezetek lekérdezése** ” tartalmát. A törölt egyéb szervezet már nem jelenik
meg a grid-en. [99440 eleje] A kliens az alábbi pop-up üzenetet jeleníti meg:


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 133/136|


#99440 vége

**Ablak bezárása**

Az ablak bezárása a böngészőfülön lévő **<X>** nyomógombra kattintással lehetséges.

Az ablak bezárásakor a kliens meghívja az „ **S_27 – Felhasználói aktivitás naplózása** ”
szolgáltatást az alábbi bemenő paraméterekkel:

    - Ablakazonosító (’WINDOW_ID’): ’H06_09’

    - Esemény (’ACTIVITY’): ’WindowClose’

    - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója

    - GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója

    - Esemény kiegészítő információk (’ACTIVITY_EXT’): ’View’

    - Bejegyzés azonosító (’MAIN_ID’): NULL

    - Bejegyzés sub azonosító (’SUB_ID’): NULL

    - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): A
’WindowOpen’ eseménykor kapott ACTIVITY_ID.


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 134/136|

### **2.10.4. Az ablak szerkezeti leírása ** **Beviteli/megjelenítő mezők, kiválasztó lista (combo box), kapcsoló, rádiógomb **









|Felirat|Megnevezés|Súgó (Tooltip) szöveg|Kontrol típusa|Hossz|Maszk|Alapértelmezett érték|Törzstábla/ kódtábla|
|---|---|---|---|---|---|---|---|
|Toolbar - Kapcsolók||||||||
||Törölt értesítési csoportok|-|two-state- button|||kikapcsolt||
|Grid||||||||
||(szűrés: Tartalmaz)|Oszlopszűrés||||||
||(szűrés: combobox)||combobox|||||
||(rendezés)|Sorbarendezés||||||
||Horizontális scrollbar|-|scrollbar|||-||
||Vertikális scrollbar|-|scrollbar|||-||
|Egyéb szervezet neve||||||||
|Egyéb szervezet neve:|Egyéb szervezet neve:|-|label|||nem jelenik meg||
|-|(Egyéb szervezet neve)|-|szöveges mező|AN50||nem jelenik meg|HUBA.EGYEB_SZERVEZ ET|

### **Grid oszlopai az alapértelmezett sorrendben **





|Felirat|Megnevezés|Súgó (Tooltip) szöveg|Hossz|Maszk/ Típus|Alapértelmezett érték|Törzstábla/ kódtábla|
|---|---|---|---|---|---|---|
|Egyéb szervezet neve|Egyéb szervezet neve|Egyéb szervezet neve|AN50||-|HUBA.EGYEB_SZERVEZET|
|Törölt|Törölt|Törölt|boolean|I/N|-|HUBA.EGYEB_SZERVEZET|


-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 135/136|





|Nyomógombok|Col2|Col3|Col4|Col5|
|---|---|---|---|---|
|Felirat|Megnevezés|Súgó (Tooltip) szöveg|Alapértelmezés [megnyomható/nem nyomható meg]|Material ikon neve|
||Új felvitel|-|megnyomható||
||Szerkesztés|-|nem nyomható meg||
||Törlés|-|nem nyomható meg||
||Mentés|-|nem nyomható meg||
||Mégsem|-|nem nyomható meg||


**2.10.5.** **Hívott szolgáltatások**




|Funkciógomb/link/vezérlőelem esemény|Hívott ablak|Hívott szolgáltatás rövid megnevezése (azonosító)|
|---|---|---|
|Ablakbetöltés|-|S_27 – Felhasználói aktivitás naplózása|
|Ablakbetöltés|-|S_59 – Egyéb szervezetek lekérdezése|
|||S_27 – Felhasználói aktivitás naplózása|
||-|S_60 – Egyéb szervezet adatainak mentése|
||-|S_60 – Egyéb szervezet adatainak mentése|
|Ablakbezárás|-|S_27 – Felhasználói aktivitás naplózása|


**2.10.6.** **Rendszerüzenetek**





|Ellenőrzések leírása (HA)|Rendszerüzenet (AKKOR)|Rendszerüzenet típusa|
|---|---|---|
|<Új> nyomógomb kezelését követően üres egyéb szervezet névvel <Mentés> nyomógomb kezelésekor|„Nincs minden kötelező mező kitöltve.”|Hiba|
|<Szerkesztés> nyomógomb kezelését követően üres egyéb szervezet névvel <Mentés> nyomógomb kezelésekor|„Nincs minden kötelező mező kitöltve.”|Hiba|
|#92775 Az új rekord mentése sikeres|„A híváseredmény mentése sikeres volt.”|Információ|
|#92775 Az új rekord mentése sikertelen|„A mentés során hiba történt. Kérem próbálja újra később. RequiestId: XXX”|Hibaüzenet|


**2.10.7.** **Kódtáblák, választási listák**

Nincs.

**2.10.8.** **Rendszerparaméterek**

Nincs.




-----

|GVK_UC_H06 Részletterv|Col2|Azonosító: RRT_UC_H06|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.32|Oldal: 136/136|


-----

