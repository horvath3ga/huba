|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 1/48|

# – GVK_UC_H01  HUBA bejegyzések RÉSZLETES RENDSZERTERV
## 2025. április 2.
### V1.22


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 2/48|

#### **Dokumentum történet **

Kidolgozó változtatások követése













|Verzió|Dátum|Változtatás leírása / megjegyzések|Kidolgozta, módosította|Col5|
|---|---|---|---|---|
||||Név|Állapot|
|1.0|2024.05.17.|Létrehozás #89125 - H01_01 - Bejegyzések ablak és grid kialakítása|Hutter Julianna|Ellenőrizhető|
|1.1|2024.06.05 2024.06.25|#89126 - H01_01 - Új bejegyzés nyomógomb kezelése|Hutter Julianna|Ellenőrizhető|
|1.2|2024.06.05|#89142 - H01_03 - Bejegyzések oszlopmegjelenítési beállítása ablak kialakítása|Hutter Julianna|Ellenőrizhető|
|1.3|2024.06.07|#89145 - H01_01 - Értesítési beállítások nyomógomb kezelése|Hutter Julianna|Ellenőrizhető|
|1.4|2024.06.13|#89136 - H01_01 - Bejegyzés befejezése nyomógomb kezelése|Hutter Julianna|Törlésre került|
|1.5|2024.06.18|#89139 - H01_02 - Bejegyzésekben keresés ablak kialakítása|Hutter Julianna|Ellenőrizhető|
|1.6|2024.06.26|#89132 - H01_01 - Bejegyzés megnyitása nyomógomb kezelése|Hutter Julianna|Ellenőrizhető|
|1.7|2024.08.06|#92557 - H01_01 - Kezdési idővel nem rendelkező bejegyzések megjelenítése|Hutter Julianna|Ellenőrizhető|
|1.8|2024.08.07|#92722 - H01_03 - Bejegyzések oszlopmegjelenítése ablakstatisztika módosítása|Hutter Julianna|Ellenőrizhető|
|1.9|2024.08.14|#92180 - H01_01 - Kártyás nézet DHTMLx DataView nézet használata|Hutter Julianna Vörös Gábor|Ellenőrizhető|
|1.10|2024.09.12|#93041 - H01_01 - Értesítések nyomógomb kezelése|Hutter Julianna|Ellenőrizhető|
|1.11|2024.09.18|#89383 - HUBA betűkód kivezetése|Berkesi Ádám|Ellenőrizhető|
|1.12|2024.10.16|#91585 - H01_01, H01_02 - Bejegyzések mezőtartalom véglegesítése|Hutter Julianna|Ellenőrizhető|
|1.13|2024.11.08|#95847 - H01_01 - Nyomógombok kezelésére megnyitható ablakok vizsgálata|Hutter Julianna|Törölve|
|1.14|2024.11.28|#96921 - HUBA - H01_01 ablakban grid sorában dupla kattintásra nyiló ablak|Hutter Julianna|Ellenőrizhető|
|1.15|2024.11.29|#96127 - HUBA - H09 - Kifogáskezelés|Kovács Eszter|Ellenőrizhető|
|1.16|2024.12.03|#97253 - H01_02 keresés véglegesítése 2.|Hutter Julianna|Ellenőrizhető|
|1.17|2025.01.02|#97263 - H01_01 - Kapcsolók feltételeinek módosítása|Hutter Julianna|Ellenőrizhető|
|1.18|2025.01.28|#98306 - H01_01 - getHubaLista, getBejegyzesReszletek javítás|Hutter Julianna|Ellenőrizhető|
|1.19|2025.02.11|#99401 - GVK - HUBA H01_01 szűrő kapcsolok Tooltip beállítása|Hutter Julianna|Ellenőrizhető|
|1.20|2025.03.20|#101217 - GVK - H01_02 - HÜSZ-vonal kereső paraméter használata|Hutter Julianna|Ellenőrizhető|
|1.21|2025.03.24|#101355 - H01_01 - Kifogásolt bejegyzés láthatóság|Kovács Eszter|Folyamatban|
|1.22|2025.04.02|#101217 - GVK - H01_02 - HÜSZ-vonal kereső paraméter használata (GVK QA)|Hutter Julianna|Ellenőrizhető|


MÁV SZK Ellenőrzések követése



-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 3/48|


|Verzió|Dátum|Változtatás leírása / megjegyzések|Kidolgozta, módosította|Col5|
|---|---|---|---|---|
||||Név|Állapot|
|1.0|2024.|Ellenőrzés|||
||||||
||||||
||||||


MÁV Engedélyeztetés követése/ eredmény átvétele

|Verzió|Dátum|Változtatás leírása / megjegyzések|Név|Aláírás|
|---|---|---|---|---|
||2024.|MÁV igényeknek megfelel|Herczog Ákos||
||||||
||||||
||||||


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 4/48|

#### **1. Általános ismertetés ** **1.1. A használati eset modulkapcsolatai **
##### **Szolgáltatások leírásának elérhetősége:** GVK_webalkalmazás_szolgáltatáso k . do c x


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 5/48|

##### **1.2. A használati eset célja, feladatai **

A használati eset célja a GVK alkalmazásban valamely elemhez rögzített bejegyzés(ek)

kezelése.

Feladata, hogy lehetőséget biztosítson

    - a létrehozott bejegyzések lekérdezésére és exportálására,

    - a bejegyzések listájához kapcsolódó felhasználói beállítások elmentésére,

    - új bejegyzés létrehozásához, valamint létező bejegyzés megtekintéséhez,

szerkesztéséhez kapcsolódó funkciók kezelésére és

    - az állandó, valamint feliratkozott értesítési felhasználók alapadatainak

kezelésének elindítására.


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 6/48|

#### **2. A használati eset ablakai ** **2.1. Ablakok közötti kapcsolat, navigálás **


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 7/48|

##### 2.2. H01_01 – HUBA – Bejegyzések [ #89125]

**2.2.1.** **Ablak/lap feladatai**

A MÁV Zrt. vasúti pályahálózatán keletkezett üzemzavarok és nem tervezett
korlátozások adatait tartalmazó bejegyzésekkel kapcsolatban az alábbi funkciók

biztosítása:

     - létező bejegyzések lekérdezése grid- (keresés, oszlopmegjelenítés beállítása,

oszlopsorrend mentése, grid manuális és ütemezett frissítése, lekérdezés
eredményének Excel-be exportálása) [#92180] és kártyanézetben,

     - új bejegyzés rögzítésének, valamint létező bejegyzés szerkesztési, ill.

megtekintési lehetőségének indítása,

     - értesítési beállítások megnyitása.
**2.2.2.** **Ablak/lap megjelenése**

Grid-es nézet: [#96127]

#92180, #96127 Kártyanézet:


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 8/48|


**2.2.3.** **Ablak/lap működése**

Az ablak az „ **A01 - GVK - Térkép** ” felületen található (HUBA bejegyzések)
nyomógomb kezelését követően nyílik meg új böngésző lapon, [#92180] alapértelmezetten
grid nézetben [#92180 vége] . Az ablak azon GVK profil azonosítójú felhasználó számára nyílik
meg, akihez az **OP_H01_01_Bejegyzesek** operandus hozzá van rendelve.

A rendszer a **H01_01** ablakot maximum egyszer nyitja meg új böngésző lapon.
Amennyiben az „ **A01 - GVK - Térkép** ” ablakról többször próbálja meg a GVK profil
azonosítójú felhasználó megnyitni, a korábban megnyitott **H01_01** ablak frissül az
alapértelmezett módon.

Az „ **A01 - GVK - Térkép** ” ablak bezárása esetén automatikusan bezáródik a H01_01

ablak is.

**Az ablak felépítése**

    - Az ablak kitölti a teljes képernyőt.

    - *Fejléc:*

Fejlesztői (DEV), Belső teszt (TEST) és Felhasználói teszt (QA) környezet használatakor
a fejléc háttérszíne középszürke (7F7F7F).

Üzemi (PROD)

Felhasználói teszt (QA)

Belső teszt (TEST)


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 9/48|


Fejlesztői (DEV)

`o` Középen az ablak azonosítóját és megnevezését: „ **H01_01 - HUBA -**

**Bejegyzések** ”

`o` Jobbszélen:

          - Rendszer neve és logója, valamint a rendszer neve alatt a

frontend verziószáma jelenik meg.

          - A logó előtt a GVK környezet neve:

              - üzemi (PROD): Nem jelenik meg a kliensen.

              - felhasználói teszt (QA): „ **QA** ”

              - teszt (TEST): „ **TEST** ”

              - fejlesztői (DEV): „ **DEV** ”

          - GVK profil név:

A GVK logó és környezet neve előtt GVK-ba történt
bejelentkezéskor érvényes GVK profil név megjelenítésére
szolgál.

          - Adatfrissítő:

A GVK profil név előtt a következő ütemezett adatlekérésig
hátralévő időtartamot jelző folyamatjelző, mely a hátralévő időt
másodpercekben mutatja.

  - *Felső eszközsor (Toolbar):*

Itt jelenik meg az összes, a táblázathoz kapcsolódó nyomógomb. Az adott funkció
leírása tooltip-ben jelenik meg.

`o` Keresés:

Rákattintva balról beúszó panelben megnyílik a **„** **H01_02** **– HUBA –**

**Bejegyzések lekérdezése”** ablak. A (Keresés) nyomógomb csak azon
GVK profil azonosítójú felhasználó számára aktív, megnyomható, akihez az
**OP_H01_02_BejegyzesekKeres** operandus hozzá van rendelve. Operandus
hiánya esetén a nyomógomb disabled állapotú.

`o` Keresés törlése:

Az ikon narancssárga színnel jelenik, amennyiben van megadott (aktív)
keresési feltétel az **„** **H01_02** **– HUBA – Bejegyzések lekérdezése”** ablakban,
fehérrel, ha nincs.


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 10/48|


Rákattintva egyszerre törölhetők az „ **H01_02** **– HUBA – Bejegyzések**

**lekérdezése** ” ablakban beállított feltételek. A (Keresés törlése)
nyomógomb csak azon GVK profil azonosítójú felhasználó számára aktív,
megnyomható, akihez az **OP_H01_02_BejegyzesekKeres** operandus hozzá
van rendelve. Operandus hiánya esetén a nyomógomb disabled állapotú.

`o` Beállítások:

Rákattintva balról beúszó panelben megnyílik a „ **H01_03** **– HUBA –**

**Bejegyzések oszlopmegjelenítése** ” ablak. A (Beállítások) nyomógomb
csak azon GVK profil azonosítójú felhasználó számára aktív, megnyomható,
akihez az **OP_H01_03_BejegyzesekOszlopokMegjelenitMent** operandus
hozzá van rendelve. Operandus hiánya esetén a nyomógomb disabled
állapotú.

Kártyanézetben (dataview) inaktív, nem kezelhető.

`o` Excel-export:

Rákattintva kezdeményezhető az összes találat összes oszloppal letöltése
Excel-be a keresési feltételeknek megfelelően.

Kártyanézetben (dataview) inaktív, nem kezelhető.

`o` Összes szűrő törlése:

Rákattintva kezdeményezhető a táblázat oszlopaira beállított szűrési

feltételek törlése.

Kártyanézetben (dataview) inaktív, nem kezelhető.

`o` Oszlopsorrend mentése:

Rákattintva kezdeményezhető a táblázat oszlop sorrendjének mentése a
GVK profil azonosítójú felhasználóhoz.

Kártyanézetben (dataview) inaktív, nem kezelhető.

`o` Frissítés:

Rákattintva kezdeményezhető a táblázat adatainak frissítése a keresési
feltételek beállításainak megfelelően.

`o` Kapcsolók és számláló:

*Kapcsoló* : Az alábbi kétállású kapcsolók ki-bekapcsolhatók. Bekapcsolt
állapotban a kapcsoló háttérszíne sötétebb szürke, kikapcsolt állapotban.


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 11/48|


világosszürke. [#99401] Az egeret a kapcsolóra húzva tooltip jelenik meg. [#99401 ]

vége

*Számláló* : A kapcsoló jobb felső sarkában a kapcsoló feltételeinek megfelelő
és a GVK profilú felhasználó számára a grid-ben látható bejegyzések

darabszámát mutató számláló található. A számlálóban a szám max. 3

karakterig jelenik meg, efelett a szám után ’+’ jel jelenik meg (’999+’). A
számláló szélessége a karakterszám növekedésével együtt bővül. A
számláló háttérszíne kék, a számlálóban a szám fehér betűszínnel jelenik

meg.

           - Besorolásra váró:

Alapértelmezetten kikapcsolt állapotú. Bekapcsolt állapotban az
’Új’ állapotú bejegyzések jelennek meg.

           - Aktuális napi:

Alapértelmezetten bekapcsolt állapotú. Bekapcsolt állapotban a
(rendszeridő – ’Aktuális napi bejegyzések intervalluma’
rendszerparaméter időintervallumon belüli befejezési időpontú
’Befejezett’ állapotú) ÉS (korlátlan időintervallumon belül
’Minősített’ állapotú bejegyzések) jelennek meg.

           - Folyamatban lévő:

Alapértelmezetten kikapcsolt állapotú. Bekapcsolt állapotban a
rendszeridő – ’Folyamatban lévő bejegyzések intervalluma’
rendszerparaméter időintervallumon belüli befejezési időpontú
#101513 vagy befejezési idő nélküli #101513vége, #97263 ’Új, #97263 vége

’Minősített’ és [#101513] ’Befejezett’ [#101513 vége] állapotú bejegyzések
jelennek meg.

           - #92180 Feladatkosár:

Alapértelmezetten kikapcsolt állapotú. Bekapcsolt állapotban a
„ **H08_01 – HUBA – HUBA bejegyzés részletek** ” ablakban
feladatkosárba helyezett bejegyzések jelennek meg. [#92180 vége ]

           - #96127 Kifogásolt:

`o` #92180 Nézetváltás:,



-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 12/48|


Rákattintva megváltozik a megjelenítés módja. Grid nézet és a Kártyás
(dataview) nézet között válthat vele a felhasználó.

Kártyás nézetre váltva inaktívvá válnak a kártyás nézetben nem releváns
toolbar ikonok (Oszlopbeállítások, Excel export, Szűrők törlése,
Oszlopsorrend mentése), továbbá a grid helyett megjelenik a kártya nézet.
A választó ikon grid-re vált.

Grid nézetre váltva aktívvá válnak a kártyás nézetben inaktív ikonok
(Oszlopbeállítások, Excel export, Szűrők törlése, Oszlopsorrend mentése),
továbbá kártya nézet helyett megjelenik a grid. A választó ikon kártyá-ra

vált.

  - *Grid nézet:*

`o` *Lista:*

        - Táblázatban jelenik meg az összes kért információ. [#91585] Asorokban az

adatok balra rendezve jelennek meg. [#91585 vége]

        - Fejléc:

A „ **H01_03** **- HUBA – Bejegyzések oszlopmegjelenítése** ” ablakban
kiválasztott oszlopok adják a táblázat oszlopcímeit.

Amennyiben az oszlopcím nem fér ki, az **Oszlopcím…** jelenik meg. Tooltipben olvasható a teljes oszlopcím.

*Sorbarendezés* : Az oszlopcím jobb oldalán található (Sorbarendezés)
ikonra kattintva rendezhető a táblázat megjelenített tartalma. Az
alapértelmezett rendezés a HUBA azonosító szerint csökkenő (a
legfrissebb jelenik meg legelöl).

Az oszlopcím mellett egy felfelé (növekvő) vagy lefelé (csökkenő) mutató
nyíl jelzi, hogy mi szerint van rendezve. Egyszerre egy oszlop szerint

rendezhető a táblázat.


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 13/48|


Az oszlopok sorrendje változtatható - drag&drop-pal átrendezhetők

tetszés szerint. Az oszlopok sorrendje a (Oszlopsorrend mentése)

ikonra kattintva menthető el.

*Oszlopszűrés* : Az oszlopcím bal oldalán található (Oszlopszűrés)
ikonra kattintva az alábbi pop-up ablak segítségével a megjelenített
találati lista adott oszlopa szerinti további szűrésre van lehetőség:

Az alábbi szűrési feltételek alkalmazhatók: Tartalmaz (ez az
alapértelmezett) / Egyezik / Kisebb / Kisebb, egyenlő / Nagyobb /
Nagyobb, egyenlő / Üres / Nem üres. Egymást követően több oszlopon is
beállítható oszlopszűrés.

A grid ütemezett frissítése során a rendszer megőrzi az oszlopszűrés, ill.
sorbarendezés állapotát.

        - Adatok:

Ablakbetöltéskor a grid-ben megjelennek az „ **S_45 – Bejegyzések felület**
**lekérdezése** ” szolgáltatástól visszakapott adatok az ott definiált feltételek
alapján.

        - Alsó vízszintes gördítősáv (horizontális scrollbar):

Ha nem fér ki az oldalra a táblázat összes megjeleníteni kívánt oszlopa,
akkor az alsó vízszintes gördítősáv segítségével lehet megtekinteni a
táblázat többi oszlopát.

        - Oldalsó függőleges gördítősáv (vertikális scrollbar):

Ha nem fér ki az oldalra a táblázat összes megjeleníteni kívánt sora,
akkor az oldalsó (jobb oldalon) függőleges gördítősáv segítségével lehet
megtekinteni a táblázat többi sorát.

`o` *Lábléc:*

        - Oldallapozó: A lekérdezett adatok a grid alatti lapozó funkcióval

jeleníthetők meg (legelső/legutolsó, valamint előző/következő
oldalra ugrás). Megjelenik a megjelenített/összes oldal száma. Az egy


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 14/48|


oldalon megjelenített rekordok száma listából választható [#91585]
(25/50/100), az alapértelmezett érték 100 rekord [#91585 vége]

  - #92180 *Kártyanézet:*

`o` *Lista:*

        - Kártyákon jelenik meg az összes kért információ.

A kártyák adattartalma, elrendezése nem módosítható.

A kártyák háttérszíne a bejegyzés állapotát jelzi az alábbiak szerint:

          - Új: fehér (#FFFFFF)

          - Minősített: halványkék (#D7EBFF)

          - Befejezett: halványzöld (#D7FFD7)

          - Lezárt: halványpiros (#FFD7D7)

          - Elvetett: szürke (#D7D7D7)

*Kártyák adattartalma:*

*#96127*


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 15/48|


*Jobb belső sarosban a Vasút ikon* *:* Azt jelöli, hogy a bejegyzéshez lett e
kiválasztva a H08_01-es ablakon Vasútvállalat. Csak akkor látszódik, ha lett
kiválasztva, és akkor tooltip-ben fel van sorolva a kiválasztott vasútvállalatok.
(Vasúttársaság: XY Kft, K Kft) [#96127 vége]

Felelős szakágak esetén a maximálisan megjeleníthető szakágak száma
nyolc darab, ezért a szakágak számától függően az alábbiak szerint kell
eljárni:

          - 8-nál kevesebb vagy 8 szakág esetén: szakágakhoz tartozó jelölő

ikonok megjelenítésa.

          - 8-nál több szakág esetén: az első 7 szakág megjelenítése, majd „…”

karakterekkel jelölve, hogy több is van.

Az egeret a szakág jelölő ikonja fölé húzva a szakág neve megjelenik
tooltipben.

*Sorbarendezés* : alapértelmezetten Bejegyzés azonosító szerinti
sorrendben kerülnek megjelenítésre a kártyák, a sorren nem

változtatható.

*Szűréshez* a Kapcsolók és a Keresés funkció használható, a kártya nézet
nem tartalmaz további szűrési lehetőséget.

        - Adatok:

Ablakbetöltéskor a nézetben megjelennek az „ **S_45 – Bejegyzések felület**
**lekérdezése** ” szolgáltatástól visszakapott adatok az ott definiált feltételek
alapján.

        - Alsó vízszintes gördítősáv (horizontális scrollbar):

Ha nem fér ki az oldalra az összes kártya, akkor az alsó vízszintes
gördítősáv segítségével lehet megtekinteni a nézet többi kártyáját.

        - Oldalsó függőleges gördítősáv (vertikális scrollbar):

Ha nem fér ki az oldalra az összes kártya, akkor az oldalsó (jobb
oldalon) függőleges gördítősáv segítségével lehet megtekinteni a nézet
többi kártyáját.


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 16/48|


`o` *Lábléc:*

        - Oldallapozó: A lekérdezett adatok a grid alatti lapozó funkcióval

jeleníthetők meg (legelső/legutolsó, valamint előző/következő
oldalra ugrás). Megjelenik a megjelenített/összes oldal száma. Az egy
oldalon megjelenített rekordok száma listából választható [#91585]
(25/50/100), az alapértelmezett érték 100 rekord [#91585 vége]

  - *Nyomógombok*

`o` #89145 nyomógomb: Az < **Értesítési beállítások**      nyomógomb alapértelmezetten csak azon GVK profil azonosítójú
felhasználó számára kezelhető, akihez az
**OP_H06_01_ErtesitesfogadokBeallitasokMegjelenitLista** operandus
hozzá van rendelve. Az operandus hiánya esetén a nyomógomb disabled
állapotú. [#89145 vége]

`o` #93041 nyomógomb: Az < **Értesítések**      nyomógomb alapértelmezetten nem kezelhető (nem megnyomható).
Abban az esetben válik kezelhetővé (megnyomhatóvá), ha a (grid-en van
kijelölve egy sor vagy a kártyanézetben kártya) és a GVK profil
azonosítójú felhasználóhoz hozzá van rendelve az
**OP_H06_06_ErtesitesMegtekint** operandus. A grid-en/ [#92180]
kártyanézetben kijelölt bejegyzés vagy az operandus hiánya esetén a
nyomógomb disabled állapotú. [#93041 vége]

`o` #89126 nyomógomb: Az < **Új**      - nyomógomb
alapértelmezetten kezelhető (megnyomható) abban az esetben, ha a
(grid-en nincs kijelölve sor [#92180] VAGY a kártyanézetben kártya [#92180 vége] )
és a GVK profil azonosítójú felhasználóhoz hozzá van rendelve az
**OP_H04_01_KodEsHelySzerkeszt** operandus. A operandus hiánya
esetén a nyomógomb disabled állapotú. [#89126 vége]

`o` Bejegyzés megnyitása:

          - #89132 nyomógomb: A < **Megnyitás**           nyomógomb alapértelmezetten nem kezelhető (nem
megnyomható). Abban az esetben válik kezelhetővé
(megnyomhatóvá), ha a (grid-en van kijelölve egy sor [#92180] VAGY
a kártyanézetben kártya [ #92180 vége] ) és a GVK profil azonosítójú
felhasználóhoz hozzá van rendelve az **OP_H02_01_BK**
operandus. [#89132 vége]

          - #96921 A grid-en egy sorra vagy a kártyanézetben egy kártyára
történő dupla kattintás abban az esetben lehetséges, ha a GVK


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 17/48|


profil azonosítójú felhasználóhoz hozzá van rendelve az
**OP_H02_01_BK** operandus. [#96921 vége]

#89132 A grid-en/ #92180 kártyanézetben kijelölt bejegyzés vagy az
operandus hiánya esetén a nyomógomb disabled állapotú. [#89132 vége]

**Ablakbetöltés**

Az ablak betöltésekor (első betöltés és későbbi újbóli betöltéskor is) a kliens meghívja
az „ **S_27 – Felhasználói aktivitás naplózása** ” szolgáltatást az alábbi bemenő
paraméterekkel:

    - Ablakazonosító (’WINDOW_ID’): ’H01_01’

    - Esemény (’ACTIVITY’): ’WindowOpen’

    - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója

    - GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója

    - Esemény kiegészítő információk (’ACTIVITY_EXT’): ’View’

    - Bejegyzés azonosító (’MAIN_ID’): NULL

    - Bejegyzés sub azonosító (’SUB_ID’): NULL

    - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): NULL

Az ablak betöltésekor (első betöltés és későbbi újbóli betöltéskor is) a kliens az alábbi
bemenő paraméterekkel meghívja az **„S_15 - Beállítások lekérdezése** ” szolgáltatást:

    - Beállítás azonosító: ’H01_03’

A GVK profil azonosítót a webAPI réteg adja át.

A kliens az alábbi, szolgáltatástól visszakapott értékek alapján megjeleníti az
oszlopokat:

    - Beállítás neve: az oszlop neve

    - Megjelenítési jelző: 0 - nem jelenik meg az oszlop, 1 - megjelenik az oszlop

    - Sorszám: az oszlop sorszáma a griden

Ha nincs ilyen eltárolt adat (S_15 szolgáltatás nem ad vissza adatot), akkor
alapértelmezetten minden oszlop megjelenítendőnek tekintendő a grid-en.

Az ablak megnyitásakor [#92180] az alapértelmezett nézet a grid-es nézet [#92180 vége], az
’Aktuális napi’ kapcsoló bekapcsolt állapotú.

Az ablak betöltésekor (első betöltés és későbbi újbóli betöltéskor is) a kliens meghívja
az „ **S_45 – Bejegyzések felület lekérdezése** ” szolgáltatást az alábbi bemenő
paraméterekkel:

#89139

      - **Kezdés ideje** :

( **Kezdés ideje (-tól)** (’startDateFrom’)

`o` Paraméter (dátum és időpont): Kezdés ideje (-ig) – 60 nap.
**Kezdés ideje (-ig)** (’startDateTo’)

`o` Paraméter (dátum és időpont): [#98306] NULL)

      - Minden további bemenő paraméter értéke NULL.

A GVK profil azonosítót a webAPI réteg adja át. [#89139 vége]


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 18/48|


A kliens a szolgáltatástól visszakapott értékek közül az Aktuális napi, kezdési időponttal,
HUBA felelőssel, ill. HUBA jelleggel rendelkező [#92557] és nem rendelkező [#92557 vége]
bejegyzéseket az alábbiak szerint jeleníti meg a grid-ben:

    - **HUBA bejegyzés ID** (’hubaId’): A kliensen nem jelenik meg a grid-en.

    - #91585 **HUBA azonosító** (’hubaAzonosito’)

    - **HUBA verzió** (’version’): A kliensen nem jelenik meg a grid-en.

    - **Kezdés ideje** (’startDate’)

    - **Befejezés ideje** (’endDate’)

    - **Főkód** (’mainCode’)

    - **Szolgálati hely** (’szolgHely’)

    - **Terület** (’terulet’)

    - **HUBA tárgya** (’subject’)

~~•~~ #89383 ~~**HUBA**~~ ~~**betűkód**~~ ~~(’code’)~~ #89383

    - **HUBA felelőse** (’owner’)

    - **HUBA állapota** (’state’)

    - **HUBA jellege** (’category’)

    - **Bejelentő** (’reportingUser’)

    - **Értesítési szint** (’notificationLevel’)

    - **Értesítés kiadva** (’notificationCreated’)

    - **HUBA kora** (’age’): Amennyiben ismert a kezdés időpontja, az eljárás

DD:HH24:MI formátumban adja vissza; egyébként NULL értéket (kliensen üres
marad a mező).

    - #94783 **Utolsó módosítás ideje** (’lastModifyDate’)

      - #96127 **Vasútvállalat** (’vasutvallalat’)

    - **Kapcsoló** (’switch’): A kliensen nem jelenik meg a grid-en.

`o` **Kapcsoló neve** (’switchName’): Lehetséges értékei: (Ezek jelennek meg.)

          - ’Besorolásra váró’

          - ’Aktuális napi’

          - ’Folyamatban lévő’

          - #92180 ’Feladatkosár’

`o` **Kapcsoló állapota** (’switchState’) (true/false)

Amennyiben a szolgáltatás nem ad vissza egy rekordot sem, az alábbi üzenetet jeleníti
meg a rendszer a grid felett középen:

**Ablak ütemezett frissítése**


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 19/48|


Az ütemezett frissítés kezdetekor az alapértelmezettől eltérő beállítások (kapcsolók,
„ **H01_02 – HUBA – Bejegyzések keresése** ” ablakban beállított kereső paraméterek,
oszlopszűrés, sorbarendezés) nem törlődnek.

A kliens az „ **A01 – GVK – Térkép** ” ablak betöltésekor meghívott, „ **S_23 –**
**Rendszerparaméter lekérdezése** ” szolgáltatástól visszakapott Bejegyzés lista
ütemezett frissítése rendszerparaméterben beállított időtartam szerint
(alapértelmezetten 30 másodpercenként) az alábbiak szerint meghívja az „ **S_45 –**
**Bejegyzések felület lekérdezése** ” szolgáltatást:

Amennyiben a „ **H01_02 – HUBA – Bejegyzések keresése** ” ablakban van kereső
paraméter beállítva, a kliens a H01_02 ablakban beállított kereső paramétereket
adja át bemenő paraméterként ( [#89139 ] ld. H01_02 leírásában) a back-end részére.

Amennyiben a „ **H01_02 – HUBA – Bejegyzések keresése** ” ablakban nincs kereső
paraméter beállítva, a kliens az alábbi bemenő paramétereket adja át a
szolgáltatásnak és a visszakapott adatok közül a bekapcsolt kapcsolónak megfelelő
bejegyzéseket jeleníti meg:

#89139

      - **Kezdés ideje:**

( **Kezdés ideje (-tól)** (’startDateFrom’)

`o` Paraméter (dátum és időpont): Kezdés ideje (-ig) – 60 nap.
**Kezdés ideje (-ig)** (’startDateTo’)

`o` Paraméter (dátum és időpont): [#98306] NULL)

      - Minden további bemenő paraméter értéke NULL.

A GVK profil azonosítót a webAPI réteg adja át.

A kliens a szolgáltatástól visszakapott értékek közül az Aktuális napi, kezdési
időponttal, HUBA felelőssel, ill. HUBA jelleggel rendelkező [#92557] és nem
rendelkező [#92557 vége] bejegyzéseket a H01_01 ablakbetöltésnél leírtak szerint
jeleníti meg.

Amennyiben a szolgáltatás nem ad vissza egy rekordot sem, az alábbi üzenetet
jeleníti meg a rendszer a grid/ [#92180] kártyanézet [#92180 vége] felett középen:

#89139 vége

Amennyiben a szolgáltatástól visszakapott HUBA verziószám (’hubaVersion’) nagyobb,
mint a frissítés előtt, a kliens az érintett bejegyzés adatait vastagított betűtípussal
jeleníti meg a grid-en.


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 20/48|


Az ablak betöltésekor és frissítésekor az adatok megjelenítéséig „loading” ikon jelzi a
folyamatban lévő lekérdezést a szürke hátterű nézet felett középen:

**Grid-es nézet és toolbar működése**

A (Keresés) ikonra kattintva a „ **H01_02** **– HUBA – Bejegyzések lekérdezése** ”
ablakban adhatja meg a keresési feltételeket azon GVK profil azonosítójú felhasználó,
akihez **OP_H01_02_BejegyzesekKeres** operandus hozzá van rendelve. Ekkor a
háttérben a grid halványszürke színűre vált.

A grid adatokkal történő frissítése az „ **H01_02** **– HUBA – Bejegyzések lekérdezése** ”
ablakban a < **Keresés**   - nyomógombra történő kattintást követően történik az „ **S_45 –**
**Bejegyzés felület lekérdezése** ” szolgáltatás által visszaadott értékek alapján. A H01_02
ablakban beállított kereső paraméterek felülírják a toolbar-ban beállított kapcsolók
beállításait. A kliens csak azokat az oszlopokat jeleníti meg, amelyeket az **„S_15 -**
**Beállítások lekérdezése** ” szolgáltatás visszatérő értékként visszaadott.

A toolbar-ban található kapcsolók számlálóját a grid-ben a keresési paraméterek
alapján megjelenített adatok nem befolyásolják.

A kliens a (Keresés törlése) ikonra történő kattintáskor kiüríti az „ **H01_02**
**– HUBA – Bejegyzések lekérdezése** ” ablakban beállított paramétereket és visszaállítja
a toolbar-ban a kapcsolókat alapértelmezett állapotba (’Aktuális napi’ kapcsolót
bekapcsolja).

#97253 Amennyiben a „ **H01_02** **– HUBA – Bejegyzések lekérdezése** ” ablakban van
beállítva kereső paraméter és emellett a felhasználó kezeli (bekapcsolja) valamely
kapcsolót a toolbar-ban, a kliens kiüríti az **H01_02** ablakban beállított paramétereket.
#97253 vége

A kliens mind a kereső paraméterek törlésekor, [#97253] mind a **H01_02** ablakban
beállított kereső paraméter melletti valamely kapcsoló visszakapcsolásakor [#97253 vége]
az alábbi bemenő paraméterekkel meghívja az „ **S_45 – Bejegyzés felület lekérdezése** ”
szolgáltatást:

#89139

      - **Kezdés ideje:**

( **Kezdés ideje (-tól)** (’startDateFrom’)

`o` Paraméter (dátum és időpont): Kezdés ideje (-ig) – 60 nap.
**Kezdés ideje (-ig)** (’startDateTo’)

`o` Paraméter (dátum és időpont): rendszeridő; óó:59 másodperc)


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 21/48|



      - Minden további bemenő paraméter értéke NULL.

A GVK profil azonosítót a webAPI réteg adja át.

A kliens a szolgáltatástól visszakapott értékek közül az Aktuális napi, kezdési
időponttal, HUBA felelőssel, ill. HUBA jelleggel rendelkező [#92557] és nem
rendelkező [#92557 vége] bejegyzéseket a H01_01 ablakbetöltésnél leírtak szerint
jeleníti meg a grid-en. [#89139 vége]
Amennyiben a szolgáltatástól visszakapott HUBA verziószám (’hubaVersion’) nagyobb,
mint a frissítés előtt, a kliens az érintett bejegyzés adatait vastagított betűtípussal
jeleníti meg a grid-en.

A (Beállítások) ikonra kattintva a „ **H01_03** **– HUBA – Bejegyzések**
**oszlopmegjelenítése** ” ablakban a griden megjelenítendő oszlopok megjelenítése
állítható be. A nyomógomb csak azon GVK profil azonosítójú felhasználó számára aktív,
megnyomható, akihez az **OP_H01_03_BejegyzesekOszlopokMegjelenitMent**
operandus hozzá van rendelve. Ekkor a háttérben a grid halványszürke színűre vált.

Az (Excel-export) ikonra kattintva a back-end a grid-en az összes lapon
aktuálisan megjelenő adatot kiexportálja Excel fájlba (.xlsx kiterjesztéssel).

Fájlnév: *HUBA bejegyzések_[yyyymmdd].xlsx*

A (Összes szűrő törlése) ikonra kattintva a kliens törli a GVK profil azonosítójú
felhasználó által az oszlopokon alkalmazott beállításokat.

A griden drag&drop módszerrel módosítható a megjelenített oszlopok sorrendje és a

(Mentés) ikonra kattintva menthető el. Az ikonra kattintva a kliens az alábbi
bemenő paraméterekkel meghívja az „ **S_16 –Beállítások mentése”** szolgáltatást:

    - GVK profil azonosító

    - beállítás azonosítója: ’H01_03’

    - beállítás neve: oszlop neve

    - oszlop sorszáma

A (Frissítés) ikonra kattintva manuálisan frissíthetőek a gridben megjelenített

adatok. A kliens a (Frissítés) ikonra történő kattintáskor az alábbi bemenő
paraméterekkel meghívja az „ **S_45 – Bejegyzés felület lekérdezése** ” szolgáltatást:

Amennyiben a „ **H01_02 – HUBA – Bejegyzések keresése** ” ablakban van kereső
paraméter beállítva, a kliens a H01_02 ablakban beállított kereső paramétereket
adja át bemenő paraméterként ( [#89139 ] ld. H01_02 leírásában) a back-end részére.

Amennyiben a „ **H01_02 – HUBA – Bejegyzések keresése** ” ablakban nincs kereső
paraméter beállítva, a kliens az alábbi bemenő paramétereket adja át a
szolgáltatásnak és a visszakapott adatok közül a bekapcsolt kapcsolónak megfelelő
bejegyzéseket jeleníti meg jeleníti meg a grid-en:


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 22/48|


#89139

      - **Kezdés ideje:**

( **Kezdés ideje (-tól)** (’startDateFrom’)

`o` Paraméter (dátum és időpont): Kezdés ideje (-ig) – 60 nap.
**Kezdés ideje (-ig)** (’startDateTo’)

`o` Paraméter (dátum és időpont): rendszeridő; óó:59 másodperc)

      - Minden további bemenő paraméter értéke NULL.

A GVK profil azonosítót a webAPI réteg adja át.

A kliens a szolgáltatástól visszakapott értékek a H01_01 ablakbetöltésnél leírtak
szerint jeleníti meg a grid-en. [#89139 vége]
Amennyiben a szolgáltatástól visszakapott HUBA verziószám (’hubaVersion’) nagyobb,
mint a frissítés előtt, a kliens az érintett bejegyzés adatait vastagított betűtípussal
jeleníti meg a grid-en.

#92180 **Kártyanézet működése**

A (Keresés) ikonra kattintva a „ **H01_02** **– HUBA – Bejegyzések lekérdezése** ”
ablakban adhatja meg a keresési feltételeket azon GVK profil azonosítójú felhasználó,
akihez **OP_H01_02_BejegyzesekKeres** operandus hozzá van rendelve. Ekkor a
háttérben a kártya nézet halványszürke színűre vált.

A nézet adatokkal történő frissítése az „ **H01_02** **– HUBA – Bejegyzések lekérdezése** ”
ablakban a < **Keresés**   - nyomógombra történő kattintást követően történik az „ **S_45 –**
**Bejegyzés felület lekérdezése** ” szolgáltatás által visszaadott értékek alapján. A H01_02
ablakban beállított kereső paraméterek felülírják a toolbar-ban beállított kapcsolók
beállításait. A kliens minden esetben a kártya teljes adattartalmát megjeleníti.

A toolbar-ban található kapcsolók számlálóját a grid-ben a keresési paraméterek
alapján megjelenített adatok nem befolyásolják.

A kliens a (Keresés törlése) ikonra történő kattintáskor kiüríti az „ **H01_02**
**– HUBA – Bejegyzések lekérdezése** ” ablakban beállított paramétereket és visszaállítja
a toolbar-ban a kapcsolókat alapértelmezett állapotba (’Aktuális napi’ kapcsolót
bekapcsolja). A kliens az alábbi bemenő paraméterekkel meghívja az „ **S_45 – Bejegyzés**
**felület lekérdezése** ” szolgáltatást:

      - **Kezdés ideje:**

( **Kezdés ideje (-tól)** (’startDateFrom’)

`o` Paraméter (dátum és időpont): Kezdés ideje (-ig) – 60 nap.
**Kezdés ideje (-ig)** (’startDateTo’)

`o` Paraméter (dátum és időpont): [#98306] NULL)

      - Minden további bemenő paraméter értéke NULL.

A GVK profil azonosítót a webAPI réteg adja át.

A kliens a szolgáltatástól visszakapott értékek közül az Aktuális napi, kezdési
időponttal, HUBA felelőssel, ill. HUBA jelleggel rendelkező [#92557] és nem
rendelkező bejegyzéseket a H01_01 ablakbetöltésnél leírtak szerint jeleníti meg

a nézetben.


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 23/48|


Amennyiben a szolgáltatástól visszakapott HUBA verziószám (’hubaVersion’) nagyobb,
mint a frissítés előtt, a kliens az érintett kártyát eltérő módon jeleníti meg az alábbiak
szerint (vastag piros keret, felkiáltójel a jobb felső sarokban):

A (Beállítások) ikon inaktív, nem kezelhető a kártya nézetben.

Az (Excel-export) ikon inaktív, nem kezelhető a kártya nézetben.

A (Összes szűrő törlése) ikon inaktív, nem kezelhető a kártya nézetben..

A (Mentés) ikon inaktív, nem kezelhető a kártya nézetben.

A (Frissítés) ikonra kattintva manuálisan frissíthetőek a gridben megjelenített

adatok. A kliens a (Frissítés) ikonra történő kattintáskor az alábbi bemenő
paraméterekkel meghívja az „ **S_45 – Bejegyzés felület lekérdezése** ” szolgáltatást:

Amennyiben a „ **H01_02 – HUBA – Bejegyzések keresése** ” ablakban van kereső
paraméter beállítva, a kliens a H01_02 ablakban beállított kereső paramétereket
adja át bemenő paraméterként (ld. H01_02 leírásában) a back-end részére.

Amennyiben a „ **H01_02 – HUBA – Bejegyzések keresése** ” ablakban nincs kereső
paraméter beállítva, a kliens az alábbi bemenő paramétereket adja át a
szolgáltatásnak és a visszakapott adatok közül a bekapcsolt kapcsolónak megfelelő
bejegyzéseket jeleníti meg jeleníti meg a grid-en:

#89139

      - **Kezdés ideje:**

( **Kezdés ideje (-tól)** (’startDateFrom’)

`o` Paraméter (dátum és időpont): Kezdés ideje (-ig) – 60 nap.
**Kezdés ideje (-ig)** (’startDateTo’)

`o` Paraméter (dátum és időpont): rendszeridő; óó:59 másodperc)

      - Minden további bemenő paraméter értéke NULL.

A GVK profil azonosítót a webAPI réteg adja át.

A kliens a szolgáltatástól visszakapott értékeket a H01_01 ablakbetöltésnél
leírtak szerint jeleníti meg a grid-en.
Amennyiben a szolgáltatástól visszakapott HUBA verziószám (’hubaVersion’) nagyobb,
mint a frissítés előtt, a kliens az érintett bejegyzés adatait vastagított betűtípussal
jeleníti meg a grid-en.

**Nyomógombok kezelése**


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 24/48|


#89145 nyomógomb kezelése: Az < **Értesítési beállítások**   nyomógomb kezelésekor új böngésző fülön megnyílik a „ **H06_01 – HUBA – Bejegyzés**
**kezelése** ” ablak az alapértelmezett „ **H06_01A – Értesítésfogadók beállításai** ” lapfüllel.
Egy GVK profillal egyszerre max. egy H06_01 ablak megnyitása engedélyezett. [#89145 ]

#93041 nyomógomb kezelése: Az < **Értesítések**    - nyomógomb
kezelésekor új böngésző fülön megnyílik a „ **H06_06 – HUBA – Értesítések kezelése** ”
ablak az alapértelmezett „ **H06_06A – Értesítések** ” lapfüllel. Egy GVK profillal egyszerre
max. egy H06_06 ablak megnyitása engedélyezett. [#93041 vége]

#93041 Már megnyitott H06_06 ablak esetén az < **Értesítések**   - nyomógomb újbóli
kezelése esetén (újabb H06_06 ablak megnyitása vagy a már megnyitott H06_06 ablak
frissítése nélkül) a rendszer az alábbi popup üzenetet jeleníti meg:

[#] [93041 vége ]

#89126 nyomógomb kezelése: Az < **Új**   - nyomógomb kezelésekor új
böngésző fülön üres mezőértékekkel megnyílik a „ **H04_01 – HUBA – Kód és hely** ” ablak,
alapértelmezetten az „Topográfiai elem” lapfüllel. Egy GVK profillal egyszerre max. egy
H04_01 ablak megnyitása engedélyezett.

[#92180vége ]

#89126

#89132 nyomógomb és [#96921] grid-en/kártyanézetben dupla kattintás [#96921 ]

vége kezelése: A < **Megnyitás**    - nyomógomb #96921 vagy a grid-en egy sorra /
kártyanézetben kártyára dupla kattintás [#96921 vége] kezelésekor új böngésző fülön
megnyílik a „ **H02_01 – HUBA – Bejegyzés kezelése** ” ablak a grid-en kijelölt bejegyzés
egyedi azonosítójához tartozó adatokkal. (A H02_01 ablak a GVK profilú felhasználó
jogosultsága alapján jeleníti meg a bejegyzés adatait az egyes csempéken.) Egy GVK
profillal egyszerre max. egy H02_01 ablak megnyitása engedélyezett.



-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 25/48|


A H02_01 ablak megnyitásakor a grid-en kijelölt bejegyzés visszavált a vastagított
betűtípusról normálra. [#89132 vége ]

**Ablak bezárása**

Az ablak bezárása a böngészőfülön lévő **<X>** nyomógombra kattintással lehetséges.

Az ablak bezárásakor a kliens meghívja az „ **S_27 – Felhasználói aktivitás naplózása** ”
szolgáltatást az alábbi bemenő paraméterekkel:

    - Ablakazonosító (’WINDOW_ID’): ’H01_01’

    - Esemény (’ACTIVITY’): ’WindowClose’

    - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója

    - GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója

    - Esemény kiegészítő információk (’ACTIVITY_EXT’): ’View’

    - Bejegyzés azonosító (’MAIN_ID’): NULL

    - Bejegyzés sub azonosító (’SUB_ID’): NULL

    - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): NULL


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 26/48|

### **2.2.4. Az ablak szerkezeti leírása ** **Beviteli/megjelenítő mezők, kiválasztó lista (combo box), kapcsoló, rádiógomb **











|Felirat|Megnevezés|Súgó (Tooltip) szöveg|Kontrol típusa|Hossz|Maszk|Alapértelmezett érték|Törzstábla/ kódtábla|
|---|---|---|---|---|---|---|---|
|Fejléc||||||||
||Állapotjelző|-|progress_in dicator|||||
||GVK profil megnevezés|GVK felhasználó||||||
|Toolbar - Kapcsolók||||||||
||Besorolásra váró bejegyzések|#99401 Új állapotú bejegyzések|two-state- button + badge|||kikapcsolt||
||Aktuális napi bejegyzések|#99401 Minősített és 24 órán belül befejezett állapotú bejegyzések|two-state- button + badge|||bekapcsolt||
||Folyamatban lévő bejegyzések|#99401 1 órán belüli befejezési idejű Új és Minősített állapotú bejegyzések|two-state- button + badge|||kikapcsolt||
|#92180|Feladatkosár|#99401 Feladatkosárba helyezett bejegyzések|two-state- button + badge|||kikapcsolt||
|#96127|Kifogásolt bejegyzések|#99401 Vasútvállalat által kifogásolt bejegyzések||||||
|, #92180|Nézetváltás|-|custom button|||kártyanézetre váltás (grid nézet megjelenése mellett)||
|Grid-es nézet||||||||
||(szűrés: Tartalmaz)|Oszlopszűrés||||||
||(szűrés: combobox)||combobox|||||
||(rendezés)|Sorbarendezés||||||
||Horizontális scrollbar|-|scrollbar|||-||


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 27/48|





|Felirat|Megnevezés|Súgó (Tooltip) szöveg|Kontrol típusa|Hossz|Maszk|Alapértelmezett érték|Törzstábla/ kódtábla|
|---|---|---|---|---|---|---|---|
||Oldallapozó|-|pagination|10/25/ 50||#91585 100||

### **Listadoboz oszlopai az alapértelmezett sorrendben **

|Felirat|Megnevezés|Súgó (Tooltip) szöveg|Hossz|Maszk/Típus|Alapértelmezett érték|Törzstábla/ kódtábla|
|---|---|---|---|---|---|---|
|HUBA azonosító|HUBA azonosító|HUBA azonosító|AN10||-||
|Kezdés ideje|Kezdés ideje|Kezdés ideje|DATE|YYYY.MM.DD HH24:MI|-||
|Befejezés ideje|Befejezés ideje|Befejezés ideje|DATE|YYYY.MM.DD HH24:MI|-||
|Főkód|Főkód|Főkód|AN3||-|GVK.K_KESES FOKOD|
|Szolgálati hely|Szolgálati hely|Szolgálati hely|AN200||-||
|Terület|Terület|Terület|AN50||-||
|Leírás|Leírás|Leírás|AN100||-||
|#89383 HUBA betűkód|HUBA betűkód|HUBA betűkód|AN50 #89383||-||
|HUBA felelőse|HUBA felelőse|HUBA felelőse|AN50||-|HUBA.K_SZA KAG|
|HUBA állapota|HUBA állapota|HUBA állapota|AN20||-|HUBA.K_BEJ EGYZES_ALL APOT|
|Utolsó állapotváltozás ideje|Utolsó állapotváltozás ideje|Utolsó állapotváltozás ideje|DATE|YYYY.MM.DD HH24:MI|-||
|HUBA jellege|HUBA jellege|HUBA jellege|AN20||-|HUBA.K_KAT EGORIA|
|Bejelentő|Bejelentő|Bejelentő|AN50||-||
|Értesítési szint|Értesítési szint|Értesítési szint|AN20||-|HUBA.K_ERT ESITES_SZINT|
|Értesítés kiadva|Értesítés kiadva|Értesítés kiadva|boolea n|Y/N|-||
|HUBA kora|HUBA kora|HUBA kora|DATE|DD:HH24:MI|-||


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 28/48|


**Nyomógombok, funkcionális ikonok**

















|Felirat|Megnevezés|Súgó (Tooltip) szöveg|Alapértelmezés [megnyomható/ nem nyomható meg]|Ikon neve (Material/ DHTMLX/ Awesome)|
|---|---|---|---|---|
||Keresés|Bejegyzés keresése|Megnyomható|search|
||Keresés törlése|Bejegyzés keresési feltételek törlése|Megnyomható|search_off|
||Beállítás|Bejegyzés beállítások|Megnyomható|settings|
||Excel-export|Adatok letöltése Excel-be|Megnyomható|dxi dxi-file-excel|
||Összes szűrő törlése|Bejegyzés oszlop szűrés törlése|Megnyomható|filter-clear|
||Oszlopsorrend mentése|Bejegyzés oszlopsorrend mentése|Megnyomható|dxi dxi-content- save|
||Frissítés|Bejegyzés adatok frissítése|Megnyomható|refresh|
||Váltás kártyanézetre|Váltás kártyanézetre|Megnyomható|mdi mdi-card- multiple-outline|
||Váltás grid nézetre|Váltás grid nézetre|Megnyomható|mdi mdi-table- large|
|#89145|Értesítési beállítások|-|Megnyomható|-|
|#93041|Értesítések|-|Nem nyomható meg|-|
|#89126|Új felvitel|-|Megnyomható|-|
|#89132|Megnyitás|-|Nem nyomható meg|-|


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 29/48|


**2.2.5.** **Hívott szolgáltatások**







|Funkciógomb/link/vezérlőelem esemény|Hívott ablak|Hívott szolgáltatás rövid megnevezése (azonosító)|
|---|---|---|
|Ablakbetöltés|-|S_27 – Felhasználói aktivitás naplózása|
|Ablakbetöltés|-|S_45 – Bejegyzések felület lekérdezése|
|Ablakbetöltés|-|S_15 – Beállítások lekérdezése|
|Ütemezett frissítés (30 sec)|-|S_45 – Bejegyzések felület lekérdezése|
||H01_02 – HUBA – Bejegyzések lekérdezése|-|
||-|S_45 – Bejegyzések felület lekérdezése|
||H01_03 – HUBA – Bejegyzések oszlopmegjelenítése|-|
||-|S_45 – Bejegyzések felület lekérdezése|
||-|S_16 – Beállítások mentése|
|#89126|H04_01 – HUBA – Kód és hely|-|
|#89132|H02_01 – HUBA – Bejegyzés kezelése|-|
|#89145|H06_01 – HUBA – Értesítési beállítások|-|
|#93041|H06_06 – HUBA – Értesítések kezelése|-|
|Ablakbezárás|-|S_27 – Felhasználói aktivitás naplózása|


**2.2.6.** **Rendszerüzenetek**






|Ellenőrzések leírása (HA)|Rendszerüzenet (AKKOR)|Rendszerüzenet típusa|
|---|---|---|
|Amennyiben az S_45 szolgáltatás nem ad vissza egy rekordot sem|„A felhasználónak nincs joga minden adathoz vagy nincs a megadott keresési paramétereknek megfelelő bejegyzés.”|Információs|
|#92180 Amennyiben az <Új> nyomógombot ismételten kezeli a felhasználó már megnyitott H04_01 ablak mellett|„Van már megnyitott H04_01 – HUBA – Kód és hely ablak. Kérjük kezelje először a megnyitott ablakot.”|Figyelmeztető|
|#93041 Amennyiben az <Értesítések> nyomógombot ismételten kezeli a felhasználó már megnyitott H06_06 ablak mellett|„Van már megnyitott H06_06 – HUBA – Értesítések ablak. Kérjük kezelje először a megnyitott ablakot.”|Figyelmeztető|
||||


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 30/48|


**2.2.7.** **Kódtáblák, választási listák**

Nincs.

**2.2.8.** **Rendszerparaméterek**

Nincs.


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 31/48|


**2.3.1.** **Ablak/lap feladatai**

A „ **H01_01 – HUBA - Bejegyzések** ” felületen megjelenő bejegyzések szűrési/keresési
paramétereinek megadására szolgál.

**2.3.2.** **Ablak/lap megjelenése**



-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 32/48|


**2.3.3.** **Ablak/lap működése**

Az ablak a „ **H01_01** **– HUBA - Bejegyzések** ” felületen (Keresés) nyomógomb

kezelését követően nyílik meg. A (Keresés) nyomógomb csak azon GVK profil
azonosítójú felhasználó számára aktív, megnyomható, akihez az
**OP_H01_02_BejegyzesekKeres** operandus hozzá van rendelve.


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 33/48|


**Az ablak felépítése**

Az ablak a képernyő bal oldalán jelenik meg egy fix szélességű függőleges panelként.

Az ablak tartalmazza:

    - Az ablak azonosítóját, valamint megnevezését egy fehér hátterű sávban:

**H01_02 – HUBA – Bejegyzések lekérdezése**

    - Ez alatt találhatók a bejegyzések táblázatos megjelenítésének szűrésére

szolgáló kereső mezők:

`o` a kereső paraméter neve,
`o` a kereső paraméter neve alatt a kereső mező halványszürke

háttérszínnel,
`o` a kereső mezővel egy sorban tőle jobbra a megadott kereső értékek

törlésére szolgáló ikon ( ),
`o` valamint a kereső érték(ek) törlésére szolgáló ikon mellett tőle jobbra a

kereső paraméterek közötti logikai kapcsolat ( ) beállítására
szolgáló kapcsoló (kivéve kötelező kereső paraméternél).

A kereső mezőbe kattintáskor a mező kék színű kerettel jelenik meg. A
minimálisan megadandó keresési feltételek alapján az üres értékkel rendelkező
(invalid) kereső mező piros színű kerettel jelenik meg.

    - A panel alsó részén találhatók a funkció gombok: az elsődleges **<Keresés>**,

mellette a másodlagos **<Alaphelyzet>** és tőle jobbra a másodlagos **<Bezárás>**
nyomógomb. A gombok mindig láthatók és kezelhetők a panel alsó részén.

**Ablakbetöltés**

Az ablak betöltésekor a kliens meghívja az „ **S_27 – Felhasználói aktivitás naplózása** ”
szolgáltatást az alábbi bemenő paraméterekkel:

    - Ablakazonosító (’WINDOW_ID’): ’H01_02’

    - Esemény (’ACTIVITY’): ’WindowOpen’

    - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója

    - GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója

    - Esemény kiegészítő információk (’ACTIVITY_EXT’): ’View’

    - Bejegyzés azonosító (’MAIN_ID’): NULL

    - Bejegyzés sub azonosító (’SUB_ID’): NULL

    - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): NULL

Az ablak első és minden további újbóli betöltésekor a kliens minden kereső
paraméterre vonatkozóan (kivétel dátum -tól és –ig mezők) meghívja az „ **S_08 -**
**Lekérdezési paraméterek értékkészletének lekérdezése** ” szolgáltatást, bemenő
paraméterként átadva neki az adatelem azonosítóját (AutosuggestId). Az S_08 hívások

során átadott értékek:

    - **Főkód** (’KesesFokod’): A kliensen a lenyíló listában a szolgáltatástól visszakapott

szöveg (’text’) lehetséges értékei jelennek meg. A lenyíló listában a töredékre

keresés az 1. karakter beírása után történik.

    - **Hierarchia szűrés**


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 34/48|


`o` **Terület** (’Terulet_A19’): A kliensen a lenyíló listában töredékre keresés

az 1. karakter beírása után történik.

`o` **Szolgálati hely** (’SzolgalatiHely_H01_02’): Alapértelmezetten nem

kezelhető. Minimum egy kiválasztott terület esetén válik kezelhetővé. A
kliensen a lenyíló listában a Terület mezőben kiválasztott terület(ek)
kódjához tartozó MÁV-os szolgálati helyek jelennek meg a
szolgáltatástól visszakapott kód (’code’) alapján.

    - **HÜSZ-vonalszám** ( [#101217] ’HuszVonal_H04_01’): A kliensen a lenyíló listában a

#100127 szolgáltatástól visszakapott ’value’ értéke #100127 vége jelenik meg. A

töredékre keresés az 1. karakter beírása után történik.

    - **HUBA-azonosító** (’HubaId’): A kliensen a lenyíló listában a szolgáltatástól

visszakapott értékek növekvő sorrendben jelennek meg. A lenyíló listában a

töredékre keresés az 1. karakter beírása után történik.

    - **HUBA állapota** (’HubaAllapot’): A kliensen a lenyíló listában töredékre keresés

az 1. karakter beírása után történik.

    - **Értesítési szint** (’HierarchiaSzint’): A kliensen a lenyíló listában a szolgáltatástól

visszakapott értékek közül csak a ’H’ és ’T’ kódú értékek szövege jelenik meg. A
lenyíló listában töredékre keresés az 1. karakter beírása után történik.

    - **Értesített felhasználó** (’ErtesitettFelhasznaloNev’): A kliensen a lenyíló listában

töredékre keresés az 1. karakter beírása után történik.

A kliens az „ **S_08 - Lekérdezési paraméterek értékkészletének lekérdezése** ”
szolgáltatás hívások során visszakapott listaszerű adatokkal feltölti az autocomplete
(kiválasztási) funkcióval rendelkező szöveges beviteli mezők értékkészletét. A listákban
az S_08 szolgáltatás által visszaadott ’text’ paraméter értékei jelennek meg.

**Kereső paraméterek megadása**

A felületen kereső paraméterenként kerül meghatározásra a keresést vezérlő elem.

    - **Autocomplete beviteli mező** : A mezőbe kattintáskor még nem jelenik meg a

lista, csak a paramétereknél megadott karakter beírása után vagy a lefelé nyíl
gomb kezelésekor. A beírt szövegtöredék alapján a rendszer folyamatosan
frissíti a lista tartalmát, melyben csak a megadott szövegtöredéket tartalmazó
értékek jelennek meg. A legördülő listából kiválasztva egy sort (egér kattintással
vagy az ENTER gomb megnyomásával) a mezőben chips-ként felvételre kerül a
kiválasztott érték, valamint a beírt szűrő értéket törli a rendszer, továbbá a lista
eltűnik. A listában nem szereplő, invalid (érvénytelen) értéket a kliens
automatikusan eltávolítja a mező elhagyásakor.

    - **Chips(ek):** Az autocomplete beviteli mezőbe kerülnek felvételre és a felvett

kereső paraméterek jelölésére szolgálnak. A bejegyzések szűrése mindig a
chips-ben felvett értékek alapján történik. Nincs maximuma meghatározva. A
chips jobb szélén található ’X’ segítségével a felvett kereső paraméter (chips)

törölhető.

    - **Szöveges beviteli mező:** A beírt szövegtöredéket tartalmazó bejegyzések

jelennek meg a listában.


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 35/48|



    - **Dátumválasztás** : A mezőben a ikonra kattintva

választható ki egy nap. Az aktuális nap háttérszíne halvány rózsaszín.

    - **Időpont-választás** : A mező kitöltött dátum mező esetén kezelhető
(külön a dátum kezdete és dátum vége mezőkkel párban). Az időpont

megadható manuálisan vagy az ikonra kattintva megnyíló pop-up ablakban
az órát és percet jelképező csúszka mozgatásával, mely az ablakban történő
mellékattintáskor bezáródik, a kiválasztott időpont megjelenik a mezőben.

    - **Kiválasztott kereső értékek törlése:** A gomb segítségével az eddig felvett
kereső értékek (chips-ek) törölhetők.

    - **Kereső paraméterek közötti logikai kapcsolat beállítása:** Az
kapcsológomb (switch) alapértelmezetten kikapcsolt állapotú, melynek
jelentése: ’ÉS’ logikai kapcsolat van érvényben. A kapcsológombra való
kattintáskor annak állapota az éppen aktuálisról az ellenkezőjére vált:
kikapcsolt állapotról bekapcsoltra és fordítva. Csoportos kereső paraméter
esetén a kapcsológomb állapota a teljes paraméter csoportra értendő,
egyébként kereső paraméterenként.

Amennyiben az ablakon egy kereső paraméter (chips) sincs felvéve, akkor a keresés a
toolbar-ban található kapcsolók beállítása alapján történik.

A beállított (már keresés történt rájuk) kereső paramétereket a rendszer a
munkamenet idejére megőrzi, tehát az ablak (panel) bezárása, majd az „ **H01_01 -**
**HUBA - Bejegyzések** ” ablakról való újra megnyitása után is megmaradnak a korábban
rögzített kereső paraméterek.

**Minimális kereső paraméterek:**

A Kezdés ideje (-tól-ig) keresőparaméter kötelezően kitöltendő a < **Keresés**   nyomógombra kattintás előtt.

**Nyomógombok kezelése**

nyomógomb kezelése: A **<Keresés>** nyomógomb mindig kezelhető,
kezelésekor a rendszer meghívja az „ **S_45 – Bejegyzések felület lekérdezése** ”
szolgáltatást az alábbi bemenő paraméterekkel:

    - **Kezdés ideje:**

( **Kezdés ideje (-tól)** (’startDateFrom’)

`o` Paraméter (dátum és időpont): Alapértelmezetten az ablak
megnyitásakor a Kezdés ideje (-ig) – 60 nap, amely a Kezdés ideje (-ig)
módosításakor frissül, de manuálisan módosítható. Kötelező mező.
**Kezdés ideje (-ig)** (’startDateTo’)


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 36/48|


`o` Paraméter (dátum és időpont): Alapértelmezetten az ablak
megnyitásakor a rendszeridő jelenik meg, mely manuálisan
módosítható. Az időpontot a kliens :59 másodperccel adja át a
szolgáltatásnak. Kötelező mező.)

    - **Főkód** (’fokod’)

`o` Paraméter (aaa; bbb; …)

    - **Hierarchia szűrés** :

( **Terület** (’terulet’)

`o` Paraméter (aaa; bbb; …)
**Szolgálati hely** (’szolgalatiHely’)

`o` Paraméter (aaa; bbb; …))

    - **HÜSZ-vonalszám** (’huszVonalszam’): [#101217] Az S_08 szolgáltatástól visszakapott

’HuszVonal_H04_01’ paraméter ’value’ értéke. [#101217 vége]

`o` Paraméter (aaa; bbb; …)

    - **Leírás** (’leiras’)

    - **HUBA-azonosító** (’hubaId’)

`o` Paraméter (aaa; bbb; …)

    - **HUBA állapota** (’hubaAllapot’)

`o` Paraméter (aaa; bbb; …)

    - #91585 **Vonatazonosító**

`o` **Vonatszám** (’vonatszam’): Kitöltött Közlekedési dátum paraméter

esetén kötelező.

          - Paraméter (aaa)
`o` **Közlekedési** **dátum** (’vonatszam_datum’): Kitöltött Vonatszám
paraméter esetén kötelező. Formátuma: ’YYYY.MM.DD.’

          - Paraméter (dátum) [#91585 vége]

    - **Értesítési szint** (’hierarchiaSzint’)

`o` Paraméter (aaa; bbb; …)

    - **Értesített felhasználó** (’ertesitettFelhasznaloNev’)

`o` Paraméter (aaa; bbb; …)

    - **Paraméterek közötti logikai VAGY kapcsolat** (’orFilter’): tömb formában, ahol

az ÉS/VAGY logikai kapcsoló bekapcsolt állapotú

`o` Paraméter(ek) (parameterName 1: true, …, parameterName n: true)
A kereső paraméterek közötti logikai kapcsolat alapértelmezetten ’ÉS’. A ’VAGY’ logikai
kapcsolóval átadott bemenő paraméterek alapján történő szűrés a lekérdezés végén
szerepel csoportosan. Példa:

    - Kezdés ideje: 2024.06.01 00:00 – 2024.06.15 23:59 (ÉS)

    - Főkód: 20 (ÉS)

    - Terület: Budapest (VAGY)

    - Vonatazonosító: 240/2024.06.16 (VAGY)

    - Eredmény: Azok a bejegyzések, amelyek kezdete 2024.06.01-06.15. közötti és

a főkódjuk ’20’, és ezen bejegyzések között amelyeknek a területe Budapest
vagy a vonatazonosítója 240/2024.06.16.

A **<Keresés>** nyomógomb kezelésekor a kliens meghívja az „ **S_27 – Felhasználói**
**aktivitás naplózása** ” szolgáltatást is az alábbi bemenő paraméterekkel:

    - Ablakazonosító (’WINDOW_ID’): ’H01_02’


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 37/48|



    - Esemény (’ACTIVITY’): ’Search’

    - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója

    - GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója

    - Esemény kiegészítő információk (’ACTIVITY_EXT’): keresett azonosítók JSON

formában

    - Bejegyzés azonosító (’MAIN_ID’): NULL

    - Bejegyzés sub azonosító (’SUB_ID’): NULL

    - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): NULL

A kliens a szolgáltatás által visszaadott adatok alapján frissíti az „ **H01_01 - HUBA –**
**Bejegyzések** ” ablakban megjelenített bejegyzés adatokat és egyúttal kikapcsoltra állítja
a bekapcsolt kapcsolót (’Bejelentésre váró’/’Aktuális napi’/’Folyamatban lévő’).
Keresés után a rendszer automatikusan bezárja a H01_02 ablakot.

A kliens az alábbi hibaüzeneteket jeleníti meg pop-up ablakban a megnyitott ablak
felett a < **Keresés**   - nyomógomb kezelésekor:

    - Amennyiben egyik minimálisan megadandó kereső paraméter sincs kitöltve

vagy [#91585] a vonatszám és közlekedési dátum valamelyike ki van töltve, de a
másik nincs [#91585 vége], az alábbi üzenetet jelenik meg:

    - Amennyiben nincs a keresési paramétereknek megfelelő bejegyzés rekord vagy

a GVK profilú felhasználónak nincs jogosultsága, az alábbi üzenet jelenik meg:



-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 38/48|



    - Amennyiben a lekérdezés túllépi a megengedett időt (5 perc), akkor az alábbi

üzenet jelenik meg:

Az üzenetek az < **OK**   - vagy < **X**   - nyomógomb kezelésével zárhatók be, a H01_02 ablak a
beállított kereső paraméterekkel nyitva marad.

nyomógomb kezelése: Az **<Alaphelyzet>** nyomógomb mindig
kezelhető, kezelésekor a rendszer kiüríti a keresőmezőket, a logika kapcsolatot
visszaállítja az alapértelmezett ’ÉS’ kapcsolatra (kikapcsolt logikai kapcsológomb). Az
**<Alaphelyzet>** gomb hatására nem történik szolgáltatás hívás. Az ablak nyitva marad.

nyomógomb kezelése: A **<Bezárás>** nyomógomb mindig kezelhető,
kezelésekor a rendszer bezárja az ablakot, de a munkamenet befejezéséig
megmaradnak a bezárás előtt felvett kereső paraméterek és a logikai kapcsolat

beállítás is.

**Ablak bezárása**

Az ablak bezárása a **<Bezárás>** nyomógombra kattintással vagy mellékattintással
lehetséges.

Az ablak bezárásakor a kliens meghívja az „ **S_27 – Felhasználói aktivitás naplózása** ”
szolgáltatást az alábbi bemenő paraméterekkel:

    - Ablakazonosító (’WINDOW_ID’): ’H01_02’

    - Esemény (’ACTIVITY’): ’WindowClose’

    - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója

    - GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója

    - Esemény kiegészítő információk (’ACTIVITY_EXT’): ’View’

    - Bejegyzés azonosító (’MAIN_ID’): NULL

    - Bejegyzés sub azonosító (’SUB_ID’): NULL

    - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): NULL


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 39/48|

### **2.3.4. Az ablak szerkezeti leírása ** **Beviteli/megjelenítő mezők, kiválasztó lista (combo box), kapcsoló, rádiógomb **













|Felirat|Megnevezés|Súgó (Tooltip) szöveg|Kontrol típusa|Hossz|Maszk|Alapértelmezett érték|Törzstábla/kódtábla|
|---|---|---|---|---|---|---|---|
|Kezdés ideje (-tól-ig)||||||||
||Kezdés ideje (-tól)|-|calendar és timepicker|DATE AND TIME|YYYY.MM.DD HH24:MI|rendszer időpont – 60 nap||
||Kezdés ideje (-ig)|-|calendar és timepicker|DATE AND TIME|YYYY.MM.DD HH24:MI|rendszer időpont||
||(keresés törlése)|-|icon|||||
||(kapcsológomb)|-|switch|||ÉS (kikapcsolt)||
|Főkód||||||||
||Főkód|-|combobox + chips||||GVK.K_KESESFOKOD|
||(keresés törlése)|-|icon|||||
||(kapcsológomb)|-|switch|||ÉS (kikapcsolt)||
|Hierarchia szűrés||||||||
|Terület||||||||
||Terület|-|combobox + chips||||GVK.K_TERULET|
||(keresés törlése)|-|icon|||||
||(kapcsológomb)|-|switch|||ÉS (kikapcsolt)||
|Szolgálati hely||||||||
||Szolgálati hely|-|combobox + chips||||GVK_GIS.RAILWAY_ OBJECTS_ALLOMASO K_V|
||(keresés törlése)|-|icon|||||
||(kapcsológomb)|-|switch|||ÉS (kikapcsolt)||
|HÜSZ-vonalszám||||||||
||HÜSZ-vonalszám|-|combobox + chips||||GVK_GIS.LINES|
||(keresés törlése)|-|icon|||||
||(kapcsológomb)|-|switch|||ÉS (kikapcsolt)||
|Leírás||||||||
||Leírás|-|szöveges input mező|AN100|||-|
||(keresés törlése)|-|icon|||||

#### (kapcsológomb) - switch ÉS (kikapcsolt)


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 40/48|





|Felirat|Megnevezés|Súgó (Tooltip) szöveg|Kontrol típusa|Hossz|Maszk|Alapértelmezett érték|Törzstábla/kódtábla|
|---|---|---|---|---|---|---|---|
||HUBA állapota|-|combobox + chips||||HUBA.K_BEJEGYZES_ ALLAPOT|
||(keresés törlése)|-|icon|||||
||(kapcsológomb)|-|switch|||ÉS (kikapcsolt)||
|#91585 Vonatazonosító||||||||
||Vonatazonosító|-|label||||-|
||Vonatszám|-|szöveges input mező|AN50||||
||(keresés törlése)|-|icon|||||
||Közlekedési dátum|-|calendar – napválasztó||YYYY.MM.DD|||
||(keresés törlése)|-|icon|||||
||(kapcsológomb)|-|switch|||ÉS (kikapcsolt)||
|#91585 Vasútvállalat||||||||
||Vasútvállalat|-|combobox + chips||||GVK.VASUTVALLALA T|
||(keresés törlése)|-|icon|||||
||(kapcsológomb)|-|switch|||ÉS (kikapcsolt)||
|Értesítési szint||||||||
||Értesítési szint|-|combobox + chips||||GVK.K_HIERARCHIA|
||(keresés törlése)|-|icon|||||
||(kapcsológomb)|-|switch|||ÉS (kikapcsolt)||
|Értesített felhasználó||||||||
||Értesített felhasználó|-|combobox + chips||||-|
||(keresés törlése)|-|icon|||||
||(kapcsológomb)|-|switch|||ÉS (kikapcsolt)||
|#91585 Értesítési szerepkör||||||||
||Értesítési szerepkör|-|combobox + chips||||HUBA.K_ERTESITESI_ SZEREPKOR|
||(keresés törlése)|-|icon|||||
||(kapcsológomb)|-|switch|||ÉS (kikapcsolt)||


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 41/48|





|Nyomógombok|Col2|Col3|Col4|Col5|
|---|---|---|---|---|
|Felirat|Megnevezés|Súgó (Tooltip) szöveg|Alapértelmezés [megnyomható/nem nyomható meg]|Material ikon neve|
||Törlés|-|megnyomható|search off|
||Logikai kapcsoló|-|megnyomható||
||Keresés|-|megnyomható||
||Alaphelyzet|-|megnyomható||
||Bezárás|-|megnyomható||


**2.3.5.** **Hívott szolgáltatások**







|Funkciógomb/link/vezérlőelem esemény|Hívott ablak|Hívott szolgáltatás rövid megnevezése (azonosító)|
|---|---|---|
|Ablakbetöltés|-|S_27 – Felhasználói aktivitás naplózása|
|Ablakbetöltés|-|S_08 - Lekérdezési paraméterek értékkészletének lekérdezése|
||-|S_45 – Bejegyzések felület lekérdezése|
|||S_27 – Felhasználói aktivitás naplózása|
|||S_27 – Felhasználói aktivitás naplózása|
|Ablakbezárás||S_27 – Felhasználói aktivitás naplózása|


**2.3.6.** **Rendszerüzenetek**







|Ellenőrzések leírása (HA)|Rendszerüzenet (AKKOR)|Rendszerüzenet típusa|
|---|---|---|
|A GVK profil azonosítójú felhasználónak nincs joga minden adathoz vagy nincs a megadott keresési paramétereknek megfelelő vontató jármű.|„A felhasználónak nincs joga minden adathoz vagy nincs a megadott keresési paramétereknek megfelelő vontató jármű.”|Információs|
|’Kezdés ideje (-tól)’ üres VAGY ’Kezdés ideje (-ig)’ üres|„Nincs minden kötelező mező kitöltve”|Hiba|
|#91585 ’Kezdés ideje (-tól)’ nem üres ÉS ’Kezdés ideje (- ig)’ nem üres ÉS ’Vonatszám nem üres ÉS Közlekedési dátum üres|„Nincs minden kötelező mező kitöltve”|Hiba|
|#91585 ’Kezdés ideje (-tól)’ nem üres ÉS ’Kezdés ideje (- ig)’ nem üres ÉS ’Vonatszám|„Nincs minden kötelező mező kitöltve”|Hiba|


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 42/48|





|üres ÉS Közlekedési dátum nem üres|Col2|Col3|
|---|---|---|
|’Kezdés ideje (-ig)’ dátum + időpont < ’Kezdés ideje (-tól) dátum + időpont|„Az időszak vége az időszak kezdetével megegyező vagy ettől későbbi időpont lehet.”|Hiba|
|TimeOut exception|„A lekérdezés túllépte a megengedett időt. Kérjük próbálja újra!”|Információs|


**2.3.7.** **Kódtáblák, választási listák**

Nincs.

**2.3.8.** **Rendszerparaméterek**

Nincs.


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 43/48|

##### 2.4. H01_03 – HUBA – Bejegyzések oszlopmegjelenítése [#89142]

**2.4.1.** **Ablak/lap feladatai**

Az ablak feladata a „ **H01_01** **– HUBA - Bejegyzések** ” ablakban a grid-en megjelenített
mezők beállításainak megadására (ki-/bekapcsolására) és mentésére szolgál.

**2.4.2.** **Ablak/lap megjelenése**


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 44/48|


**2.4.3.** **Ablak/lap működése**

Az ablak megnyitása az „ **H01_01** **- HUBA - Bejegyzések** ” ablak toolbar-ban található

( **Beállítások** ) nyomógomb megnyomását követően történik. A
( **Beállítások** ) nyomógomb csak azon GVK profil azonosítójú felhasználó számára jelenik
meg, megnyomható, akihez az **OP_H01_03_** **B** **ejegyzesekOszlopokMegjelenitMent**
operandus hozzá van rendelve.

**Az ablak felépítése**

Az ablak a képernyő bal oldalán jelenik meg egy fix szélességű függőleges panelként.

Az ablak tartalmazza:

     - Az ablak címét: **H01_03 - HUBA – Bejegyzések oszlopmegjelenítése**


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 45/48|



    - Ez alatt található a grid oszlopainak nevét és a nevek mellett jobbra - velük egy

vonalban – az oszlopok megjelenítésére szolgáló kapcsológombokat tartalmazó

szekció.

    - A panel legalsó részén jobbra igazítva található a kék hátterű < **Alkalmazás**    
gomb, melyre kattintáskor az ablakot bezárja a rendszer.

    - A panel legalsó részén az < **Alkalmazás**    - nyomógombtól jobbra található a fehér

hátterű < **Alaphelyzet**      - gomb, melyre kattintáskor minden oszlopnevet
bekapcsol a rendszer.

**Ablakbetöltés**

Az ablak betöltésekor a kliens meghívja az „ **S_27 – Felhasználói aktivitás naplózása** ”
szolgáltatást az alábbi bemenő paraméterekkel:

    - Ablakazonosító (’WINDOW_ID’): ’H01_03’

    - Esemény (’ACTIVITY’): ’WindowOpen’

    - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója

    - GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója

    - Esemény kiegészítő információk (’ACTIVITY_EXT’): ’Modify’

    - Bejegyzés azonosító (’MAIN_ID’): NULL

    - Bejegyzés sub azonosító (’SUB_ID’): NULL

    - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): NULL

Az ablak betöltésekor a kliens az alábbi bemenő paraméterekkel meghívja az **„S_15 -**
**Beállítások lekérdezése** ” szolgáltatást:

    - Beállítás azonosító (’azonosito’): ’H01_03’

A GVK profil azonosítót a webAPI réteg adja át.

A kliens az alábbi, szolgáltatástól visszakapott értékek alapján megjeleníti az
oszlopokat:

    - Beállítás neve (’SETTING_NAME’): az oszlop neve

    - Megjelenítési jelző (’DISPLAY_FLAG’): 0 - nem jelenik meg az oszlop, 1 
megjelenik az oszlop

    - Sorszám (’SERIAL_NUMBER’): az oszlop sorszáma a griden

Ha nincs ilyen eltárolt adat (S_15 szolgáltatás nem ad vissza adatot), akkor
alapértelmezetten minden oszlop bekapcsoltnak tekintendő.

Az ablak megnyitásakor az ’Aktuális napi’ kapcsoló bekapcsolt állapotú.

**Switch (kapcsológomb) működése**

    - A switch-re (kapcsológombra) való kattintáskor annak állapota az éppen

aktuálisról az ellenkezőjére vált: bekapcsolt állapotról kikapcsoltra és fordítva.

    - A kapcsológombok alapértelmezett állapotba állítása (összes kapcsológomb

bekapcsolása egyszerre az < **Alaphelyzet**      - nyomógombra kattintással
lehetséges.

    - A kapcsológombok változása esetén a változás az < **Alkalmazás**    - nyomógombra

kattintáskor kerül mentésre. A kliens az < **Alkalmazás**       - nyomógomb kezelésekor


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 46/48|


meghívja az „ **S_16 - Beállítások mentése** ” szolgáltatást, melynek az alábbi
bemenő paramétereket adja át:

`o` Beállítás azonosítója (’code’): ’H01_03’
`o` Beállítások (’settings’):

          - Beállítás neve (’name’): mezőnév

          - Megjelenítési jelző (’display’): 0 - kikapcsolt vagy 1 - bekapcsolt.
A GVK profil azonosítót a webAPI réteg adja át.

A szolgáltatás elmenti a kapott paraméterek alapján a GVK profil azonosítójú
felhasználóhoz tartozó oszlopbeállításokat.

Valamely kapcsoló állapotának módosítása esetén a kliens meghívja az „ **S_27 –**
**Felhasználói aktivitás naplózása** ” szolgáltatást az alábbi bemenő paraméterekkel:

    - Ablakazonosító (’WINDOW_ID’): ’H01_03’

    - Esemény (’ACTIVITY’): [#92722] ’Modify’ [#92722 vége]

    - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója

    - GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója

    - Esemény kiegészítő információk (’ACTIVITY_EXT’): [#92722 ] módosítás adatok (mit

mire módosított a felhasználó) JSON formában [#92722 vége]

    - Bejegyzés azonosító (’MAIN_ID’): NULL

    - Bejegyzés sub azonosító (’SUB_ID’): NULL

    - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): NULL

**Ablakbezárás**

Az **<Alkalmazás>** gomb kezelésekor, ill. mellékattintáskor a rendszer bezárja az
ablakot. Az ablak bezárásakor a kliens meghívja az „ **S_27 – Felhasználói aktivitás**
**naplózása** ” szolgáltatást az alábbi bemenő paraméterekkel:

    - Ablakazonosító (’WINDOW_ID’): ’H01_03’

    - Esemény (’ACTIVITY’): ’WindowClose’

    - AD felhasználó (’AD_USER’): bejelentkezett felhasználó AD azonosítója

    - GVK felhasználó (’GVK_USER’): GVK felhasználói profil azonosítója

    - Esemény kiegészítő információk (’ACTIVITY_EXT’): ’Modify’

    - Bejegyzés azonosító (’MAIN_ID’): NULL

    - Bejegyzés sub azonosító (’SUB_ID’): NULL

    - Előzmény felhasználói aktivitás azonosító (’PRE_ACTIVITY_ID’): NULL


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 47/48|

### **2.4.4. Az ablak szerkezeti leírása ** **Beviteli/megjelenítő mezők, kiválasztó lista (combo box), kapcsoló, rádiógomb **










|Felirat|Megnevezés|Súgó (Tooltip) szöveg|Kontrol típusa|Hossz|Maszk|Alapértelmezett érték|Törzstábla/kódtábla|
|---|---|---|---|---|---|---|---|
|HUBA azonosító|HUBA azonosító|-|switch|||Bekapcsolt||
|Kezdés ideje|Kezdés ideje|-|switch|||Bekapcsolt||
|Befejezés ideje|Befejezés ideje|-|switch|||Bekapcsolt||
|Főkód|Főkód|-|switch|||Bekapcsolt||
|Szolgálati hely|Szolgálati hely|-|switch|||Bekapcsolt||
|Terület|Terület|-|switch|||Bekapcsolt||
|Leírás|Leírás|-|switch|||Bekapcsolt||
|#89383 HUBA betűkód|HUBA betűkód|-|switch|||Bekapcsolt #89383||
|HUBA felelőse|HUBA felelőse|-|switch|||Bekapcsolt||
|HUBA állapota|HUBA állapota|-|switch|||Bekapcsolt||
|Utolsó állapotváltozás ideje|Utolsó állapotváltozás ideje|-|switch|||Bekapcsolt||
|HUBA jellege|HUBA jellege|-|switch|||Bekapcsolt||
|Bejelentő|Bejelentő|-|switch|||Bekapcsolt||
|Értesítési szint|Értesítési szint|-|switch|||Bekapcsolt||
|Értesítés kiadva|Értesítés kiadva|-|switch|||Bekapcsolt||
|HUBA kora|HUBA kora|-|switch|||Bekapcsolt||
|#96127 Kifogásolható Vasútvállalat|Kifogásolható Vasútvállalat|-|switch|||Bekapcsolt||


-----

|GVK_UC_H01 – HUBA bejegzyések|Col2|Azonosító: RRT_UC_H01|
|---|---|---|
|Készítette/módosította: MÁV SZK|Változat: 1.22|Oldal: 48/48|





|Nyomógombok|Col2|Col3|Col4|Col5|
|---|---|---|---|---|
|Felirat|Megnevezés|Súgó (Tooltip) szöveg|Alapértelmezés [megnyomható/nem nyomható meg]|Material ikon neve|
||Alkalmazás|-|megnyomható|-|
||Alaphelyzet|-|megnyomható|-|


**2.4.5.** **Hívott szolgáltatások**







|Funkciógomb/link/vezérlőelem esemény|Hívott ablak|Hívott szolgáltatás rövid megnevezése (azonosító)|
|---|---|---|
|Ablakbetöltés|-|S_15 - Beállítások lekérdezése|
|Ablakbetöltés|-|S_27 – Felhasználói aktivitás naplózása|
|- kapcsoló állapotának módosulásakor|-|S_16 - Beállítások mentése|
||-|S_27 – Felhasználói aktivitás naplózása|
|Ablakbezárás|-|S_27 – Felhasználói aktivitás naplózása|


**2.4.6.** **Rendszerüzenetek**

Nincs.

**2.4.7.** **Kódtáblák, választási listák**

Nincs.

**2.4.8.** **Rendszerparaméterek**

Nincs.


-----

